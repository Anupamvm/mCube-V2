INFO 2024-11-18 03:11:10,347 utils Note: NumExpr detected 64 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
INFO 2024-11-18 03:11:10,347 utils NumExpr defaulting to 8 threads.
DEBUG 2024-11-18 03:11:18,793 connectionpool Starting new HTTPS connection (1): napi.kotaksecurities.com:443
DEBUG 2024-11-18 03:11:19,699 connectionpool https://napi.kotaksecurities.com:443 "POST /oauth2/token HTTP/1.1" 200 None
DEBUG 2024-11-18 03:11:19,706 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 03:11:24,929 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
DEBUG 2024-11-18 03:11:24,933 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 03:11:25,093 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/otp/generate HTTP/1.1" 201 None
DEBUG 2024-11-18 03:11:25,116 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 03:11:25,291 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
INFO 2024-11-18 03:11:25,298 ksapi Login successful and client initialized.
INFO 2024-11-18 03:11:25,301 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 03:11:25,301 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 03:13:50,063 ksapi Subprocess output: {"data": {"access_token": "eyJ4NXQiOiJNbUprWWpVMlpETmpNelpqTURBM05UZ3pObUUxTm1NNU1qTXpNR1kyWm1OaFpHUTFNakE1TmciLCJraWQiOiJaalJqTUdRek9URmhPV1EwTm1WallXWTNZemRtWkdOa1pUUmpaVEUxTlRnMFkyWTBZVEUyTlRCaVlURTRNak5tWkRVeE5qZ3pPVGM0TWpGbFkyWXpOUV9SUzI1NiIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjbGllbnQ0Njc3OCIsImF1dCI6IkFQUExJQ0FUSU9OIiwiYXVkIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsIm5iZiI6MTczMTg5OTUyNSwiYXpwIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsInNjb3BlIjoiZGVmYXVsdCIsImlzcyI6Imh0dHBzOlwvXC9uYXBpLmtvdGFrc2VjdXJpdGllcy5jb206NDQzXC9vYXV0aDJcL3Rva2VuIiwiZXhwIjo1MzMxODk5NTI1LCJpYXQiOjE3MzE4OTk1MjUsImp0aSI6IjFjMDM1ODk1LTdmYzgtNGU0My1iZjU3LWQ5MDNhYTdlYTI4OSJ9.UiYhpN6LhKDUqlsXnqbrCW94wxL_g0clFSwokOdUdLkV4S6Xo9HGxqHiQqx2Nqf3-MHpxIZMfxGGP1klzqy-J0WXBDFh_W_3Mi2zlCYbOdBJMAYELuK78MHE7tCUMIQklOkWsuQ8go22DKwuT_oqDByIaAI1oq_UZQTgMitAoa-3w-9CGc-ljuNWNPcsw4m4VnKLbNjoNNKtah1IPN411TJakthiNO1_OP1oiywvAQpOWBnEKKvQ0DG2baOja3olLfBfH1kwnuaDn2h62iUYyO_vS3lUi2TXppXjrcJG_T1CflKimom3DwIb-5YepiVrfNfiAheV30pgiZgO9RZi7A", "scope": "default", "token_type": "Bearer", "expires_in": 3600000000}}
Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[OnError]: Connection to remote host was lost.

INFO 2024-11-18 03:13:50,067 basehttp "GET /p/getindex HTTP/1.1" 200 26
INFO 2024-11-18 03:13:50,067 basehttp "GET /p/getindex HTTP/1.1" 200 26
INFO 2024-11-18 03:16:02,773 ksapi Subprocess output: {"data": {"access_token": "eyJ4NXQiOiJNbUprWWpVMlpETmpNelpqTURBM05UZ3pObUUxTm1NNU1qTXpNR1kyWm1OaFpHUTFNakE1TmciLCJraWQiOiJaalJqTUdRek9URmhPV1EwTm1WallXWTNZemRtWkdOa1pUUmpaVEUxTlRnMFkyWTBZVEUyTlRCaVlURTRNak5tWkRVeE5qZ3pPVGM0TWpGbFkyWXpOUV9SUzI1NiIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjbGllbnQ0Njc3OCIsImF1dCI6IkFQUExJQ0FUSU9OIiwiYXVkIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsIm5iZiI6MTczMTg5OTY2MSwiYXpwIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsInNjb3BlIjoiZGVmYXVsdCIsImlzcyI6Imh0dHBzOlwvXC9uYXBpLmtvdGFrc2VjdXJpdGllcy5jb206NDQzXC9vYXV0aDJcL3Rva2VuIiwiZXhwIjo1MzMxODk5NjYxLCJpYXQiOjE3MzE4OTk2NjEsImp0aSI6IjNiOWM5MjZlLTU1MmItNDI1Zi04ZWI5LWQyZDFkY2MyYjQzZSJ9.Fwi5-iZcGTV4CDsQi5mguNmJoAddEPwY_yPSymRQyAfcqce01Z3a6oyhBrPrUQaau36vmLkigTDRc5_kA_uphABMl64Nad6yZL8Nf7z9Qzr5psKffYACrsgnpGYXiGsxK7xAYUuS-rtJ9eQw65o9LgvWtuPmyARZOgIVC6d6ho0alnyGApMzQXLXTt2-BEThnQS9zCLNjDkRYkzwt4yg47xfkwsZCoy5LUhPSERgDLhpjq4e73SC8sCSIimQysUynXXFNMxw5CmLRROGex43mF63WNJHZXzLwZTUA118uWzXNHd8y7s5bojBaLZfoy8OHbmAQo2IwWQLdENBEBl3fA", "scope": "default", "token_type": "Bearer", "expires_in": 3600000000}}
Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[OnError]: Connection to remote host was lost.

INFO 2024-11-18 03:16:02,776 basehttp "GET /p/getindex HTTP/1.1" 200 26
INFO 2024-11-18 03:16:02,776 basehttp "GET /p/getindex HTTP/1.1" 200 26
DEBUG 2024-11-18 03:17:09,677 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 03:17:10,070 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 401 None
INFO 2024-11-18 03:17:10,073 ksapi Raw search result: {'Error': KeyError('data'), 'message': 'Exchange Segment is not available'}
ERROR 2024-11-18 03:17:10,076 ksapi Error during search: 'pGroup'
ERROR 2024-11-18 03:17:10,076 log Internal Server Error: /p/getquote
ERROR 2024-11-18 03:17:10,076 log Internal Server Error: /p/getquote
ERROR 2024-11-18 03:17:10,077 basehttp "GET /p/getquote HTTP/1.1" 500 34
ERROR 2024-11-18 03:17:10,077 basehttp "GET /p/getquote HTTP/1.1" 500 34
DEBUG 2024-11-18 03:17:44,356 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 03:17:44,479 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 401 None
INFO 2024-11-18 03:17:44,482 ksapi Raw search result: {'Error': KeyError('data'), 'message': 'Exchange Segment is not available'}
ERROR 2024-11-18 03:17:44,484 ksapi Error during search: 'pGroup'
ERROR 2024-11-18 03:17:51,508 log Internal Server Error: /p/getquote
ERROR 2024-11-18 03:17:51,508 log Internal Server Error: /p/getquote
ERROR 2024-11-18 03:17:51,509 basehttp "GET /p/getquote HTTP/1.1" 500 34
ERROR 2024-11-18 03:17:51,509 basehttp "GET /p/getquote HTTP/1.1" 500 34
DEBUG 2024-11-18 03:18:22,981 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 03:18:23,102 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 401 None
INFO 2024-11-18 03:18:23,105 ksapi Raw search result: {'Error': KeyError('data'), 'message': 'Exchange Segment is not available'}
ERROR 2024-11-18 03:18:23,106 ksapi Error during search: 'pGroup'
ERROR 2024-11-18 03:18:35,757 log Internal Server Error: /p/getquote
ERROR 2024-11-18 03:18:35,757 log Internal Server Error: /p/getquote
ERROR 2024-11-18 03:18:35,758 basehttp "GET /p/getquote HTTP/1.1" 500 34
ERROR 2024-11-18 03:18:35,758 basehttp "GET /p/getquote HTTP/1.1" 500 34
DEBUG 2024-11-18 03:18:41,330 connectionpool Starting new HTTPS connection (1): napi.kotaksecurities.com:443
DEBUG 2024-11-18 03:18:42,134 connectionpool https://napi.kotaksecurities.com:443 "POST /oauth2/token HTTP/1.1" 200 None
DEBUG 2024-11-18 03:18:42,140 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 03:18:42,286 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
DEBUG 2024-11-18 03:18:42,291 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 03:18:42,470 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/otp/generate HTTP/1.1" 201 None
DEBUG 2024-11-18 03:18:42,475 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 03:18:42,613 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
INFO 2024-11-18 03:18:42,616 ksapi Login successful and client initialized.
INFO 2024-11-18 03:18:42,616 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 03:18:42,616 basehttp "GET /p/login HTTP/1.1" 200 40
DEBUG 2024-11-18 03:18:49,864 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 03:18:50,159 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 03:18:50,164 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 03:18:50,390 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_cm.csv HTTP/1.1" 200 2758322
INFO 2024-11-18 03:18:51,091 ksapi Raw search result: [{'pSymbol': 25946, 'pGroup': 'N0', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': '835TCSL27', 'pTrdSymbol': '835TCSL27-N0', 'pOptionType': None, 'pScripRefKey': '835TCSL27-N0', 'pISIN': 'INE729N07065', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TVS CREDIT 8.35% 2027', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 1, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 1414800000.0, 'pMaturityDate': None, 'pListingDate': 1414800000.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '80000.00-120000.00', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416069605.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 10000000.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 1000, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 12000000.0, 'dLowPriceRange': 8000000.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 50000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 1000}, {'pSymbol': 3799, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-EQ', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 484531200.0, 'pMaturityDate': None, 'pListingDate': 0.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '437.05-655.55', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 183021, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 65555.0, 'dLowPriceRange': 43705.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 183021}, {'pSymbol': 11536, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-EQ', 'pOptionType': None, 'pScripRefKey': 'TCS', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 777859200.0, 'pMaturityDate': None, 'pListingDate': 777859200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '3731.35-4560.45', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 21708, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 456045.0, 'dLowPriceRange': 373135.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 21708}, {'pSymbol': 12825, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-BL', 'pOptionType': None, 'pScripRefKey': 'TCS-BL', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '4104.45-4187.35', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071130.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 418735.0, 'dLowPriceRange': 410445.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}, {'pSymbol': 12897, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-BL', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR-BL', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '540.85-551.75', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071122.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 55175.0, 'dLowPriceRange': 54085.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}]
INFO 2024-11-18 03:18:55,011 ksapi Subprocess output: {"data": {"access_token": "eyJ4NXQiOiJNbUprWWpVMlpETmpNelpqTURBM05UZ3pObUUxTm1NNU1qTXpNR1kyWm1OaFpHUTFNakE1TmciLCJraWQiOiJaalJqTUdRek9URmhPV1EwTm1WallXWTNZemRtWkdOa1pUUmpaVEUxTlRnMFkyWTBZVEUyTlRCaVlURTRNak5tWkRVeE5qZ3pPVGM0TWpGbFkyWXpOUV9SUzI1NiIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjbGllbnQ0Njc3OCIsImF1dCI6IkFQUExJQ0FUSU9OIiwiYXVkIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsIm5iZiI6MTczMTg5OTkzMywiYXpwIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsInNjb3BlIjoiZGVmYXVsdCIsImlzcyI6Imh0dHBzOlwvXC9uYXBpLmtvdGFrc2VjdXJpdGllcy5jb206NDQzXC9vYXV0aDJcL3Rva2VuIiwiZXhwIjo1MzMxODk5OTMzLCJpYXQiOjE3MzE4OTk5MzMsImp0aSI6IjcxMjcwNTQzLTdiZWEtNGQwZi1hYTc1LTE1ODgwZjBkOTA1YSJ9.emXkq948Rgp8SjfX8RwFfmY_WuILxQrEexJTmIcU4AymuTItpUY2ZgoQYbqSJ2eVb1TOGEOe_q3ocsxlS7vAU082toDSjlwAL38-phP9djurJxBPK5dffj6AKna4zoXMWJCv1XGwd6fzOuzuuFCG2WGedVfvQGK2a5F0j3KAefd-nn9i0pomGRBllxIDG_ZDN5Vgt-cFwV_9qIJkC32g25u_Dtt53NAelLJ0PcvNtTlQA-cM5zVLfe_YevA-dELEviCUQ_GhRmtWopzXIz45Pa3EV8WYbEemCHPRYAc1bppqKz4y_45dLn2cniyfJu95_iDwFnksH4-sV9m3oA0kdg", "scope": "default", "token_type": "Bearer", "expires_in": 3600000000}}
Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[Res]: {'type': 'quotes', 'data': [{'last_traded_price': '546.30', 'last_traded_quantity': '10', 'lower_circuit_limit': '437.05', 'upper_circuit_limit': '655.55', '52week_high': '815.00', '52week_low': '524.10', 'multiplier': '1', 'precision': '2', 'change': '0.00', 'net_change_percentage': '0.00', 'instrument_token': '3799', 'exchange_segment': 'nse_cm', 'trading_symbol': 'WSTCSTPAPR-EQ', 'request_type': 'SNAP', 'ohlc': {'open': '537.10', 'high': '549.70', 'low': '528.35', 'close': '546.30'}}]}
[Res]: Full response dumped to /home/anupamvm/Projects/py/mCube-V2/mcube/ksneo/quotes_response.csv

INFO 2024-11-18 03:18:55,012 basehttp "GET /p/getquote HTTP/1.1" 200 26
INFO 2024-11-18 03:18:55,012 basehttp "GET /p/getquote HTTP/1.1" 200 26
INFO 2024-11-18 03:20:53,501 ksapi Subprocess output: {"data": {"access_token": "eyJ4NXQiOiJNbUprWWpVMlpETmpNelpqTURBM05UZ3pObUUxTm1NNU1qTXpNR1kyWm1OaFpHUTFNakE1TmciLCJraWQiOiJaalJqTUdRek9URmhPV1EwTm1WallXWTNZemRtWkdOa1pUUmpaVEUxTlRnMFkyWTBZVEUyTlRCaVlURTRNak5tWkRVeE5qZ3pPVGM0TWpGbFkyWXpOUV9SUzI1NiIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjbGllbnQ0Njc3OCIsImF1dCI6IkFQUExJQ0FUSU9OIiwiYXVkIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsIm5iZiI6MTczMTg5OTk1MiwiYXpwIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsInNjb3BlIjoiZGVmYXVsdCIsImlzcyI6Imh0dHBzOlwvXC9uYXBpLmtvdGFrc2VjdXJpdGllcy5jb206NDQzXC9vYXV0aDJcL3Rva2VuIiwiZXhwIjo1MzMxODk5OTUyLCJpYXQiOjE3MzE4OTk5NTIsImp0aSI6ImMyNzBlYThjLTI1ZTMtNDYwOC1hYzliLTc3NjgxY2YyYmI3NiJ9.Tedfz4M9TVRZivKanobD69D_WRvrbLjLN5T4Id-yyWcfodpVpBBcSsNbyl9dSCxXpiWVAMtNxa6TbSBsZP-aUsdcQDR8_cOZTTwDZ1ZDDydNY92uoYM9tQQwo-HbRme43OEocseYYzQ9LdlumhlcDlzDSaDSRGMgkfcW7T6rPYGprq401kHnRmt9O_c4zsgLRpPqC7pweYhWiEiaKLRZio_OIJW5kcb0FZcVseqWHd7vuY83h83Piv_CnwLYPdIBKcW6N8ck2MFLfWr5eTUGA2j66qeaUtLgpm2kfpNOcSA9UyriKIyZ3uiQ7ciyQoijMmXlJ2y_BDtTihQMIL7OdQ", "scope": "default", "token_type": "Bearer", "expires_in": 3600000000}}
Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[OnError]: Connection to remote host was lost.

INFO 2024-11-18 03:20:53,502 basehttp "GET /p/getindex HTTP/1.1" 200 26
INFO 2024-11-18 03:20:53,502 basehttp "GET /p/getindex HTTP/1.1" 200 26
INFO 2024-11-18 04:05:04,794 utils Note: NumExpr detected 64 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
INFO 2024-11-18 04:05:04,794 utils NumExpr defaulting to 8 threads.
INFO 2024-11-18 04:05:42,502 utils Note: NumExpr detected 64 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
INFO 2024-11-18 04:05:42,503 utils NumExpr defaulting to 8 threads.
DEBUG 2024-11-18 04:05:51,771 connectionpool Starting new HTTPS connection (1): napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:05:52,715 connectionpool https://napi.kotaksecurities.com:443 "POST /oauth2/token HTTP/1.1" 200 None
DEBUG 2024-11-18 04:05:52,722 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:05:52,858 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
DEBUG 2024-11-18 04:05:52,862 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:05:53,026 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/otp/generate HTTP/1.1" 201 None
DEBUG 2024-11-18 04:05:53,031 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:05:53,172 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
INFO 2024-11-18 04:05:53,177 ksapi Login successful and client initialized.
INFO 2024-11-18 04:05:53,183 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 04:05:53,183 basehttp "GET /p/login HTTP/1.1" 200 40
DEBUG 2024-11-18 04:06:23,167 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:06:23,460 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 04:06:23,465 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 04:06:23,712 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_cm.csv HTTP/1.1" 200 2758322
INFO 2024-11-18 04:06:24,200 ksapi Raw search result: {'message': 'No data found with the given search information.Please try with other combinations.'}
ERROR 2024-11-18 04:06:24,201 ksapi Error during search: 'pGroup'
ERROR 2024-11-18 04:06:24,203 log Internal Server Error: /p/getquote
ERROR 2024-11-18 04:06:24,203 log Internal Server Error: /p/getquote
ERROR 2024-11-18 04:06:24,204 basehttp "GET /p/getquote?symbol=%22Nifty%2050%22,index=True HTTP/1.1" 500 34
ERROR 2024-11-18 04:06:24,204 basehttp "GET /p/getquote?symbol=%22Nifty%2050%22,index=True HTTP/1.1" 500 34
INFO 2024-11-18 04:09:13,226 ksapi Subprocess output: {"data": {"access_token": "eyJ4NXQiOiJNbUprWWpVMlpETmpNelpqTURBM05UZ3pObUUxTm1NNU1qTXpNR1kyWm1OaFpHUTFNakE1TmciLCJraWQiOiJaalJqTUdRek9URmhPV1EwTm1WallXWTNZemRtWkdOa1pUUmpaVEUxTlRnMFkyWTBZVEUyTlRCaVlURTRNak5tWkRVeE5qZ3pPVGM0TWpGbFkyWXpOUV9SUzI1NiIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjbGllbnQ0Njc3OCIsImF1dCI6IkFQUExJQ0FUSU9OIiwiYXVkIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsIm5iZiI6MTczMTkwMjg1MSwiYXpwIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsInNjb3BlIjoiZGVmYXVsdCIsImlzcyI6Imh0dHBzOlwvXC9uYXBpLmtvdGFrc2VjdXJpdGllcy5jb206NDQzXC9vYXV0aDJcL3Rva2VuIiwiZXhwIjo1MzMxOTAyODUxLCJpYXQiOjE3MzE5MDI4NTEsImp0aSI6ImYwN2JlMDBiLTAwMmItNGNkNy04NjE4LTRjNTc4MDQ5ZDQ1OSJ9.RG7FOSXTSqMW2jtZ6kGHBweVBNss8etSUSfqDVhWVTYngJ4Y-m3QPXsjazuAa3ZOy_NAASTka7EAZzWxtxpeKDv8t9yQ8zd7gqoV22-FiPZSHzscJfRs1BeJ1rwmhY3X-0ek_TCkpD7plgBqxHQyjykuUV6HpcuONeXFgmOwoyUHjQK7l5jR9udy0nkCXEIYT9fB3fmKqm9yWkJA6GnR1TSM-MgHmHD7Es9B_c5TI2G2DfC2XdqgyFKc21YX7wrNgWf3WxnRRfJZXg8dvLIVkgOV7r3Vjbx2yWuP_haP1xoIbkrhPVGSOkBwjWtyM6ZWl7dykqrmQtwsZvO8nkYhRA", "scope": "default", "token_type": "Bearer", "expires_in": 3600000000}}
Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[OnError]: Connection to remote host was lost.

INFO 2024-11-18 04:09:13,229 basehttp "GET /p/getquote?symbol=%22Nifty%2050%22&index=True HTTP/1.1" 200 26
INFO 2024-11-18 04:09:13,229 basehttp "GET /p/getquote?symbol=%22Nifty%2050%22&index=True HTTP/1.1" 200 26
INFO 2024-11-18 04:10:48,228 ksapi Subprocess output: {"data": {"access_token": "eyJ4NXQiOiJNbUprWWpVMlpETmpNelpqTURBM05UZ3pObUUxTm1NNU1qTXpNR1kyWm1OaFpHUTFNakE1TmciLCJraWQiOiJaalJqTUdRek9URmhPV1EwTm1WallXWTNZemRtWkdOa1pUUmpaVEUxTlRnMFkyWTBZVEUyTlRCaVlURTRNak5tWkRVeE5qZ3pPVGM0TWpGbFkyWXpOUV9SUzI1NiIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjbGllbnQ0Njc3OCIsImF1dCI6IkFQUExJQ0FUSU9OIiwiYXVkIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsIm5iZiI6MTczMTkwMjk0NiwiYXpwIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsInNjb3BlIjoiZGVmYXVsdCIsImlzcyI6Imh0dHBzOlwvXC9uYXBpLmtvdGFrc2VjdXJpdGllcy5jb206NDQzXC9vYXV0aDJcL3Rva2VuIiwiZXhwIjo1MzMxOTAyOTQ2LCJpYXQiOjE3MzE5MDI5NDYsImp0aSI6IjliYTNiZDIwLWMxYjUtNDEzYy1iYzYwLTk0ZDAwZGY4NDhmMyJ9.IxX5zpdvNxp3n3TSbP3W-7q3qU5zHofKlGLCnADYP0XMi3KcuGrU2WFQwFF3OjwkN2j8x5O9Gjud6Ng74MBI9J6v1m4P1dpsY6VsNHsHCrnMZ2pYIWIkzSCWgmCWqxILis-CBHc1EihLmbwd1-AzKDY7vrNY2tRP9zIRhLLAckTc8S-QFJC7Wmje_6rilWeuPSy0AXyTQlM5xWe1CB_jg2Or2E9CEwbRLq2ZOxde0RQHiX4552usTzQAZrU4W7YqqpyRDAm5f0jfmK9gP9X2VIFQI9h8-6CS36JaZ3i8KP-v8OQ4H9U5oZVA7rOlV1zrKDVVAo0ePBQmRURnWGdp8g", "scope": "default", "token_type": "Bearer", "expires_in": 3600000000}}
Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[OnError]: Connection to remote host was lost.

INFO 2024-11-18 04:10:48,231 basehttp "GET /p/getquote?symbol=%27Nifty%20%2050%27&index=True HTTP/1.1" 200 26
INFO 2024-11-18 04:10:48,231 basehttp "GET /p/getquote?symbol=%27Nifty%20%2050%27&index=True HTTP/1.1" 200 26
INFO 2024-11-18 04:14:07,429 ksapi Subprocess output: {"data": {"access_token": "eyJ4NXQiOiJNbUprWWpVMlpETmpNelpqTURBM05UZ3pObUUxTm1NNU1qTXpNR1kyWm1OaFpHUTFNakE1TmciLCJraWQiOiJaalJqTUdRek9URmhPV1EwTm1WallXWTNZemRtWkdOa1pUUmpaVEUxTlRnMFkyWTBZVEUyTlRCaVlURTRNak5tWkRVeE5qZ3pPVGM0TWpGbFkyWXpOUV9SUzI1NiIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjbGllbnQ0Njc3OCIsImF1dCI6IkFQUExJQ0FUSU9OIiwiYXVkIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsIm5iZiI6MTczMTkwMzE0NiwiYXpwIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsInNjb3BlIjoiZGVmYXVsdCIsImlzcyI6Imh0dHBzOlwvXC9uYXBpLmtvdGFrc2VjdXJpdGllcy5jb206NDQzXC9vYXV0aDJcL3Rva2VuIiwiZXhwIjo1MzMxOTAzMTQ2LCJpYXQiOjE3MzE5MDMxNDYsImp0aSI6IjQzYTE4ZDJiLWU2NDEtNGUxOC05MTg3LTQxZDZjZTI4NzRkZiJ9.Aml4VOVRigBk_kJRFW16Cox6zzdzBRXLm2S2SZu1A31n6DKSTk9ArzbCipoII4wr5EqdlqTK6GUB67RK5R3pu3UQcM9mSU9UznOFPa2Uz6MbNfGGUex6qmqde_ATS34FT9-ZZFc8S3NRCvkCB7QaWa2-EdP2gjtfgdW9lSYwm7ZZnAuC2hi5tyOUIlqFBSL6gGzlh8DFktJO5_pS6f8u_dVFtzV_RP1KO76b1wp90xD2zLox3Fm5o0lG1PU0I33-qb5O_A6mFpeWAUt1-PA2N0B83bEvjDb_hptqRXd-PhCDYQ46lbfL5VkOOvR00UIBmNi9SmoMftof7CkCXR5XAw", "scope": "default", "token_type": "Bearer", "expires_in": 3600000000}}
Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[OnError]: Connection to remote host was lost.

INFO 2024-11-18 04:14:07,430 basehttp "GET /p/getquote?symbol=%27Nifty%20%2050%27&index=True HTTP/1.1" 200 26
INFO 2024-11-18 04:14:07,430 basehttp "GET /p/getquote?symbol=%27Nifty%20%2050%27&index=True HTTP/1.1" 200 26
INFO 2024-11-18 04:16:32,051 ksapi Subprocess output: {"data": {"access_token": "eyJ4NXQiOiJNbUprWWpVMlpETmpNelpqTURBM05UZ3pObUUxTm1NNU1qTXpNR1kyWm1OaFpHUTFNakE1TmciLCJraWQiOiJaalJqTUdRek9URmhPV1EwTm1WallXWTNZemRtWkdOa1pUUmpaVEUxTlRnMFkyWTBZVEUyTlRCaVlURTRNak5tWkRVeE5qZ3pPVGM0TWpGbFkyWXpOUV9SUzI1NiIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjbGllbnQ0Njc3OCIsImF1dCI6IkFQUExJQ0FUSU9OIiwiYXVkIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsIm5iZiI6MTczMTkwMzM5MCwiYXpwIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsInNjb3BlIjoiZGVmYXVsdCIsImlzcyI6Imh0dHBzOlwvXC9uYXBpLmtvdGFrc2VjdXJpdGllcy5jb206NDQzXC9vYXV0aDJcL3Rva2VuIiwiZXhwIjo1MzMxOTAzMzkwLCJpYXQiOjE3MzE5MDMzOTAsImp0aSI6ImYzMTBmNTcxLTRjMjMtNDgxYi1hYzY4LTFkZGFkYTk0YmU0NCJ9.aaOTMsvg38VE-tpUIYTID-LQ8APIhYIV2JfQatHqWcFYTds1VqQOdavxZuq2Je_6UWeeRB1Ujx5yiD388RTbl--RvhsBIx9uEiwz3ujbgvp3dAiqVKuxcvE9fl5o4bV7BLcZlg1facMLU_Ux2FcNH-1-09bEFBTk59EIaloVHPHh-pDYBbT30QUSeIHIvXRH1mXQUOAC45LRN2le1QYHtyZ6IzMVBXQikifGGJp9l6iotqktsRgstDtsiscKPc2CXyE_11Ug750iYQcUJRywgZ4RdfuSynCxf7sZta4VMdQtkupNp03MAzcGfSMRespWEt7lUkk4HxAm2k_AKejK6Q", "scope": "default", "token_type": "Bearer", "expires_in": 3600000000}}
Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[Res]: {'type': 'quotes', 'data': [{'last_traded_price': '23380.2', 'prev_day_close': '23532.7', 'timestamp': '18/11/2024 04:16:30', 'high_price': '23606.8', 'low_price': '23362.35', 'open': '23605.3', 'precision': '2', 'change': '-152.5', 'net_change_percentage': '-0.65', 'instrument_token': 'Nifty 50', 'exchange_segment': 'nse_cm'}]}
[Res]: Full response dumped to /home/anupamvm/Projects/py/mCube-V2/mcube/ksneo/quotes_response.csv

INFO 2024-11-18 04:16:32,052 basehttp "GET /p/getquote?symbol=Nifty%2050&index=True HTTP/1.1" 200 26
INFO 2024-11-18 04:16:32,052 basehttp "GET /p/getquote?symbol=Nifty%2050&index=True HTTP/1.1" 200 26
INFO 2024-11-18 04:18:27,271 utils Note: NumExpr detected 64 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
INFO 2024-11-18 04:18:27,272 utils NumExpr defaulting to 8 threads.
INFO 2024-11-18 04:19:20,106 utils Note: NumExpr detected 64 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
INFO 2024-11-18 04:19:20,107 utils NumExpr defaulting to 8 threads.
DEBUG 2024-11-18 04:19:37,740 connectionpool Starting new HTTPS connection (1): napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:19:38,711 connectionpool https://napi.kotaksecurities.com:443 "POST /oauth2/token HTTP/1.1" 200 None
DEBUG 2024-11-18 04:19:38,720 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:19:38,910 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
DEBUG 2024-11-18 04:19:38,915 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:19:39,090 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/otp/generate HTTP/1.1" 201 None
DEBUG 2024-11-18 04:19:39,095 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:19:39,237 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
INFO 2024-11-18 04:19:39,239 ksapi Login successful and client initialized.
INFO 2024-11-18 04:19:39,241 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 04:19:39,241 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 04:19:42,657 basehttp "GET /p/ HTTP/1.1" 200 383
INFO 2024-11-18 04:19:42,657 basehttp "GET /p/ HTTP/1.1" 200 383
INFO 2024-11-18 04:20:15,924 ksapi Subprocess output: {"data": {"access_token": "eyJ4NXQiOiJNbUprWWpVMlpETmpNelpqTURBM05UZ3pObUUxTm1NNU1qTXpNR1kyWm1OaFpHUTFNakE1TmciLCJraWQiOiJaalJqTUdRek9URmhPV1EwTm1WallXWTNZemRtWkdOa1pUUmpaVEUxTlRnMFkyWTBZVEUyTlRCaVlURTRNak5tWkRVeE5qZ3pPVGM0TWpGbFkyWXpOUV9SUzI1NiIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjbGllbnQ0Njc3OCIsImF1dCI6IkFQUExJQ0FUSU9OIiwiYXVkIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsIm5iZiI6MTczMTkwMzYwMiwiYXpwIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsInNjb3BlIjoiZGVmYXVsdCIsImlzcyI6Imh0dHBzOlwvXC9uYXBpLmtvdGFrc2VjdXJpdGllcy5jb206NDQzXC9vYXV0aDJcL3Rva2VuIiwiZXhwIjo1MzMxOTAzNjAyLCJpYXQiOjE3MzE5MDM2MDIsImp0aSI6IjU3OWEwMTNkLTI2ZjktNGFiNS05ODUwLWU3ODNjMjFlMDc3ZiJ9.NTBfHZmqxLam5YIGNQMcs0QnbDLxUaq1TEj2GH7JpWIqfNkm9geTiHSKYzjrkTni_slybKNFbvWS8pc2Ss57MR2D6jkBePOjeE7lsORRp_COckcUNc98jmOFI6IsSgn02Vc3Ims8PaVvS-Stw2jKjvGJAGWgipSRcR-Ak7Rn8pD6H_aCKQ-HGJn83Bs67gf2ygfQEMiD-e7Tai9A1lr_Lr7MjPbNo7jT5eNcRqyyLedECHkGP9ovaLumaAJ2IbLDesQHgFBPJS5SXqdobFRrWUS5YPSCZQhoQMyUfyylLgaMhY3mlBO0EwQjYEZpPO3kM3Gx4Nnmrn-HPjZKFGlVDw", "scope": "default", "token_type": "Bearer", "expires_in": 3600000000}}
Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[Res]: {'type': 'quotes', 'data': [{'last_traded_price': '23423.95', 'prev_day_close': '23532.7', 'timestamp': '18/11/2024 04:20:14', 'high_price': '23606.8', 'low_price': '23362.35', 'open': '23605.3', 'precision': '2', 'change': '-108.75', 'net_change_percentage': '-0.46', 'instrument_token': 'Nifty 50', 'exchange_segment': 'nse_cm'}]}
[Res]: Full response dumped to /home/anupamvm/Projects/py/mCube-V2/mcube/ksneo/quotes_response.csv

INFO 2024-11-18 04:20:15,927 basehttp "GET /p/getquote?symbol=Nifty%2050&index=True HTTP/1.1" 200 26
INFO 2024-11-18 04:20:15,927 basehttp "GET /p/getquote?symbol=Nifty%2050&index=True HTTP/1.1" 200 26
DEBUG 2024-11-18 04:21:23,860 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:21:23,983 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 401 None
INFO 2024-11-18 04:21:23,985 ksapi Raw search result: {'Error': KeyError('data'), 'message': 'Exchange Segment is not available'}
ERROR 2024-11-18 04:21:23,988 ksapi Error during search: 'pGroup'
ERROR 2024-11-18 04:21:38,580 log Internal Server Error: /p/getquote
ERROR 2024-11-18 04:21:38,580 log Internal Server Error: /p/getquote
ERROR 2024-11-18 04:21:38,581 basehttp "GET /p/getquote?symbol=TCS HTTP/1.1" 500 34
ERROR 2024-11-18 04:21:38,581 basehttp "GET /p/getquote?symbol=TCS HTTP/1.1" 500 34
DEBUG 2024-11-18 04:22:52,401 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:22:52,554 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 401 None
INFO 2024-11-18 04:23:11,071 ksapi Raw search result: {'Error': KeyError('data'), 'message': 'Exchange Segment is not available'}
ERROR 2024-11-18 04:23:24,035 ksapi Error during search: 'pGroup'
ERROR 2024-11-18 04:23:24,037 log Internal Server Error: /p/getquote
ERROR 2024-11-18 04:23:24,037 log Internal Server Error: /p/getquote
ERROR 2024-11-18 04:23:24,039 basehttp "GET /p/getquote?symbol=TCS HTTP/1.1" 500 34
ERROR 2024-11-18 04:23:24,039 basehttp "GET /p/getquote?symbol=TCS HTTP/1.1" 500 34
INFO 2024-11-18 04:25:34,143 utils Note: NumExpr detected 64 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
INFO 2024-11-18 04:25:34,144 utils NumExpr defaulting to 8 threads.
ERROR 2024-11-18 04:29:19,046 log Internal Server Error: /p/search
ERROR 2024-11-18 04:29:19,046 log Internal Server Error: /p/search
ERROR 2024-11-18 04:29:19,048 basehttp "GET /p/search HTTP/1.1" 500 72
ERROR 2024-11-18 04:29:19,048 basehttp "GET /p/search HTTP/1.1" 500 72
DEBUG 2024-11-18 04:29:24,646 connectionpool Starting new HTTPS connection (1): napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:29:25,783 connectionpool https://napi.kotaksecurities.com:443 "POST /oauth2/token HTTP/1.1" 200 None
DEBUG 2024-11-18 04:29:25,790 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:29:25,959 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
DEBUG 2024-11-18 04:29:25,964 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:29:26,135 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/otp/generate HTTP/1.1" 201 None
DEBUG 2024-11-18 04:29:26,140 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:29:26,272 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
INFO 2024-11-18 04:29:26,274 ksapi Login successful and client initialized.
INFO 2024-11-18 04:29:26,275 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 04:29:26,275 basehttp "GET /p/login HTTP/1.1" 200 40
DEBUG 2024-11-18 04:29:47,010 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:29:47,372 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 04:29:47,377 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 04:29:47,601 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_cm.csv HTTP/1.1" 200 2758322
INFO 2024-11-18 04:29:50,092 ksapi Raw search result: [{'pSymbol': 25946, 'pGroup': 'N0', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': '835TCSL27', 'pTrdSymbol': '835TCSL27-N0', 'pOptionType': None, 'pScripRefKey': '835TCSL27-N0', 'pISIN': 'INE729N07065', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TVS CREDIT 8.35% 2027', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 1, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 1414800000.0, 'pMaturityDate': None, 'pListingDate': 1414800000.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '80000.00-120000.00', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416069605.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 10000000.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 1000, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 12000000.0, 'dLowPriceRange': 8000000.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 50000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 1000}, {'pSymbol': 3799, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-EQ', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 484531200.0, 'pMaturityDate': None, 'pListingDate': 0.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '437.05-655.55', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 183021, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 65555.0, 'dLowPriceRange': 43705.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 183021}, {'pSymbol': 11536, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-EQ', 'pOptionType': None, 'pScripRefKey': 'TCS', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 777859200.0, 'pMaturityDate': None, 'pListingDate': 777859200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '3731.35-4560.45', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 21708, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 456045.0, 'dLowPriceRange': 373135.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 21708}, {'pSymbol': 12825, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-BL', 'pOptionType': None, 'pScripRefKey': 'TCS-BL', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '4104.45-4187.35', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071130.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 418735.0, 'dLowPriceRange': 410445.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}, {'pSymbol': 12897, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-BL', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR-BL', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '540.85-551.75', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071122.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 55175.0, 'dLowPriceRange': 54085.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}]
INFO 2024-11-18 04:30:13,725 basehttp "GET /p/search HTTP/1.1" 200 21
INFO 2024-11-18 04:30:13,725 basehttp "GET /p/search HTTP/1.1" 200 21
DEBUG 2024-11-18 04:31:00,652 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:31:00,933 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 04:31:00,937 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 04:31:01,166 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_cm.csv HTTP/1.1" 200 2758322
INFO 2024-11-18 04:31:06,915 ksapi Raw search result: [{'pSymbol': 25946, 'pGroup': 'N0', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': '835TCSL27', 'pTrdSymbol': '835TCSL27-N0', 'pOptionType': None, 'pScripRefKey': '835TCSL27-N0', 'pISIN': 'INE729N07065', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TVS CREDIT 8.35% 2027', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 1, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 1414800000.0, 'pMaturityDate': None, 'pListingDate': 1414800000.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '80000.00-120000.00', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416069605.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 10000000.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 1000, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 12000000.0, 'dLowPriceRange': 8000000.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 50000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 1000}, {'pSymbol': 3799, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-EQ', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 484531200.0, 'pMaturityDate': None, 'pListingDate': 0.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '437.05-655.55', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 183021, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 65555.0, 'dLowPriceRange': 43705.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 183021}, {'pSymbol': 11536, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-EQ', 'pOptionType': None, 'pScripRefKey': 'TCS', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 777859200.0, 'pMaturityDate': None, 'pListingDate': 777859200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '3731.35-4560.45', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 21708, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 456045.0, 'dLowPriceRange': 373135.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 21708}, {'pSymbol': 12825, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-BL', 'pOptionType': None, 'pScripRefKey': 'TCS-BL', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '4104.45-4187.35', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071130.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 418735.0, 'dLowPriceRange': 410445.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}, {'pSymbol': 12897, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-BL', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR-BL', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '540.85-551.75', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071122.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 55175.0, 'dLowPriceRange': 54085.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}]
INFO 2024-11-18 04:32:51,458 ksapi Subprocess output: {"data": {"access_token": "eyJ4NXQiOiJNbUprWWpVMlpETmpNelpqTURBM05UZ3pObUUxTm1NNU1qTXpNR1kyWm1OaFpHUTFNakE1TmciLCJraWQiOiJaalJqTUdRek9URmhPV1EwTm1WallXWTNZemRtWkdOa1pUUmpaVEUxTlRnMFkyWTBZVEUyTlRCaVlURTRNak5tWkRVeE5qZ3pPVGM0TWpGbFkyWXpOUV9SUzI1NiIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjbGllbnQ0Njc3OCIsImF1dCI6IkFQUExJQ0FUSU9OIiwiYXVkIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsIm5iZiI6MTczMTkwNDI3MCwiYXpwIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsInNjb3BlIjoiZGVmYXVsdCIsImlzcyI6Imh0dHBzOlwvXC9uYXBpLmtvdGFrc2VjdXJpdGllcy5jb206NDQzXC9vYXV0aDJcL3Rva2VuIiwiZXhwIjo1MzMxOTA0MjcwLCJpYXQiOjE3MzE5MDQyNzAsImp0aSI6IjM0YWZmYzY0LWIzMjUtNGM4My05MGJkLWFmM2VjMzNjNWMxNSJ9.as-BY76ceC14e33KOro-3CXapKa-GgnWmJtcRXwTcRHwgyofiO7CIY7YV6ehgIDwLB3HtDPNslOKMf4vUBTEq2M5-Ncc8zy5o3F0w6_OC_CtHvtbX98Npf1xnqkYJOXSXhPv9agdleZs1oL9gMr7Y-Gtf7BlI_aKQhoo7x_fjPxWBEAjASrZeox6-YkItG9FObYEoS1da671-ITsMH10WCZL0e5AmwtqZDzf2a9KhEUNokxrz69x-0aq7jrhYlY1YI2NiIXHGUn2laG1Yp0fceMobpijrP832N6Ax_sYwNVINC_QaZFiAlppzC21rOq9EtKn6QoZDc7l1NH6CtUTkw", "scope": "default", "token_type": "Bearer", "expires_in": 3600000000}}
Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[OnError]: Connection to remote host was lost.

INFO 2024-11-18 04:32:51,462 basehttp "GET /p/getquote HTTP/1.1" 200 26
INFO 2024-11-18 04:32:51,462 basehttp "GET /p/getquote HTTP/1.1" 200 26
DEBUG 2024-11-18 04:33:32,945 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:33:33,070 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 401 None
INFO 2024-11-18 04:33:33,074 ksapi Raw search result: {'Error': KeyError('data'), 'message': 'Exchange Segment is not available'}
ERROR 2024-11-18 04:33:33,076 ksapi Error during search: 'pGroup'
ERROR 2024-11-18 04:33:33,078 log Internal Server Error: /p/getquote
ERROR 2024-11-18 04:33:33,078 log Internal Server Error: /p/getquote
ERROR 2024-11-18 04:33:33,080 basehttp "GET /p/getquote HTTP/1.1" 500 34
ERROR 2024-11-18 04:33:33,080 basehttp "GET /p/getquote HTTP/1.1" 500 34
DEBUG 2024-11-18 04:33:57,900 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:33:58,106 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 401 None
INFO 2024-11-18 04:34:09,890 ksapi Raw search result: {'Error': KeyError('data'), 'message': 'Exchange Segment is not available'}
ERROR 2024-11-18 04:34:09,891 ksapi Error during search: 'pGroup'
ERROR 2024-11-18 04:34:09,893 log Internal Server Error: /p/getquote
ERROR 2024-11-18 04:34:09,893 log Internal Server Error: /p/getquote
ERROR 2024-11-18 04:34:09,894 basehttp "GET /p/getquote HTTP/1.1" 500 34
ERROR 2024-11-18 04:34:09,894 basehttp "GET /p/getquote HTTP/1.1" 500 34
DEBUG 2024-11-18 04:34:26,042 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:34:26,200 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 401 None
INFO 2024-11-18 04:34:29,684 ksapi Raw search result: {'Error': KeyError('data'), 'message': 'Exchange Segment is not available'}
ERROR 2024-11-18 04:34:29,686 ksapi Error during search: 'pGroup'
ERROR 2024-11-18 04:34:29,688 log Internal Server Error: /p/search
ERROR 2024-11-18 04:34:29,688 log Internal Server Error: /p/search
ERROR 2024-11-18 04:34:29,689 basehttp "GET /p/search HTTP/1.1" 500 34
ERROR 2024-11-18 04:34:29,689 basehttp "GET /p/search HTTP/1.1" 500 34
DEBUG 2024-11-18 04:34:44,993 connectionpool Starting new HTTPS connection (1): napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:34:45,972 connectionpool https://napi.kotaksecurities.com:443 "POST /oauth2/token HTTP/1.1" 200 None
DEBUG 2024-11-18 04:34:45,978 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:34:52,905 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
DEBUG 2024-11-18 04:34:52,910 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:34:53,081 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/otp/generate HTTP/1.1" 201 None
DEBUG 2024-11-18 04:34:53,086 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:34:53,258 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
INFO 2024-11-18 04:34:53,260 ksapi Login successful and client initialized.
INFO 2024-11-18 04:34:53,261 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 04:34:53,261 basehttp "GET /p/login HTTP/1.1" 200 40
DEBUG 2024-11-18 04:35:15,048 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:35:15,342 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 04:35:15,347 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 04:35:15,594 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_cm.csv HTTP/1.1" 200 2758322
INFO 2024-11-18 04:35:25,256 ksapi Raw search result: [{'pSymbol': 25946, 'pGroup': 'N0', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': '835TCSL27', 'pTrdSymbol': '835TCSL27-N0', 'pOptionType': None, 'pScripRefKey': '835TCSL27-N0', 'pISIN': 'INE729N07065', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TVS CREDIT 8.35% 2027', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 1, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 1414800000.0, 'pMaturityDate': None, 'pListingDate': 1414800000.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '80000.00-120000.00', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416069605.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 10000000.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 1000, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 12000000.0, 'dLowPriceRange': 8000000.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 50000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 1000}, {'pSymbol': 3799, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-EQ', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 484531200.0, 'pMaturityDate': None, 'pListingDate': 0.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '437.05-655.55', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 183021, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 65555.0, 'dLowPriceRange': 43705.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 183021}, {'pSymbol': 11536, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-EQ', 'pOptionType': None, 'pScripRefKey': 'TCS', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 777859200.0, 'pMaturityDate': None, 'pListingDate': 777859200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '3731.35-4560.45', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 21708, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 456045.0, 'dLowPriceRange': 373135.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 21708}, {'pSymbol': 12825, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-BL', 'pOptionType': None, 'pScripRefKey': 'TCS-BL', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '4104.45-4187.35', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071130.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 418735.0, 'dLowPriceRange': 410445.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}, {'pSymbol': 12897, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-BL', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR-BL', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '540.85-551.75', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071122.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 55175.0, 'dLowPriceRange': 54085.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}]
INFO 2024-11-18 04:37:19,448 ksapi Subprocess output: {"data": {"access_token": "eyJ4NXQiOiJNbUprWWpVMlpETmpNelpqTURBM05UZ3pObUUxTm1NNU1qTXpNR1kyWm1OaFpHUTFNakE1TmciLCJraWQiOiJaalJqTUdRek9URmhPV1EwTm1WallXWTNZemRtWkdOa1pUUmpaVEUxTlRnMFkyWTBZVEUyTlRCaVlURTRNak5tWkRVeE5qZ3pPVGM0TWpGbFkyWXpOUV9SUzI1NiIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjbGllbnQ0Njc3OCIsImF1dCI6IkFQUExJQ0FUSU9OIiwiYXVkIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsIm5iZiI6MTczMTkwNDUzOCwiYXpwIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsInNjb3BlIjoiZGVmYXVsdCIsImlzcyI6Imh0dHBzOlwvXC9uYXBpLmtvdGFrc2VjdXJpdGllcy5jb206NDQzXC9vYXV0aDJcL3Rva2VuIiwiZXhwIjo1MzMxOTA0NTM4LCJpYXQiOjE3MzE5MDQ1MzgsImp0aSI6ImY5MzEyZGNhLTQzOTAtNDRkZi04MmUxLWEzYzAxMTg3YjE3OSJ9.K_dFbsC3CXA7Xt0eH1fLo5JeIi0sNRmDOHBU1dVUItDDxhT4twBnmgijCZEGvmj_psgbgY18GGGStA3hgpw6JbsIjQR8HgxkdMRRt7J37lb-mT-UA-hrR_0U88102kZnkxnpHxXi-5ZAsKLd6cegeY-Fc6ZIkzaSMEbAcM11yva2CMz_U37GlHACwM1xzRlUzmS8g5jpeXtrdH5iVuhE_BDNZvjcX9rtYm6Iq-07pupfAlORDEhfSvVbibZexzTMrBpKVwKkpBoZxt-qX9AMYoyMh-WNssXxcujOv2mehFl-dD1znsukkoDWHKN6ZlC9qH0Cw3x65aJPMEkyq33T8g", "scope": "default", "token_type": "Bearer", "expires_in": 3600000000}}
Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[OnError]: Connection to remote host was lost.

INFO 2024-11-18 04:37:22,819 basehttp "GET /p/getquote HTTP/1.1" 200 26
INFO 2024-11-18 04:37:22,819 basehttp "GET /p/getquote HTTP/1.1" 200 26
DEBUG 2024-11-18 04:37:28,627 connectionpool Starting new HTTPS connection (1): napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:37:29,467 connectionpool https://napi.kotaksecurities.com:443 "POST /oauth2/token HTTP/1.1" 200 None
DEBUG 2024-11-18 04:37:29,473 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:37:29,616 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
DEBUG 2024-11-18 04:37:29,621 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:37:29,789 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/otp/generate HTTP/1.1" 201 None
DEBUG 2024-11-18 04:37:29,794 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:37:29,934 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
INFO 2024-11-18 04:37:29,937 ksapi Login successful and client initialized.
INFO 2024-11-18 04:37:29,938 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 04:37:29,938 basehttp "GET /p/login HTTP/1.1" 200 40
DEBUG 2024-11-18 04:37:52,552 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:37:52,820 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 04:37:52,825 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 04:37:53,087 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_cm.csv HTTP/1.1" 200 2758322
INFO 2024-11-18 04:37:54,911 ksapi Raw search result: [{'pSymbol': 25946, 'pGroup': 'N0', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': '835TCSL27', 'pTrdSymbol': '835TCSL27-N0', 'pOptionType': None, 'pScripRefKey': '835TCSL27-N0', 'pISIN': 'INE729N07065', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TVS CREDIT 8.35% 2027', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 1, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 1414800000.0, 'pMaturityDate': None, 'pListingDate': 1414800000.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '80000.00-120000.00', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416069605.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 10000000.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 1000, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 12000000.0, 'dLowPriceRange': 8000000.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 50000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 1000}, {'pSymbol': 3799, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-EQ', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 484531200.0, 'pMaturityDate': None, 'pListingDate': 0.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '437.05-655.55', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 183021, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 65555.0, 'dLowPriceRange': 43705.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 183021}, {'pSymbol': 11536, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-EQ', 'pOptionType': None, 'pScripRefKey': 'TCS', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 777859200.0, 'pMaturityDate': None, 'pListingDate': 777859200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '3731.35-4560.45', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 21708, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 456045.0, 'dLowPriceRange': 373135.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 21708}, {'pSymbol': 12825, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-BL', 'pOptionType': None, 'pScripRefKey': 'TCS-BL', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '4104.45-4187.35', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071130.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 418735.0, 'dLowPriceRange': 410445.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}, {'pSymbol': 12897, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-BL', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR-BL', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '540.85-551.75', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071122.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 55175.0, 'dLowPriceRange': 54085.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}]
INFO 2024-11-18 04:41:00,946 ksapi Subprocess output: {"data": {"access_token": "eyJ4NXQiOiJNbUprWWpVMlpETmpNelpqTURBM05UZ3pObUUxTm1NNU1qTXpNR1kyWm1OaFpHUTFNakE1TmciLCJraWQiOiJaalJqTUdRek9URmhPV1EwTm1WallXWTNZemRtWkdOa1pUUmpaVEUxTlRnMFkyWTBZVEUyTlRCaVlURTRNak5tWkRVeE5qZ3pPVGM0TWpGbFkyWXpOUV9SUzI1NiIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjbGllbnQ0Njc3OCIsImF1dCI6IkFQUExJQ0FUSU9OIiwiYXVkIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsIm5iZiI6MTczMTkwNDc1NiwiYXpwIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsInNjb3BlIjoiZGVmYXVsdCIsImlzcyI6Imh0dHBzOlwvXC9uYXBpLmtvdGFrc2VjdXJpdGllcy5jb206NDQzXC9vYXV0aDJcL3Rva2VuIiwiZXhwIjo1MzMxOTA0NzU2LCJpYXQiOjE3MzE5MDQ3NTYsImp0aSI6IjVkOGU4NjEzLWIzNjAtNDM0Mi1iN2EzLTU5NDE2MTNkM2Q2OSJ9.PUMykOT5JqnykZvObdLd_8Zy9_zpICDRy786qtbKq3fr_y2D6JddRz_cod8lF7h-XGbuZzVvS4sV-uIxjZeOEqLM_iKPbUYrs0GOGDd6iHZWEGDiqubWlN6uirj0IXNNJhcCmj4gyAO1cJo9dJVN-aA9Q2w3IsCVpl_PXyGcgvBV52sPyGjHyNeb2SAdwVfMy0QXOQDkUFsftI7ME3sXojfjvSI2O8xXWHbInkU4aN5xPencIKKSAbOmm3fLJJHJXDvuINvK2SmNP786524WUveXcWEeq3VrcnveNh5Ce73FV5XJoZ1R-1OqTsvPTQtmed3x9z_IIqB4FmdS68nXrg", "scope": "default", "token_type": "Bearer", "expires_in": 3600000000}}
Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[OnError]: Connection to remote host was lost.

INFO 2024-11-18 04:41:00,948 basehttp "GET /p/getquote HTTP/1.1" 200 26
INFO 2024-11-18 04:41:00,948 basehttp "GET /p/getquote HTTP/1.1" 200 26
INFO 2024-11-18 04:49:00,499 utils Note: NumExpr detected 64 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
INFO 2024-11-18 04:49:00,500 utils NumExpr defaulting to 8 threads.
DEBUG 2024-11-18 04:49:07,422 connectionpool Starting new HTTPS connection (1): napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:49:08,520 connectionpool https://napi.kotaksecurities.com:443 "POST /oauth2/token HTTP/1.1" 200 None
DEBUG 2024-11-18 04:49:08,527 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:49:08,668 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
DEBUG 2024-11-18 04:49:08,674 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:49:08,830 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/otp/generate HTTP/1.1" 201 None
DEBUG 2024-11-18 04:49:08,835 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:49:08,972 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
INFO 2024-11-18 04:49:08,975 ksapi Login successful and client initialized.
INFO 2024-11-18 04:49:08,977 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 04:49:08,977 basehttp "GET /p/login HTTP/1.1" 200 40
DEBUG 2024-11-18 04:49:25,299 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:49:25,563 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 04:49:25,568 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 04:49:25,844 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_cm.csv HTTP/1.1" 200 2758322
INFO 2024-11-18 04:49:26,534 ksapi Raw search result: [{'pSymbol': 25946, 'pGroup': 'N0', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': '835TCSL27', 'pTrdSymbol': '835TCSL27-N0', 'pOptionType': None, 'pScripRefKey': '835TCSL27-N0', 'pISIN': 'INE729N07065', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TVS CREDIT 8.35% 2027', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 1, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 1414800000.0, 'pMaturityDate': None, 'pListingDate': 1414800000.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '80000.00-120000.00', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416069605.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 10000000.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 1000, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 12000000.0, 'dLowPriceRange': 8000000.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 50000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 1000}, {'pSymbol': 3799, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-EQ', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 484531200.0, 'pMaturityDate': None, 'pListingDate': 0.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '437.05-655.55', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 183021, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 65555.0, 'dLowPriceRange': 43705.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 183021}, {'pSymbol': 11536, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-EQ', 'pOptionType': None, 'pScripRefKey': 'TCS', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 777859200.0, 'pMaturityDate': None, 'pListingDate': 777859200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '3731.35-4560.45', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 21708, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 456045.0, 'dLowPriceRange': 373135.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 21708}, {'pSymbol': 12825, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-BL', 'pOptionType': None, 'pScripRefKey': 'TCS-BL', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '4104.45-4187.35', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071130.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 418735.0, 'dLowPriceRange': 410445.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}, {'pSymbol': 12897, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-BL', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR-BL', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '540.85-551.75', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071122.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 55175.0, 'dLowPriceRange': 54085.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}]
INFO 2024-11-18 04:49:33,264 ksapi Subprocess output: {"data": {"access_token": "eyJ4NXQiOiJNbUprWWpVMlpETmpNelpqTURBM05UZ3pObUUxTm1NNU1qTXpNR1kyWm1OaFpHUTFNakE1TmciLCJraWQiOiJaalJqTUdRek9URmhPV1EwTm1WallXWTNZemRtWkdOa1pUUmpaVEUxTlRnMFkyWTBZVEUyTlRCaVlURTRNak5tWkRVeE5qZ3pPVGM0TWpGbFkyWXpOUV9SUzI1NiIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjbGllbnQ0Njc3OCIsImF1dCI6IkFQUExJQ0FUSU9OIiwiYXVkIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsIm5iZiI6MTczMTkwNTM3MSwiYXpwIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsInNjb3BlIjoiZGVmYXVsdCIsImlzcyI6Imh0dHBzOlwvXC9uYXBpLmtvdGFrc2VjdXJpdGllcy5jb206NDQzXC9vYXV0aDJcL3Rva2VuIiwiZXhwIjo1MzMxOTA1MzcxLCJpYXQiOjE3MzE5MDUzNzEsImp0aSI6IjQ2Yjc3ZDA0LWI2NzktNGIxMy1iMmVmLTFjNGE3MjgyOWU2NiJ9.D2vXj16mydcU1C8UNSH2HPNjJFC2fMTlVART7WBE3XlPFZ-GNOaKC8qKGT9pNKYTg5IOZVKigo4Q-H9x28WTI9RKG8IrVKWTSmcI14AnNqhc4sDLHaTqEfKb0nQ6qfLeIRKxfNGBl4SxylaIV0GCKKyiWqQKvhhTed_nGSRMtJYHqf33IRrbXf8vBbeqt0MsoKwoC6438FV9KwCec7gfiT8C4BfDQBAaD5Ga5vSqrWjDvUADf8IrJb3ZiasjP1XZUaoiLT_bdXP_RgwIw5Jyw7yD5a3_tsuIYbTa4nrR2LFpkmcft_sPVtaNi6M0tvDeSlSeua7iLU_BHa3RjcR5aw", "scope": "default", "token_type": "Bearer", "expires_in": 3600000000}}
Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[Res]: {'type': 'quotes', 'data': [{'last_traded_time': '18/11/2024 04:49:31', 'volume': '27311', 'last_traded_price': '535.85', 'last_traded_quantity': '3', 'total_buy_quantity': '21033', 'total_sell_quantity': '21053', 'buy_price': '534.60', 'sell_price': '535.85', 'buy_quantity': '28', 'average_price': '540.51', 'lower_circuit_limit': '437.05', 'upper_circuit_limit': '655.55', '52week_high': '815.00', '52week_low': '524.10', 'multiplier': '1', 'precision': '2', 'change': '-10.45', 'net_change_percentage': '-1.91', 'total_traded_value': '14761868.61', 'instrument_token': '3799', 'exchange_segment': 'nse_cm', 'trading_symbol': 'WSTCSTPAPR-EQ', 'request_type': 'SNAP', 'ohlc': {'open': '544.90', 'high': '551.45', 'low': '532.10', 'close': '546.30'}}]}
[Res]: Full response dumped to /home/anupamvm/Projects/py/mCube-V2/mcube/ksneo/quotes_response.csv

INFO 2024-11-18 04:49:33,268 basehttp "GET /p/getquote HTTP/1.1" 200 26
INFO 2024-11-18 04:49:33,268 basehttp "GET /p/getquote HTTP/1.1" 200 26
DEBUG 2024-11-18 04:50:00,752 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:50:00,874 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 401 None
INFO 2024-11-18 04:50:00,877 ksapi Raw search result: {'Error': KeyError('data'), 'message': 'Exchange Segment is not available'}
ERROR 2024-11-18 04:50:00,878 ksapi Error during search: 'pGroup'
ERROR 2024-11-18 04:50:00,879 log Internal Server Error: /p/getquote
ERROR 2024-11-18 04:50:00,879 log Internal Server Error: /p/getquote
ERROR 2024-11-18 04:50:00,880 basehttp "GET /p/getquote HTTP/1.1" 500 34
ERROR 2024-11-18 04:50:00,880 basehttp "GET /p/getquote HTTP/1.1" 500 34
DEBUG 2024-11-18 04:50:04,607 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:50:04,768 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 401 None
INFO 2024-11-18 04:50:04,770 ksapi Raw search result: {'Error': KeyError('data'), 'message': 'Exchange Segment is not available'}
ERROR 2024-11-18 04:50:04,771 ksapi Error during search: 'pGroup'
ERROR 2024-11-18 04:50:04,772 log Internal Server Error: /p/getquote
ERROR 2024-11-18 04:50:04,772 log Internal Server Error: /p/getquote
ERROR 2024-11-18 04:50:04,773 basehttp "GET /p/getquote HTTP/1.1" 500 34
ERROR 2024-11-18 04:50:04,773 basehttp "GET /p/getquote HTTP/1.1" 500 34
DEBUG 2024-11-18 04:50:13,144 connectionpool Starting new HTTPS connection (1): napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:50:13,396 connectionpool https://napi.kotaksecurities.com:443 "POST /oauth2/token HTTP/1.1" 200 None
DEBUG 2024-11-18 04:50:13,402 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:50:13,560 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
DEBUG 2024-11-18 04:50:13,565 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:50:13,816 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/otp/generate HTTP/1.1" 201 None
DEBUG 2024-11-18 04:50:13,821 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:50:13,968 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
INFO 2024-11-18 04:50:13,971 ksapi Login successful and client initialized.
INFO 2024-11-18 04:50:13,972 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 04:50:13,972 basehttp "GET /p/login HTTP/1.1" 200 40
DEBUG 2024-11-18 04:50:19,807 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:50:20,116 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 04:50:20,121 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 04:50:20,451 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_cm.csv HTTP/1.1" 200 2758322
INFO 2024-11-18 04:50:22,307 ksapi Raw search result: [{'pSymbol': 25946, 'pGroup': 'N0', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': '835TCSL27', 'pTrdSymbol': '835TCSL27-N0', 'pOptionType': None, 'pScripRefKey': '835TCSL27-N0', 'pISIN': 'INE729N07065', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TVS CREDIT 8.35% 2027', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 1, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 1414800000.0, 'pMaturityDate': None, 'pListingDate': 1414800000.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '80000.00-120000.00', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416069605.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 10000000.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 1000, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 12000000.0, 'dLowPriceRange': 8000000.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 50000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 1000}, {'pSymbol': 3799, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-EQ', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 484531200.0, 'pMaturityDate': None, 'pListingDate': 0.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '437.05-655.55', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 183021, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 65555.0, 'dLowPriceRange': 43705.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 183021}, {'pSymbol': 11536, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-EQ', 'pOptionType': None, 'pScripRefKey': 'TCS', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 777859200.0, 'pMaturityDate': None, 'pListingDate': 777859200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '3731.35-4560.45', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 21708, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 456045.0, 'dLowPriceRange': 373135.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 21708}, {'pSymbol': 12825, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-BL', 'pOptionType': None, 'pScripRefKey': 'TCS-BL', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '4104.45-4187.35', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071130.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 418735.0, 'dLowPriceRange': 410445.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}, {'pSymbol': 12897, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-BL', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR-BL', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '540.85-551.75', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071122.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 55175.0, 'dLowPriceRange': 54085.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}]
INFO 2024-11-18 04:50:25,126 ksapi Subprocess output: {"data": {"access_token": "eyJ4NXQiOiJNbUprWWpVMlpETmpNelpqTURBM05UZ3pObUUxTm1NNU1qTXpNR1kyWm1OaFpHUTFNakE1TmciLCJraWQiOiJaalJqTUdRek9URmhPV1EwTm1WallXWTNZemRtWkdOa1pUUmpaVEUxTlRnMFkyWTBZVEUyTlRCaVlURTRNak5tWkRVeE5qZ3pPVGM0TWpGbFkyWXpOUV9SUzI1NiIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjbGllbnQ0Njc3OCIsImF1dCI6IkFQUExJQ0FUSU9OIiwiYXVkIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsIm5iZiI6MTczMTkwNTQyMywiYXpwIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsInNjb3BlIjoiZGVmYXVsdCIsImlzcyI6Imh0dHBzOlwvXC9uYXBpLmtvdGFrc2VjdXJpdGllcy5jb206NDQzXC9vYXV0aDJcL3Rva2VuIiwiZXhwIjo1MzMxOTA1NDIzLCJpYXQiOjE3MzE5MDU0MjMsImp0aSI6ImI0MzVhZWFlLTcwMzEtNDUyZC1hZmI5LTQ4ODM3Yzk0YzM2NyJ9.gzrfPt3jAT5wOfC6F31e5ZO9sD_JnEa0y3egQgUtsah5kSdrv5qsPS-T_WFFHcFTRc-NwpXCCwLzlDJk-XOItqvXMVcBluDOcumyrbmsz7wVDSFZpbaAmpaEJRFFXU_qR727oyMZgXqm1RhdaTlf2a3I7ZJeehg4xiTKVptyTedHuAUGFbs70eq7_g7p0dk8F4BMZc3REZC1mmSiqnMNzXQV3WrsH4SyhhSwOaEIHy0YO0c46W54WOpWnUh2WK9h5s4CssDL7ETMPQyBJ-8pKa4MRrhQGaaTcYkbg6RnzFARQ93tRtQ3Zn3QAumaJIKnA51s3PxPG2ySGy7OCEg0nA", "scope": "default", "token_type": "Bearer", "expires_in": 3600000000}}
Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[Res]: {'type': 'quotes', 'data': [{'last_traded_time': '18/11/2024 04:50:05', 'volume': '27638', 'last_traded_price': '536.00', 'last_traded_quantity': '2', 'total_buy_quantity': '21043', 'total_sell_quantity': '21114', 'buy_price': '535.05', 'sell_price': '535.80', 'buy_quantity': '1', 'average_price': '540.45', 'lower_circuit_limit': '437.05', 'upper_circuit_limit': '655.55', '52week_high': '815.00', '52week_low': '524.10', 'multiplier': '1', 'precision': '2', 'change': '-10.30', 'net_change_percentage': '-1.89', 'total_traded_value': '14936957.10', 'instrument_token': '3799', 'exchange_segment': 'nse_cm', 'trading_symbol': 'WSTCSTPAPR-EQ', 'request_type': 'SNAP', 'ohlc': {'open': '544.90', 'high': '551.45', 'low': '532.10', 'close': '546.30'}}]}
[Res]: Full response dumped to /home/anupamvm/Projects/py/mCube-V2/mcube/ksneo/quotes_response.csv

INFO 2024-11-18 04:50:25,127 basehttp "GET /p/getquote HTTP/1.1" 200 26
INFO 2024-11-18 04:50:25,127 basehttp "GET /p/getquote HTTP/1.1" 200 26
DEBUG 2024-11-18 04:51:19,633 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:51:20,004 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 04:51:20,009 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 04:51:20,222 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_cm.csv HTTP/1.1" 200 2758322
INFO 2024-11-18 04:51:20,746 ksapi Raw search result: [{'pSymbol': 25946, 'pGroup': 'N0', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': '835TCSL27', 'pTrdSymbol': '835TCSL27-N0', 'pOptionType': None, 'pScripRefKey': '835TCSL27-N0', 'pISIN': 'INE729N07065', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TVS CREDIT 8.35% 2027', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 1, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 1414800000.0, 'pMaturityDate': None, 'pListingDate': 1414800000.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '80000.00-120000.00', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416069605.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 10000000.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 1000, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 12000000.0, 'dLowPriceRange': 8000000.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 50000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 1000}, {'pSymbol': 3799, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-EQ', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 484531200.0, 'pMaturityDate': None, 'pListingDate': 0.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '437.05-655.55', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 183021, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 65555.0, 'dLowPriceRange': 43705.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 183021}, {'pSymbol': 11536, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-EQ', 'pOptionType': None, 'pScripRefKey': 'TCS', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 777859200.0, 'pMaturityDate': None, 'pListingDate': 777859200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '3731.35-4560.45', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 21708, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 456045.0, 'dLowPriceRange': 373135.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 21708}, {'pSymbol': 12825, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-BL', 'pOptionType': None, 'pScripRefKey': 'TCS-BL', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '4104.45-4187.35', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071130.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 418735.0, 'dLowPriceRange': 410445.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}, {'pSymbol': 12897, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-BL', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR-BL', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '540.85-551.75', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071122.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 55175.0, 'dLowPriceRange': 54085.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}]
INFO 2024-11-18 04:51:23,771 ksapi Subprocess output: {"data": {"access_token": "eyJ4NXQiOiJNbUprWWpVMlpETmpNelpqTURBM05UZ3pObUUxTm1NNU1qTXpNR1kyWm1OaFpHUTFNakE1TmciLCJraWQiOiJaalJqTUdRek9URmhPV1EwTm1WallXWTNZemRtWkdOa1pUUmpaVEUxTlRnMFkyWTBZVEUyTlRCaVlURTRNak5tWkRVeE5qZ3pPVGM0TWpGbFkyWXpOUV9SUzI1NiIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjbGllbnQ0Njc3OCIsImF1dCI6IkFQUExJQ0FUSU9OIiwiYXVkIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsIm5iZiI6MTczMTkwNTQ4MiwiYXpwIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsInNjb3BlIjoiZGVmYXVsdCIsImlzcyI6Imh0dHBzOlwvXC9uYXBpLmtvdGFrc2VjdXJpdGllcy5jb206NDQzXC9vYXV0aDJcL3Rva2VuIiwiZXhwIjo1MzMxOTA1NDgyLCJpYXQiOjE3MzE5MDU0ODIsImp0aSI6IjlmZGU4OWIzLWNjYTItNDdiYi04NjFiLTY0ZDc2ZWYyNTJhNyJ9.bNonw3FbJCMXEnrS9rF7ht303qi2tuAdBFR1zyKA6AEwkldmn7j4S_J67DjnpfzNUrU0vGHR96P6MM6Av3nj0uE39GoCewKJpMXvLT0hflvLoovgzAJ0ywpdhXGZrEK7grNueGfaHrE7pfK6nS64oHfpczDANYltvWR5LOkGaNxNARHvSHMlK4JASELQOuqSN6daLL1vVeb_x4aQkFPSD0qW7DsbTXhB--vqiei4ZyXmnkA0p5pGUtNlm8mMaQa2yVkIRaKUsMnVbtAkhXux7m_n4CTu15ADiL_ZxXVnOD0OpZXZ6Xwsaq51QhJYdcTZiSjY2pAKfQ57yy9umIEG5w", "scope": "default", "token_type": "Bearer", "expires_in": 3600000000}}
Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[Res]: {'type': 'quotes', 'data': [{'last_traded_time': '18/11/2024 04:50:46', 'volume': '27754', 'last_traded_price': '536.10', 'last_traded_quantity': '1', 'total_buy_quantity': '21157', 'total_sell_quantity': '20997', 'buy_price': '535.30', 'sell_price': '536.00', 'buy_quantity': '11', 'average_price': '540.44', 'lower_circuit_limit': '437.05', 'upper_circuit_limit': '655.55', '52week_high': '815.00', '52week_low': '524.10', 'multiplier': '1', 'precision': '2', 'change': '-10.20', 'net_change_percentage': '-1.87', 'total_traded_value': '14999371.76', 'instrument_token': '3799', 'exchange_segment': 'nse_cm', 'trading_symbol': 'WSTCSTPAPR-EQ', 'request_type': 'SNAP', 'ohlc': {'open': '544.90', 'high': '551.45', 'low': '532.10', 'close': '546.30'}}]}
[Res]: Full response dumped to /home/anupamvm/Projects/py/mCube-V2/mcube/ksneo/quotes_response.csv

INFO 2024-11-18 04:51:23,772 basehttp "GET /p/getquote HTTP/1.1" 200 26
INFO 2024-11-18 04:51:23,772 basehttp "GET /p/getquote HTTP/1.1" 200 26
DEBUG 2024-11-18 04:53:51,393 connectionpool Starting new HTTPS connection (1): napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:53:52,240 connectionpool https://napi.kotaksecurities.com:443 "POST /oauth2/token HTTP/1.1" 200 None
DEBUG 2024-11-18 04:53:52,245 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:53:52,441 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
DEBUG 2024-11-18 04:53:52,445 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:53:52,608 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/otp/generate HTTP/1.1" 201 None
DEBUG 2024-11-18 04:53:52,613 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:53:52,769 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
INFO 2024-11-18 04:53:52,772 ksapi Login successful and client initialized.
INFO 2024-11-18 04:53:52,773 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 04:53:52,773 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 04:53:54,247 ksapi Subprocess output: {"data": {"access_token": "eyJ4NXQiOiJNbUprWWpVMlpETmpNelpqTURBM05UZ3pObUUxTm1NNU1qTXpNR1kyWm1OaFpHUTFNakE1TmciLCJraWQiOiJaalJqTUdRek9URmhPV1EwTm1WallXWTNZemRtWkdOa1pUUmpaVEUxTlRnMFkyWTBZVEUyTlRCaVlURTRNak5tWkRVeE5qZ3pPVGM0TWpGbFkyWXpOUV9SUzI1NiIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjbGllbnQ0Njc3OCIsImF1dCI6IkFQUExJQ0FUSU9OIiwiYXVkIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsIm5iZiI6MTczMTkwNTUzMiwiYXpwIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsInNjb3BlIjoiZGVmYXVsdCIsImlzcyI6Imh0dHBzOlwvXC9uYXBpLmtvdGFrc2VjdXJpdGllcy5jb206NDQzXC9vYXV0aDJcL3Rva2VuIiwiZXhwIjo1MzMxOTA1NTMyLCJpYXQiOjE3MzE5MDU1MzIsImp0aSI6ImJmODQ1MWFlLTIxZTEtNGNjMi1iOTNiLWYwOGFiNzUxZjM4OSJ9.TvGa3GN7UO-Qf2Hg31oe8GrG-wxq4xygEPU8ODGaiDwYD9-KOj5n5bNpG-Nm0aqcny58fXR3i237rrTpF4qomIiidbAV6Zwq0rSfSO4ZAI5OZTohQLEWUcGjlEKkbiYPoBaGsfgZiiEF4cP-AZccn0Tg2ojbEpxFhlbSbTy56IaZlG7ReKcfd3Yp_KsbUWmY_8E7hI30HL0nAmRT5eb0S49BKaat6HQCp9_Blm1sP_4PmM5ybaNi9LYeWRL6KLaTouSNdRfrduAdsRzS1BVwxv8A9vU-piZfw2edBI5zegJ9HW5PlMAu4GvFTOikqFTgyNP0Nf7eCGMc-vNk64B9rw", "scope": "default", "token_type": "Bearer", "expires_in": 3600000000}}
Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[OnError]: Connection to remote host was lost.

DEBUG 2024-11-18 04:54:00,880 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:54:01,135 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 04:54:01,139 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 04:54:01,333 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_cm.csv HTTP/1.1" 200 2758322
INFO 2024-11-18 04:54:01,975 ksapi Raw search result: [{'pSymbol': 25946, 'pGroup': 'N0', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': '835TCSL27', 'pTrdSymbol': '835TCSL27-N0', 'pOptionType': None, 'pScripRefKey': '835TCSL27-N0', 'pISIN': 'INE729N07065', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TVS CREDIT 8.35% 2027', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 1, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 1414800000.0, 'pMaturityDate': None, 'pListingDate': 1414800000.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '80000.00-120000.00', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416069605.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 10000000.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 1000, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 12000000.0, 'dLowPriceRange': 8000000.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 50000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 1000}, {'pSymbol': 3799, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-EQ', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 484531200.0, 'pMaturityDate': None, 'pListingDate': 0.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '437.05-655.55', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 183021, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 65555.0, 'dLowPriceRange': 43705.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 183021}, {'pSymbol': 11536, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-EQ', 'pOptionType': None, 'pScripRefKey': 'TCS', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 777859200.0, 'pMaturityDate': None, 'pListingDate': 777859200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '3731.35-4560.45', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 21708, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 456045.0, 'dLowPriceRange': 373135.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 21708}, {'pSymbol': 12825, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-BL', 'pOptionType': None, 'pScripRefKey': 'TCS-BL', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '4104.45-4187.35', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071130.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 418735.0, 'dLowPriceRange': 410445.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}, {'pSymbol': 12897, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-BL', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR-BL', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '540.85-551.75', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071122.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 55175.0, 'dLowPriceRange': 54085.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}]
INFO 2024-11-18 04:54:04,808 ksapi Subprocess output: {"data": {"access_token": "eyJ4NXQiOiJNbUprWWpVMlpETmpNelpqTURBM05UZ3pObUUxTm1NNU1qTXpNR1kyWm1OaFpHUTFNakE1TmciLCJraWQiOiJaalJqTUdRek9URmhPV1EwTm1WallXWTNZemRtWkdOa1pUUmpaVEUxTlRnMFkyWTBZVEUyTlRCaVlURTRNak5tWkRVeE5qZ3pPVGM0TWpGbFkyWXpOUV9SUzI1NiIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjbGllbnQ0Njc3OCIsImF1dCI6IkFQUExJQ0FUSU9OIiwiYXVkIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsIm5iZiI6MTczMTkwNTY0MywiYXpwIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsInNjb3BlIjoiZGVmYXVsdCIsImlzcyI6Imh0dHBzOlwvXC9uYXBpLmtvdGFrc2VjdXJpdGllcy5jb206NDQzXC9vYXV0aDJcL3Rva2VuIiwiZXhwIjo1MzMxOTA1NjQzLCJpYXQiOjE3MzE5MDU2NDMsImp0aSI6IjliYmNmZWU5LWJjMDktNDZiNC04OWFiLTkwMmFjYzczMTg4YyJ9.eZ0iLT15_RTApBKEOGXnYkqVlTad586BFxpi-ELMYO95jzphnd3SL414DaohFVUxWdIn3SRVo17KD7IH6r6CJLATiW-xRdsXr2szbG0HgpU8Pq1TjtYPMs_vPWQgiQYrmzt8G2SodyL2m1-roDHN6gXVNiSp5yKz1EFu11bWClW5BcV_GePrxPqx6er-4RKh9TYaepsj2oGWhHslTw5TZuIW5XGJZP-Ax4sdZKAHT_9irjDXd-EBapZLG95LZonKcKOqqV6jBRNYsJpc9M6zVImKxpj41LLKR6crDfgOIEJBpme_EzOAFUIULTsx_RpK000PHN1Rq8PSkUT2PX80zg", "scope": "default", "token_type": "Bearer", "expires_in": 3600000000}}
Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[Res]: {'type': 'quotes', 'data': [{'last_traded_time': '18/11/2024 04:53:56', 'volume': '27914', 'last_traded_price': '536.30', 'last_traded_quantity': '1', 'total_buy_quantity': '19311', 'total_sell_quantity': '18997', 'buy_price': '535.70', 'sell_price': '536.30', 'buy_quantity': '28', 'average_price': '540.41', 'lower_circuit_limit': '437.05', 'upper_circuit_limit': '655.55', '52week_high': '815.00', '52week_low': '524.10', 'multiplier': '1', 'precision': '2', 'change': '-10.00', 'net_change_percentage': '-1.83', 'total_traded_value': '15085004.74', 'instrument_token': '3799', 'exchange_segment': 'nse_cm', 'trading_symbol': 'WSTCSTPAPR-EQ', 'request_type': 'SNAP', 'ohlc': {'open': '544.90', 'high': '551.45', 'low': '532.10', 'close': '546.30'}}]}
[Res]: Full response dumped to /home/anupamvm/Projects/py/mCube-V2/mcube/ksneo/quotes_response.csv

INFO 2024-11-18 04:54:04,809 basehttp "GET /p/getquote HTTP/1.1" 200 26
INFO 2024-11-18 04:54:04,809 basehttp "GET /p/getquote HTTP/1.1" 200 26
DEBUG 2024-11-18 04:54:47,978 connectionpool Starting new HTTPS connection (1): napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:54:48,178 connectionpool https://napi.kotaksecurities.com:443 "POST /oauth2/token HTTP/1.1" 200 None
DEBUG 2024-11-18 04:54:48,184 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:54:48,398 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
DEBUG 2024-11-18 04:54:48,403 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:54:48,542 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/otp/generate HTTP/1.1" 500 None
DEBUG 2024-11-18 04:54:48,546 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 04:54:48,736 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
INFO 2024-11-18 04:54:48,739 ksapi Login successful and client initialized.
INFO 2024-11-18 04:54:48,740 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 04:54:48,740 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 05:03:43,041 utils Note: NumExpr detected 64 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
INFO 2024-11-18 05:03:43,041 utils NumExpr defaulting to 8 threads.
DEBUG 2024-11-18 05:03:48,275 connectionpool Starting new HTTPS connection (1): napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:03:49,098 connectionpool https://napi.kotaksecurities.com:443 "POST /oauth2/token HTTP/1.1" 200 None
DEBUG 2024-11-18 05:03:49,106 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:03:49,281 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
DEBUG 2024-11-18 05:03:49,287 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:03:49,474 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/otp/generate HTTP/1.1" 201 None
DEBUG 2024-11-18 05:03:49,479 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:03:49,618 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
INFO 2024-11-18 05:03:49,620 ksapi Login successful and client initialized.
INFO 2024-11-18 05:03:49,622 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 05:03:49,622 basehttp "GET /p/login HTTP/1.1" 200 40
DEBUG 2024-11-18 05:03:52,429 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:03:52,710 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 05:03:52,715 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 05:03:53,016 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_cm.csv HTTP/1.1" 200 2758322
INFO 2024-11-18 05:03:53,635 ksapi Raw search result: [{'pSymbol': 25946, 'pGroup': 'N0', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': '835TCSL27', 'pTrdSymbol': '835TCSL27-N0', 'pOptionType': None, 'pScripRefKey': '835TCSL27-N0', 'pISIN': 'INE729N07065', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TVS CREDIT 8.35% 2027', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 1, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 1414800000.0, 'pMaturityDate': None, 'pListingDate': 1414800000.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '80000.00-120000.00', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416069605.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 10000000.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 1000, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 12000000.0, 'dLowPriceRange': 8000000.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 50000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 1000}, {'pSymbol': 3799, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-EQ', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 484531200.0, 'pMaturityDate': None, 'pListingDate': 0.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '437.05-655.55', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 183021, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 65555.0, 'dLowPriceRange': 43705.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 183021}, {'pSymbol': 11536, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-EQ', 'pOptionType': None, 'pScripRefKey': 'TCS', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 777859200.0, 'pMaturityDate': None, 'pListingDate': 777859200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '3731.35-4560.45', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 21708, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 456045.0, 'dLowPriceRange': 373135.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 21708}, {'pSymbol': 12825, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-BL', 'pOptionType': None, 'pScripRefKey': 'TCS-BL', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '4104.45-4187.35', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071130.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 418735.0, 'dLowPriceRange': 410445.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}, {'pSymbol': 12897, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-BL', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR-BL', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '540.85-551.75', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071122.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 55175.0, 'dLowPriceRange': 54085.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}]
INFO 2024-11-18 05:04:57,460 ksapi Subprocess output: {"data": {"access_token": "eyJ4NXQiOiJNbUprWWpVMlpETmpNelpqTURBM05UZ3pObUUxTm1NNU1qTXpNR1kyWm1OaFpHUTFNakE1TmciLCJraWQiOiJaalJqTUdRek9URmhPV1EwTm1WallXWTNZemRtWkdOa1pUUmpaVEUxTlRnMFkyWTBZVEUyTlRCaVlURTRNak5tWkRVeE5qZ3pPVGM0TWpGbFkyWXpOUV9SUzI1NiIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjbGllbnQ0Njc3OCIsImF1dCI6IkFQUExJQ0FUSU9OIiwiYXVkIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsIm5iZiI6MTczMTkwNjI5NSwiYXpwIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsInNjb3BlIjoiZGVmYXVsdCIsImlzcyI6Imh0dHBzOlwvXC9uYXBpLmtvdGFrc2VjdXJpdGllcy5jb206NDQzXC9vYXV0aDJcL3Rva2VuIiwiZXhwIjo1MzMxOTA2Mjk1LCJpYXQiOjE3MzE5MDYyOTUsImp0aSI6IjhkZTMyZWZmLTBmNWUtNGMyNi1iMWEzLWI2NmZhNmRjMzg4NyJ9.N1WJT43n6IZl7eChFB23hpMD8ho65e3gKnGBhd_f_w1G28zsKfQ6rmGjkXY8uPTdWcSEYoen311__ZuL6vH05v1PUwNc-S1v6q66FxvIFr-QsUs7MyPyVbCqMlrnpTVER-VlqMFzWeb5yRRPyYtf9qokf9FhjLGMk4m2aPpC2SGwfDzmnXSgBN7O2up5WrzqC3qSWtmsCLgnYTZovJ2UVlQXsq0P04m6zgr1Hq4bUEPj-2BpItPArnky_cOCF7w3p2VaxZ0MaVVUQ5FXQdh6gtZZZxfHuEeME4Cb8FEPgPoKEzEnkmobwnlKKV_gytGJElMvzIi-AcDdloYTTfsSUQ", "scope": "default", "token_type": "Bearer", "expires_in": 3600000000}}
Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[Res]: {'type': 'quotes', 'data': [{'last_traded_time': '18/11/2024 05:03:57', 'volume': '29904', 'last_traded_price': '533.65', 'last_traded_quantity': '4', 'total_buy_quantity': '19548', 'total_sell_quantity': '19463', 'buy_price': '532.20', 'sell_price': '532.85', 'buy_quantity': '19', 'average_price': '539.98', 'lower_circuit_limit': '437.05', 'upper_circuit_limit': '655.55', '52week_high': '815.00', '52week_low': '524.10', 'multiplier': '1', 'precision': '2', 'change': '-12.65', 'net_change_percentage': '-2.32', 'total_traded_value': '16147561.92', 'instrument_token': '3799', 'exchange_segment': 'nse_cm', 'trading_symbol': 'WSTCSTPAPR-EQ', 'request_type': 'SNAP', 'ohlc': {'open': '544.90', 'high': '551.45', 'low': '532.10', 'close': '546.30'}}]}
[Res]: Full response dumped to /home/anupamvm/Projects/py/mCube-V2/mcube/ksneo/quotes_response.csv

INFO 2024-11-18 05:04:57,463 basehttp "GET /p/getquote HTTP/1.1" 200 26
INFO 2024-11-18 05:04:57,463 basehttp "GET /p/getquote HTTP/1.1" 200 26
DEBUG 2024-11-18 05:05:11,106 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:05:11,358 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 401 None
INFO 2024-11-18 05:05:11,360 ksapi Raw search result: {'Error': KeyError('data'), 'message': 'Exchange Segment is not available'}
ERROR 2024-11-18 05:05:11,362 ksapi Error during search: 'pGroup'
ERROR 2024-11-18 05:05:11,362 log Internal Server Error: /p/getquote
ERROR 2024-11-18 05:05:11,362 log Internal Server Error: /p/getquote
ERROR 2024-11-18 05:05:11,363 basehttp "GET /p/getquote HTTP/1.1" 500 34
ERROR 2024-11-18 05:05:11,363 basehttp "GET /p/getquote HTTP/1.1" 500 34
DEBUG 2024-11-18 05:05:15,554 connectionpool Starting new HTTPS connection (1): napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:05:15,766 connectionpool https://napi.kotaksecurities.com:443 "POST /oauth2/token HTTP/1.1" 200 None
DEBUG 2024-11-18 05:05:15,772 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:05:15,924 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
DEBUG 2024-11-18 05:05:15,929 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:05:16,061 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/otp/generate HTTP/1.1" 500 None
DEBUG 2024-11-18 05:05:16,065 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:05:16,205 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
INFO 2024-11-18 05:05:16,207 ksapi Login successful and client initialized.
INFO 2024-11-18 05:05:16,208 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 05:05:16,208 basehttp "GET /p/login HTTP/1.1" 200 40
DEBUG 2024-11-18 05:05:20,112 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:05:20,531 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 05:05:20,535 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 05:05:20,817 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_cm.csv HTTP/1.1" 200 2758322
INFO 2024-11-18 05:05:21,486 ksapi Raw search result: [{'pSymbol': 25946, 'pGroup': 'N0', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': '835TCSL27', 'pTrdSymbol': '835TCSL27-N0', 'pOptionType': None, 'pScripRefKey': '835TCSL27-N0', 'pISIN': 'INE729N07065', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TVS CREDIT 8.35% 2027', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 1, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 1414800000.0, 'pMaturityDate': None, 'pListingDate': 1414800000.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '80000.00-120000.00', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416069605.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 10000000.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 1000, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 12000000.0, 'dLowPriceRange': 8000000.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 50000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 1000}, {'pSymbol': 3799, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-EQ', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 484531200.0, 'pMaturityDate': None, 'pListingDate': 0.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '437.05-655.55', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 183021, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 65555.0, 'dLowPriceRange': 43705.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 183021}, {'pSymbol': 11536, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-EQ', 'pOptionType': None, 'pScripRefKey': 'TCS', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 777859200.0, 'pMaturityDate': None, 'pListingDate': 777859200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '3731.35-4560.45', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 21708, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 456045.0, 'dLowPriceRange': 373135.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 21708}, {'pSymbol': 12825, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-BL', 'pOptionType': None, 'pScripRefKey': 'TCS-BL', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '4104.45-4187.35', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071130.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 418735.0, 'dLowPriceRange': 410445.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}, {'pSymbol': 12897, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-BL', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR-BL', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '540.85-551.75', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071122.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 55175.0, 'dLowPriceRange': 54085.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}]
INFO 2024-11-18 05:05:26,335 ksapi Subprocess output: {"data": {"access_token": "eyJ4NXQiOiJNbUprWWpVMlpETmpNelpqTURBM05UZ3pObUUxTm1NNU1qTXpNR1kyWm1OaFpHUTFNakE1TmciLCJraWQiOiJaalJqTUdRek9URmhPV1EwTm1WallXWTNZemRtWkdOa1pUUmpaVEUxTlRnMFkyWTBZVEUyTlRCaVlURTRNak5tWkRVeE5qZ3pPVGM0TWpGbFkyWXpOUV9SUzI1NiIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjbGllbnQ0Njc3OCIsImF1dCI6IkFQUExJQ0FUSU9OIiwiYXVkIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsIm5iZiI6MTczMTkwNjMyNCwiYXpwIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsInNjb3BlIjoiZGVmYXVsdCIsImlzcyI6Imh0dHBzOlwvXC9uYXBpLmtvdGFrc2VjdXJpdGllcy5jb206NDQzXC9vYXV0aDJcL3Rva2VuIiwiZXhwIjo1MzMxOTA2MzI0LCJpYXQiOjE3MzE5MDYzMjQsImp0aSI6IjFmNDkzOTUzLTA5Y2UtNDY2ZS1hOWUxLTI1Nzg0ZDYwODU5ZCJ9.AN0LcF34edXooQiJLlHV_7kuyt0X7amB14v6t9L9hhmBupvKqa1DdOqj00LFEyiPes3WSeG1JuHsbHfyTI6D8tdJvftAng8P90S7Gmz3hlikl6YWK7DfPK2tx63-Z-KDPex6PGSNb7o1TklHK6m9C2t2WD9Znl9HgogQ3Liqy3yzO7iJG3JNpzH_Vw-PJcgABqcX4NPGicL9MhdASL1es54cdmJQWt3C9VbBEVcv9-lcveNocdvlrcawvGO4AnY7JoZ-mAi6ylmiIyjd7EjJMk4-CY6oG0Q_Asl-sHLFiQ1wVQdKqa7yeWRWBvKb-cts7iLuVaWPdow0m3lPndaKdw", "scope": "default", "token_type": "Bearer", "expires_in": 3600000000}}
Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[Res]: {'type': 'quotes', 'data': [{'last_traded_time': '18/11/2024 05:05:22', 'volume': '29934', 'last_traded_price': '532.10', 'last_traded_quantity': '3', 'total_buy_quantity': '19421', 'total_sell_quantity': '19601', 'buy_price': '532.00', 'sell_price': '532.10', 'buy_quantity': '380', 'average_price': '539.97', 'lower_circuit_limit': '437.05', 'upper_circuit_limit': '655.55', '52week_high': '815.00', '52week_low': '524.10', 'multiplier': '1', 'precision': '2', 'change': '-14.20', 'net_change_percentage': '-2.60', 'total_traded_value': '16163461.98', 'instrument_token': '3799', 'exchange_segment': 'nse_cm', 'trading_symbol': 'WSTCSTPAPR-EQ', 'request_type': 'SNAP', 'ohlc': {'open': '544.90', 'high': '551.45', 'low': '532.05', 'close': '546.30'}}]}
[Res]: Full response dumped to /home/anupamvm/Projects/py/mCube-V2/mcube/ksneo/quotes_response.csv

INFO 2024-11-18 05:05:26,336 basehttp "GET /p/getquote HTTP/1.1" 200 26
INFO 2024-11-18 05:05:26,336 basehttp "GET /p/getquote HTTP/1.1" 200 26
DEBUG 2024-11-18 05:05:39,933 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:05:40,060 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 401 None
INFO 2024-11-18 05:05:40,063 ksapi Raw search result: {'Error': KeyError('data'), 'message': 'Exchange Segment is not available'}
ERROR 2024-11-18 05:05:40,066 ksapi Error during search: 'pGroup'
ERROR 2024-11-18 05:05:40,067 log Internal Server Error: /p/getquote
ERROR 2024-11-18 05:05:40,067 log Internal Server Error: /p/getquote
ERROR 2024-11-18 05:05:40,068 basehttp "GET /p/getquote HTTP/1.1" 500 34
ERROR 2024-11-18 05:05:40,068 basehttp "GET /p/getquote HTTP/1.1" 500 34
DEBUG 2024-11-18 05:05:42,580 connectionpool Starting new HTTPS connection (1): napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:05:42,892 connectionpool https://napi.kotaksecurities.com:443 "POST /oauth2/token HTTP/1.1" 200 None
DEBUG 2024-11-18 05:05:42,897 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:05:43,052 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
DEBUG 2024-11-18 05:05:43,056 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:05:43,221 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/otp/generate HTTP/1.1" 201 None
DEBUG 2024-11-18 05:05:43,226 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:05:43,367 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
INFO 2024-11-18 05:05:43,369 ksapi Login successful and client initialized.
INFO 2024-11-18 05:05:43,370 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 05:05:43,370 basehttp "GET /p/login HTTP/1.1" 200 40
DEBUG 2024-11-18 05:05:46,020 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:05:46,284 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 05:05:46,289 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 05:05:46,472 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_cm.csv HTTP/1.1" 200 2758322
INFO 2024-11-18 05:05:46,990 ksapi Raw search result: [{'pSymbol': 25946, 'pGroup': 'N0', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': '835TCSL27', 'pTrdSymbol': '835TCSL27-N0', 'pOptionType': None, 'pScripRefKey': '835TCSL27-N0', 'pISIN': 'INE729N07065', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TVS CREDIT 8.35% 2027', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 1, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 1414800000.0, 'pMaturityDate': None, 'pListingDate': 1414800000.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '80000.00-120000.00', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416069605.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 10000000.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 1000, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 12000000.0, 'dLowPriceRange': 8000000.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 50000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 1000}, {'pSymbol': 3799, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-EQ', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 484531200.0, 'pMaturityDate': None, 'pListingDate': 0.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '437.05-655.55', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 183021, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 65555.0, 'dLowPriceRange': 43705.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 183021}, {'pSymbol': 11536, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-EQ', 'pOptionType': None, 'pScripRefKey': 'TCS', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 777859200.0, 'pMaturityDate': None, 'pListingDate': 777859200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '3731.35-4560.45', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 21708, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 456045.0, 'dLowPriceRange': 373135.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 21708}, {'pSymbol': 12825, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-BL', 'pOptionType': None, 'pScripRefKey': 'TCS-BL', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '4104.45-4187.35', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071130.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 418735.0, 'dLowPriceRange': 410445.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}, {'pSymbol': 12897, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-BL', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR-BL', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '540.85-551.75', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071122.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 55175.0, 'dLowPriceRange': 54085.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}]
INFO 2024-11-18 05:05:52,434 ksapi Subprocess output: {"data": {"access_token": "eyJ4NXQiOiJNbUprWWpVMlpETmpNelpqTURBM05UZ3pObUUxTm1NNU1qTXpNR1kyWm1OaFpHUTFNakE1TmciLCJraWQiOiJaalJqTUdRek9URmhPV1EwTm1WallXWTNZemRtWkdOa1pUUmpaVEUxTlRnMFkyWTBZVEUyTlRCaVlURTRNak5tWkRVeE5qZ3pPVGM0TWpGbFkyWXpOUV9SUzI1NiIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjbGllbnQ0Njc3OCIsImF1dCI6IkFQUExJQ0FUSU9OIiwiYXVkIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsIm5iZiI6MTczMTkwNjM1MSwiYXpwIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsInNjb3BlIjoiZGVmYXVsdCIsImlzcyI6Imh0dHBzOlwvXC9uYXBpLmtvdGFrc2VjdXJpdGllcy5jb206NDQzXC9vYXV0aDJcL3Rva2VuIiwiZXhwIjo1MzMxOTA2MzUxLCJpYXQiOjE3MzE5MDYzNTEsImp0aSI6IjU5MzVjNzI5LWUwNWQtNGJkYi1iY2I2LTM2MDNjZWY4MmY4ZiJ9.QkvWXiT2KHpgJsN6UZxcZ9o65qhWx7Mk4twBGjpbRmkO6B19hJKRrlZyYoqhHloxYn8V66pHfriC-C0B9T1ATmIucGhN1fXhK-P6FF4wRDIrXfObgVwHgQryssTBjyVRoWYJh6N-QDcI0Da50EaZ0qYYMgH33uNvjEhmKXtOZhrO0jg0M2kjwSkDb9jc-jVMs0c82tz8FmAIUxWj5N4FR-pMEY8HJWPszjlxk3u3wq2QZDyeA5x2uKWI-rB436GNPGdMHZj7zUAD-neBzUjLWvrDCFoju-B-txxm3Vk0_DMHrljImTIz3cgnwahFSBfpSa8szUBZlbT1kEhDe-myjw", "scope": "default", "token_type": "Bearer", "expires_in": 3600000000}}
Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[Res]: {'type': 'quotes', 'data': [{'last_traded_time': '18/11/2024 05:05:38', 'volume': '30358', 'last_traded_price': '531.90', 'last_traded_quantity': '1', 'total_buy_quantity': '18999', 'total_sell_quantity': '19282', 'buy_price': '531.60', 'sell_price': '531.90', 'buy_quantity': '10', 'average_price': '539.86', 'lower_circuit_limit': '437.05', 'upper_circuit_limit': '655.55', '52week_high': '815.00', '52week_low': '524.10', 'multiplier': '1', 'precision': '2', 'change': '-14.40', 'net_change_percentage': '-2.64', 'total_traded_value': '16389069.88', 'instrument_token': '3799', 'exchange_segment': 'nse_cm', 'trading_symbol': 'WSTCSTPAPR-EQ', 'request_type': 'SNAP', 'ohlc': {'open': '544.90', 'high': '551.45', 'low': '531.90', 'close': '546.30'}}]}
[Res]: Full response dumped to /home/anupamvm/Projects/py/mCube-V2/mcube/ksneo/quotes_response.csv

INFO 2024-11-18 05:05:52,435 basehttp "GET /p/getquote HTTP/1.1" 200 26
INFO 2024-11-18 05:05:52,435 basehttp "GET /p/getquote HTTP/1.1" 200 26
DEBUG 2024-11-18 05:06:00,563 connectionpool Starting new HTTPS connection (1): napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:06:00,754 connectionpool https://napi.kotaksecurities.com:443 "POST /oauth2/token HTTP/1.1" 200 None
DEBUG 2024-11-18 05:06:00,760 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:06:00,903 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
DEBUG 2024-11-18 05:06:00,907 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:06:01,042 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/otp/generate HTTP/1.1" 500 None
DEBUG 2024-11-18 05:06:01,046 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:06:01,180 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
INFO 2024-11-18 05:06:01,183 ksapi Login successful and client initialized.
INFO 2024-11-18 05:06:01,184 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 05:06:01,184 basehttp "GET /p/login HTTP/1.1" 200 40
DEBUG 2024-11-18 05:06:48,378 connectionpool Starting new HTTPS connection (1): napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:06:48,616 connectionpool https://napi.kotaksecurities.com:443 "POST /oauth2/token HTTP/1.1" 200 None
DEBUG 2024-11-18 05:06:48,621 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:06:48,759 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
DEBUG 2024-11-18 05:06:48,764 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:06:48,894 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/otp/generate HTTP/1.1" 500 None
DEBUG 2024-11-18 05:06:48,898 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:06:49,038 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
INFO 2024-11-18 05:06:49,040 ksapi Login successful and client initialized.
INFO 2024-11-18 05:06:49,041 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 05:06:49,041 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 05:08:15,765 ksapi Subprocess output: {"data": {"access_token": "eyJ4NXQiOiJNbUprWWpVMlpETmpNelpqTURBM05UZ3pObUUxTm1NNU1qTXpNR1kyWm1OaFpHUTFNakE1TmciLCJraWQiOiJaalJqTUdRek9URmhPV1EwTm1WallXWTNZemRtWkdOa1pUUmpaVEUxTlRnMFkyWTBZVEUyTlRCaVlURTRNak5tWkRVeE5qZ3pPVGM0TWpGbFkyWXpOUV9SUzI1NiIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjbGllbnQ0Njc3OCIsImF1dCI6IkFQUExJQ0FUSU9OIiwiYXVkIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsIm5iZiI6MTczMTkwNjM4NSwiYXpwIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsInNjb3BlIjoiZGVmYXVsdCIsImlzcyI6Imh0dHBzOlwvXC9uYXBpLmtvdGFrc2VjdXJpdGllcy5jb206NDQzXC9vYXV0aDJcL3Rva2VuIiwiZXhwIjo1MzMxOTA2Mzg1LCJpYXQiOjE3MzE5MDYzODUsImp0aSI6IjhmYmZhZmEwLTdhZDctNDE0ZC1hNGIzLWZkODZmNGEzM2NkYyJ9.VssYLuiDYowUq4-1OoKtV4tX34Zm4HpYcoXjbEHiLP8WBqcgjGlURH2KgCkxkLYj2jghL65F7sm_ju-a9AAUlcdJjWPF_MUg9a8o_3I-wAobWTOTymljTFde-V9Rxwz2ycrbjzv_kFU1FmoEwuRZEsnHnmiY9VxvJntTC-sCMF1xHTBqKhQc24hSLFlZLrDoYs9-0EjKJGMkwOyJBuDw3JcyJ6rEjkOy5UBXI35_zYul5ENE69SsKJlb_05gqoWfO0lRSBusosCf1cCCdl_dheyHbx_McuqVAxykrS5O59CKbnwDdy2aghbIB78pK8O1XUDMKaZr8CwUQcu98a95KQ", "scope": "default", "token_type": "Bearer", "expires_in": 3600000000}}
Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[OnError]: Connection to remote host was lost.

INFO 2024-11-18 05:08:40,038 ksapi Subprocess output: {"data": {"access_token": "eyJ4NXQiOiJNbUprWWpVMlpETmpNelpqTURBM05UZ3pObUUxTm1NNU1qTXpNR1kyWm1OaFpHUTFNakE1TmciLCJraWQiOiJaalJqTUdRek9URmhPV1EwTm1WallXWTNZemRtWkdOa1pUUmpaVEUxTlRnMFkyWTBZVEUyTlRCaVlURTRNak5tWkRVeE5qZ3pPVGM0TWpGbFkyWXpOUV9SUzI1NiIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjbGllbnQ0Njc3OCIsImF1dCI6IkFQUExJQ0FUSU9OIiwiYXVkIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsIm5iZiI6MTczMTkwNjQxNywiYXpwIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsInNjb3BlIjoiZGVmYXVsdCIsImlzcyI6Imh0dHBzOlwvXC9uYXBpLmtvdGFrc2VjdXJpdGllcy5jb206NDQzXC9vYXV0aDJcL3Rva2VuIiwiZXhwIjo1MzMxOTA2NDE3LCJpYXQiOjE3MzE5MDY0MTcsImp0aSI6IjE4NWQ2MjVhLTc4NjMtNGU5Zi05OWU2LTU0MmIzZTQwMzk5ZSJ9.g8l-bcEFav17hPdWzxf7GpXyKe673OYICtl3nkfVgnVNIDj3URk5QWgmdTHIymYKjxoXGkqEyS8Hqy2Hcu31kI7b7W0jxOwqy9KWj_0lmp38qC_YfTQzfcdrsH9yYGT7pRtz-SyCtTndvpC6b7M-a2IvQ77VxoGSlkA5FPMony71qj0a1dISrvbLXATsZcehiINbJdb8VQlZssohcTDCYhEfCji05lON5uat3DdwaaSfGDMgfcyt1Kw7hBI9Rz1JnAenwjUek8bt4H7JIjC-rarechPgLOQHAFBMRDHQ4nQ8hH1rylvoIlLMY_vtByD8-qFwHJsehwWUVhFHfF9KHw", "scope": "default", "token_type": "Bearer", "expires_in": 3600000000}}
Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[OnError]: Connection to remote host was lost.

INFO 2024-11-18 05:08:42,273 utils Note: NumExpr detected 64 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
INFO 2024-11-18 05:08:42,274 utils NumExpr defaulting to 8 threads.
INFO 2024-11-18 05:08:54,310 ksapi Subprocess output: {"data": {"access_token": "eyJ4NXQiOiJNbUprWWpVMlpETmpNelpqTURBM05UZ3pObUUxTm1NNU1qTXpNR1kyWm1OaFpHUTFNakE1TmciLCJraWQiOiJaalJqTUdRek9URmhPV1EwTm1WallXWTNZemRtWkdOa1pUUmpaVEUxTlRnMFkyWTBZVEUyTlRCaVlURTRNak5tWkRVeE5qZ3pPVGM0TWpGbFkyWXpOUV9SUzI1NiIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjbGllbnQ0Njc3OCIsImF1dCI6IkFQUExJQ0FUSU9OIiwiYXVkIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsIm5iZiI6MTczMTkwNjUzMiwiYXpwIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsInNjb3BlIjoiZGVmYXVsdCIsImlzcyI6Imh0dHBzOlwvXC9uYXBpLmtvdGFrc2VjdXJpdGllcy5jb206NDQzXC9vYXV0aDJcL3Rva2VuIiwiZXhwIjo1MzMxOTA2NTMyLCJpYXQiOjE3MzE5MDY1MzIsImp0aSI6ImUzNzM3NTkyLTVhODEtNDU2NC1hNjFlLTQxNTQwYmFlZTM4MiJ9.AKkjsWNG8PlSkdrIY3p9wxkrz8PGLhWuodZpwDcKkv67oWaXAy63Ocy5RnqM9sfRreipYYd-BUdIFJdyjqauXdQQVDzaF80n9aBOlJuMyHIbJiSxU0gnONECJ31TX3zKPt0PeE2bnnpq8TD1--LD53ojBO3pYLD2EBb-gB9UndQDQg9SzlmTjRLdZcP-4ZaJbizBEOwhcGS860cbM__gvfEgss8L2ZZEFRd-qau7P_r13l8t8iX_PD77XtUhNip4kaY1ZOw2BU_VJ_DuezG7kQ7VRmeyAIgmpxV6aKoMvAg26gz36EMZ-9dDkwl9wsX2MkHRQQDmjmawY8FTfIT5tQ", "scope": "default", "token_type": "Bearer", "expires_in": 3600000000}}
Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[Res]: {'type': 'quotes', 'data': [{'last_traded_price': '23393.65', 'prev_day_close': '23532.7', 'timestamp': '18/11/2024 05:08:52', 'high_price': '23606.8', 'low_price': '23362.35', 'open': '23605.3', 'precision': '2', 'change': '-139.05', 'net_change_percentage': '-0.59', 'instrument_token': 'Nifty 50', 'exchange_segment': 'nse_cm'}]}
[Res]: Full response dumped to /home/anupamvm/Projects/py/mCube-V2/mcube/ksneo/quotes_response.csv

DEBUG 2024-11-18 05:09:00,472 connectionpool Starting new HTTPS connection (1): napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:09:00,816 connectionpool https://napi.kotaksecurities.com:443 "POST /oauth2/token HTTP/1.1" 200 None
DEBUG 2024-11-18 05:09:00,823 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:09:00,978 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
DEBUG 2024-11-18 05:09:00,983 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:09:01,165 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/otp/generate HTTP/1.1" 500 None
DEBUG 2024-11-18 05:09:01,171 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:09:01,323 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
INFO 2024-11-18 05:09:01,327 ksapi Login successful and client initialized.
INFO 2024-11-18 05:09:01,329 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 05:09:01,329 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 05:09:20,051 ksapi Subprocess output: {"data": {"access_token": "eyJ4NXQiOiJNbUprWWpVMlpETmpNelpqTURBM05UZ3pObUUxTm1NNU1qTXpNR1kyWm1OaFpHUTFNakE1TmciLCJraWQiOiJaalJqTUdRek9URmhPV1EwTm1WallXWTNZemRtWkdOa1pUUmpaVEUxTlRnMFkyWTBZVEUyTlRCaVlURTRNak5tWkRVeE5qZ3pPVGM0TWpGbFkyWXpOUV9SUzI1NiIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjbGllbnQ0Njc3OCIsImF1dCI6IkFQUExJQ0FUSU9OIiwiYXVkIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsIm5iZiI6MTczMTkwNjU1OCwiYXpwIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsInNjb3BlIjoiZGVmYXVsdCIsImlzcyI6Imh0dHBzOlwvXC9uYXBpLmtvdGFrc2VjdXJpdGllcy5jb206NDQzXC9vYXV0aDJcL3Rva2VuIiwiZXhwIjo1MzMxOTA2NTU4LCJpYXQiOjE3MzE5MDY1NTgsImp0aSI6IjI0N2M5MTQzLTg5YTctNGEyMi05NWUyLTU3YmM5NmE5MzhlZSJ9.H_JZ1mRSM7hqN4C7REZeB0hmT1udpobf_w0zh5b1SePPwwldpZI2YxtW7qf707Rlih_-CMfaWQ17bA3wbNVBQl2qbpdOlx5ygetFuMrCi8DfT4MUwLd5s9IPMFbSAJ5hUZaOpluLz69pg0hnTUmD623LosvdP77ZUG2oLAXNRfVtM9SoM-n8C8KYn8gbxQFDOh_h3cVDffUKqyFAovcP-MBqxMClkbKKsldUxgmNorhLC6ndKQY9Zh18FPW4rXiyG1tWrJAgchTB0u33LO1pJDcyEELi1SkAgJ0W9yPpyopQoaUwIzJzr6pnYnrMrIMGMvbqDTDV5SJO-TC11NR0PQ", "scope": "default", "token_type": "Bearer", "expires_in": 3600000000}}
Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[Res]: {'type': 'quotes', 'data': [{'last_traded_price': '23388.85', 'prev_day_close': '23532.7', 'timestamp': '18/11/2024 05:09:18', 'high_price': '23606.8', 'low_price': '23362.35', 'open': '23605.3', 'precision': '2', 'change': '-143.85', 'net_change_percentage': '-0.61', 'instrument_token': 'Nifty 50', 'exchange_segment': 'nse_cm'}]}
[Res]: Full response dumped to /home/anupamvm/Projects/py/mCube-V2/mcube/ksneo/quotes_response.csv

INFO 2024-11-18 05:09:20,052 basehttp "GET /p/getquote?symbol=Nifty%2050&index=True HTTP/1.1" 200 26
INFO 2024-11-18 05:09:20,052 basehttp "GET /p/getquote?symbol=Nifty%2050&index=True HTTP/1.1" 200 26
DEBUG 2024-11-18 05:09:31,977 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:09:32,107 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 401 None
INFO 2024-11-18 05:09:32,110 ksapi Raw search result: {'Error': KeyError('data'), 'message': 'Exchange Segment is not available'}
ERROR 2024-11-18 05:09:32,112 ksapi Error during search: 'pGroup'
ERROR 2024-11-18 05:09:32,112 log Internal Server Error: /p/getquote
ERROR 2024-11-18 05:09:32,112 log Internal Server Error: /p/getquote
ERROR 2024-11-18 05:09:32,114 basehttp "GET /p/getquote HTTP/1.1" 500 34
ERROR 2024-11-18 05:09:32,114 basehttp "GET /p/getquote HTTP/1.1" 500 34
DEBUG 2024-11-18 05:09:35,859 connectionpool Starting new HTTPS connection (1): napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:09:36,173 connectionpool https://napi.kotaksecurities.com:443 "POST /oauth2/token HTTP/1.1" 200 None
DEBUG 2024-11-18 05:09:36,179 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:09:36,324 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
DEBUG 2024-11-18 05:09:36,328 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:09:36,488 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/otp/generate HTTP/1.1" 201 None
DEBUG 2024-11-18 05:09:36,492 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:09:36,636 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
INFO 2024-11-18 05:09:36,639 ksapi Login successful and client initialized.
INFO 2024-11-18 05:09:36,640 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 05:09:36,640 basehttp "GET /p/login HTTP/1.1" 200 40
DEBUG 2024-11-18 05:09:44,090 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:09:44,374 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 05:09:44,379 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 05:09:44,670 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_cm.csv HTTP/1.1" 200 2758322
INFO 2024-11-18 05:09:45,313 ksapi Raw search result: [{'pSymbol': 25946, 'pGroup': 'N0', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': '835TCSL27', 'pTrdSymbol': '835TCSL27-N0', 'pOptionType': None, 'pScripRefKey': '835TCSL27-N0', 'pISIN': 'INE729N07065', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TVS CREDIT 8.35% 2027', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 1, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 1414800000.0, 'pMaturityDate': None, 'pListingDate': 1414800000.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '80000.00-120000.00', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416069605.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 10000000.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 1000, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 12000000.0, 'dLowPriceRange': 8000000.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 50000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 1000}, {'pSymbol': 3799, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-EQ', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 484531200.0, 'pMaturityDate': None, 'pListingDate': 0.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '437.05-655.55', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 183021, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 65555.0, 'dLowPriceRange': 43705.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 183021}, {'pSymbol': 11536, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-EQ', 'pOptionType': None, 'pScripRefKey': 'TCS', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 777859200.0, 'pMaturityDate': None, 'pListingDate': 777859200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '3731.35-4560.45', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 21708, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 456045.0, 'dLowPriceRange': 373135.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 21708}, {'pSymbol': 12825, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-BL', 'pOptionType': None, 'pScripRefKey': 'TCS-BL', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '4104.45-4187.35', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071130.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 418735.0, 'dLowPriceRange': 410445.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}, {'pSymbol': 12897, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-BL', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR-BL', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '540.85-551.75', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071122.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 55175.0, 'dLowPriceRange': 54085.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}]
INFO 2024-11-18 05:09:51,835 ksapi Subprocess output: {"data": {"access_token": "eyJ4NXQiOiJNbUprWWpVMlpETmpNelpqTURBM05UZ3pObUUxTm1NNU1qTXpNR1kyWm1OaFpHUTFNakE1TmciLCJraWQiOiJaalJqTUdRek9URmhPV1EwTm1WallXWTNZemRtWkdOa1pUUmpaVEUxTlRnMFkyWTBZVEUyTlRCaVlURTRNak5tWkRVeE5qZ3pPVGM0TWpGbFkyWXpOUV9SUzI1NiIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjbGllbnQ0Njc3OCIsImF1dCI6IkFQUExJQ0FUSU9OIiwiYXVkIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsIm5iZiI6MTczMTkwNjU5MCwiYXpwIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsInNjb3BlIjoiZGVmYXVsdCIsImlzcyI6Imh0dHBzOlwvXC9uYXBpLmtvdGFrc2VjdXJpdGllcy5jb206NDQzXC9vYXV0aDJcL3Rva2VuIiwiZXhwIjo1MzMxOTA2NTkwLCJpYXQiOjE3MzE5MDY1OTAsImp0aSI6ImNlOWQ1NGQ5LWNjMDMtNGMzZS1iMzQyLTdiYmY3OTFjZmFiMiJ9.Vq1QTaMg0yanQytmH4gU7VpenP07laMBhTP9AgLCmdRPlycTv_bCBmdDWxwWzNhHE0dX2cAQcdXDa-f8LSWEc7m_aZz0aUFvTMo9iX7w4WG2CtXO02QobLrTWFgMCr8r1YjXXkqUqyVttYBD5SYuljyZUd8jz_fFwKaH-KPeZPSh4I-a_CjVZD3uKXAQs_Fflw9BKlFmjnhhJHcyxVx6KP6wHSYYrKN55j_xQTzqWuKkGeoOjEYk-4dZyCAwJyoYtfRyEUrZUHac_K8hOcfLf2MIv9jGGT7etD00gNCjlai_ZH1YLNvUIQ0k0xXLCJpESOZvVC3CsUec0jzfu7LpfA", "scope": "default", "token_type": "Bearer", "expires_in": 3600000000}}
Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[Res]: {'type': 'quotes', 'data': [{'last_traded_time': '18/11/2024 05:09:40', 'volume': '32738', 'last_traded_price': '530.85', 'last_traded_quantity': '1', 'total_buy_quantity': '19807', 'total_sell_quantity': '19976', 'buy_price': '530.25', 'sell_price': '530.85', 'buy_quantity': '8', 'average_price': '539.22', 'lower_circuit_limit': '437.05', 'upper_circuit_limit': '655.55', '52week_high': '815.00', '52week_low': '524.10', 'multiplier': '1', 'precision': '2', 'change': '-15.45', 'net_change_percentage': '-2.83', 'total_traded_value': '17652984.36', 'instrument_token': '3799', 'exchange_segment': 'nse_cm', 'trading_symbol': 'WSTCSTPAPR-EQ', 'request_type': 'SNAP', 'ohlc': {'open': '544.90', 'high': '551.45', 'low': '529.25', 'close': '546.30'}}]}
[Res]: Full response dumped to /home/anupamvm/Projects/py/mCube-V2/mcube/ksneo/quotes_response.csv

INFO 2024-11-18 05:09:51,836 basehttp "GET /p/getquote HTTP/1.1" 200 26
INFO 2024-11-18 05:09:51,836 basehttp "GET /p/getquote HTTP/1.1" 200 26
DEBUG 2024-11-18 05:11:22,465 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:11:22,580 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 401 None
INFO 2024-11-18 05:11:22,582 ksapi Raw search result: {'Error': KeyError('data'), 'message': 'Exchange Segment is not available'}
ERROR 2024-11-18 05:11:22,584 ksapi Error during search: 'pGroup'
ERROR 2024-11-18 05:11:22,584 log Internal Server Error: /p/search
ERROR 2024-11-18 05:11:22,584 log Internal Server Error: /p/search
ERROR 2024-11-18 05:11:22,585 basehttp "GET /p/search HTTP/1.1" 500 34
ERROR 2024-11-18 05:11:22,585 basehttp "GET /p/search HTTP/1.1" 500 34
DEBUG 2024-11-18 05:11:30,439 connectionpool Starting new HTTPS connection (1): napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:11:31,308 connectionpool https://napi.kotaksecurities.com:443 "POST /oauth2/token HTTP/1.1" 200 None
DEBUG 2024-11-18 05:11:31,314 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:11:31,544 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
DEBUG 2024-11-18 05:11:31,548 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:11:31,721 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/otp/generate HTTP/1.1" 201 None
DEBUG 2024-11-18 05:11:31,725 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:11:31,883 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
INFO 2024-11-18 05:11:31,885 ksapi Login successful and client initialized.
INFO 2024-11-18 05:11:31,886 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 05:11:31,886 basehttp "GET /p/login HTTP/1.1" 200 40
DEBUG 2024-11-18 05:11:34,213 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:11:34,548 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 05:11:34,553 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 05:11:34,774 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_cm.csv HTTP/1.1" 200 2758322
INFO 2024-11-18 05:11:36,366 ksapi Raw search result: [{'pSymbol': 25946, 'pGroup': 'N0', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': '835TCSL27', 'pTrdSymbol': '835TCSL27-N0', 'pOptionType': None, 'pScripRefKey': '835TCSL27-N0', 'pISIN': 'INE729N07065', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TVS CREDIT 8.35% 2027', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 1, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 1414800000.0, 'pMaturityDate': None, 'pListingDate': 1414800000.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '80000.00-120000.00', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416069605.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 10000000.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 1000, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 12000000.0, 'dLowPriceRange': 8000000.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 50000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 1000}, {'pSymbol': 3799, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-EQ', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 484531200.0, 'pMaturityDate': None, 'pListingDate': 0.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '437.05-655.55', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 183021, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 65555.0, 'dLowPriceRange': 43705.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 183021}, {'pSymbol': 11536, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-EQ', 'pOptionType': None, 'pScripRefKey': 'TCS', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 777859200.0, 'pMaturityDate': None, 'pListingDate': 777859200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '3731.35-4560.45', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 21708, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 456045.0, 'dLowPriceRange': 373135.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 21708}, {'pSymbol': 12825, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-BL', 'pOptionType': None, 'pScripRefKey': 'TCS-BL', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '4104.45-4187.35', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071130.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 418735.0, 'dLowPriceRange': 410445.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}, {'pSymbol': 12897, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-BL', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR-BL', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '540.85-551.75', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071122.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 55175.0, 'dLowPriceRange': 54085.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}]
INFO 2024-11-18 05:11:36,373 basehttp "GET /p/search HTTP/1.1" 200 21
INFO 2024-11-18 05:11:36,373 basehttp "GET /p/search HTTP/1.1" 200 21
INFO 2024-11-18 05:12:13,219 utils Note: NumExpr detected 64 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
INFO 2024-11-18 05:12:13,220 utils NumExpr defaulting to 8 threads.
ERROR 2024-11-18 05:12:45,533 log Internal Server Error: /p/search
ERROR 2024-11-18 05:12:45,533 log Internal Server Error: /p/search
ERROR 2024-11-18 05:12:45,535 basehttp "GET /p/search HTTP/1.1" 500 72
ERROR 2024-11-18 05:12:45,535 basehttp "GET /p/search HTTP/1.1" 500 72
DEBUG 2024-11-18 05:12:51,754 connectionpool Starting new HTTPS connection (1): napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:12:51,985 connectionpool https://napi.kotaksecurities.com:443 "POST /oauth2/token HTTP/1.1" 200 None
DEBUG 2024-11-18 05:12:51,996 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:12:52,141 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
DEBUG 2024-11-18 05:12:52,146 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:12:52,307 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/otp/generate HTTP/1.1" 201 None
DEBUG 2024-11-18 05:12:52,312 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:12:52,449 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
INFO 2024-11-18 05:12:52,452 ksapi Login successful and client initialized.
INFO 2024-11-18 05:12:52,452 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 05:12:52,452 basehttp "GET /p/login HTTP/1.1" 200 40
WARNING 2024-11-18 05:12:58,415 log Not Found: /search
WARNING 2024-11-18 05:12:58,415 log Not Found: /search
WARNING 2024-11-18 05:12:58,416 basehttp "GET /search HTTP/1.1" 404 3412
WARNING 2024-11-18 05:12:58,416 basehttp "GET /search HTTP/1.1" 404 3412
WARNING 2024-11-18 05:13:04,008 log Not Found: /search
WARNING 2024-11-18 05:13:04,008 log Not Found: /search
WARNING 2024-11-18 05:13:04,009 basehttp "GET /search HTTP/1.1" 404 3412
WARNING 2024-11-18 05:13:04,009 basehttp "GET /search HTTP/1.1" 404 3412
DEBUG 2024-11-18 05:13:30,832 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:13:31,167 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 05:13:31,173 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 05:13:31,448 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_cm.csv HTTP/1.1" 200 2758322
INFO 2024-11-18 05:13:31,928 ksapi Raw search result: [{'pSymbol': 25946, 'pGroup': 'N0', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': '835TCSL27', 'pTrdSymbol': '835TCSL27-N0', 'pOptionType': None, 'pScripRefKey': '835TCSL27-N0', 'pISIN': 'INE729N07065', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TVS CREDIT 8.35% 2027', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 1, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 1414800000.0, 'pMaturityDate': None, 'pListingDate': 1414800000.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '80000.00-120000.00', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416069605.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 10000000.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 1000, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 12000000.0, 'dLowPriceRange': 8000000.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 50000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 1000}, {'pSymbol': 3799, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-EQ', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 484531200.0, 'pMaturityDate': None, 'pListingDate': 0.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '437.05-655.55', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 183021, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 65555.0, 'dLowPriceRange': 43705.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 183021}, {'pSymbol': 11536, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-EQ', 'pOptionType': None, 'pScripRefKey': 'TCS', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 777859200.0, 'pMaturityDate': None, 'pListingDate': 777859200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '3731.35-4560.45', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 21708, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 456045.0, 'dLowPriceRange': 373135.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 21708}, {'pSymbol': 12825, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-BL', 'pOptionType': None, 'pScripRefKey': 'TCS-BL', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '4104.45-4187.35', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071130.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 418735.0, 'dLowPriceRange': 410445.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}, {'pSymbol': 12897, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-BL', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR-BL', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '540.85-551.75', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071122.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 55175.0, 'dLowPriceRange': 54085.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}]
INFO 2024-11-18 05:13:31,938 basehttp "GET /p/search HTTP/1.1" 200 21
INFO 2024-11-18 05:13:31,938 basehttp "GET /p/search HTTP/1.1" 200 21
DEBUG 2024-11-18 05:14:38,716 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:14:39,115 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 05:14:39,121 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 05:14:39,356 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_cm.csv HTTP/1.1" 200 2758322
INFO 2024-11-18 05:15:06,929 ksapi Raw search result: [{'pSymbol': 25946, 'pGroup': 'N0', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': '835TCSL27', 'pTrdSymbol': '835TCSL27-N0', 'pOptionType': None, 'pScripRefKey': '835TCSL27-N0', 'pISIN': 'INE729N07065', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TVS CREDIT 8.35% 2027', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 1, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 1414800000.0, 'pMaturityDate': None, 'pListingDate': 1414800000.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '80000.00-120000.00', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416069605.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 10000000.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 1000, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 12000000.0, 'dLowPriceRange': 8000000.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 50000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 1000}, {'pSymbol': 3799, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-EQ', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 484531200.0, 'pMaturityDate': None, 'pListingDate': 0.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '437.05-655.55', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 183021, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 65555.0, 'dLowPriceRange': 43705.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 183021}, {'pSymbol': 11536, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-EQ', 'pOptionType': None, 'pScripRefKey': 'TCS', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 777859200.0, 'pMaturityDate': None, 'pListingDate': 777859200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '3731.35-4560.45', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 21708, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 456045.0, 'dLowPriceRange': 373135.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 21708}, {'pSymbol': 12825, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-BL', 'pOptionType': None, 'pScripRefKey': 'TCS-BL', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '4104.45-4187.35', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071130.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 418735.0, 'dLowPriceRange': 410445.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}, {'pSymbol': 12897, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-BL', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR-BL', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '540.85-551.75', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071122.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 55175.0, 'dLowPriceRange': 54085.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}]
INFO 2024-11-18 05:15:45,256 ksapi Subprocess output: {"data": {"access_token": "eyJ4NXQiOiJNbUprWWpVMlpETmpNelpqTURBM05UZ3pObUUxTm1NNU1qTXpNR1kyWm1OaFpHUTFNakE1TmciLCJraWQiOiJaalJqTUdRek9URmhPV1EwTm1WallXWTNZemRtWkdOa1pUUmpaVEUxTlRnMFkyWTBZVEUyTlRCaVlURTRNak5tWkRVeE5qZ3pPVGM0TWpGbFkyWXpOUV9SUzI1NiIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjbGllbnQ0Njc3OCIsImF1dCI6IkFQUExJQ0FUSU9OIiwiYXVkIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsIm5iZiI6MTczMTkwNjk0MywiYXpwIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsInNjb3BlIjoiZGVmYXVsdCIsImlzcyI6Imh0dHBzOlwvXC9uYXBpLmtvdGFrc2VjdXJpdGllcy5jb206NDQzXC9vYXV0aDJcL3Rva2VuIiwiZXhwIjo1MzMxOTA2OTQzLCJpYXQiOjE3MzE5MDY5NDMsImp0aSI6IjE4NTI1ZWE3LTAxNGYtNDdmMy05ODJlLTgyYzliMjUxOGIzMyJ9.dTzmFmfMTiFrWDm-I1V_jsI8pc9wxQ-WVyEFUsxbaZMoXNxUGBntavKTcyD1ujlYzLcf7v3FpET2-zpy9H70Q-JK9_6f4YfrwW42lbe72MztkbOirjqvjOr1ogB6Fjw8XPQGlixMhi_UpolCffkav7B7eSHZu-CFhBUrE5zTRbLGZDMOHxZ8C3BL4Q0yfKOdDXk1wsdL1Y1EOJihb9Sx6OSfrBvh9YimWZW_uYX9MKcP8HCwhIqOV_zScxbVDKHqEcKaLc7MFYsRs3ithM6mIupamsuu2XPXP_LVxsh12PZuY5jlzcdIP4zbyKy-QrlClIRQ9Nt6M41aw0A_mCuncQ", "scope": "default", "token_type": "Bearer", "expires_in": 3600000000}}
Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[Res]: {'type': 'quotes', 'data': [{'last_traded_time': '18/11/2024 05:15:07', 'volume': '34632', 'last_traded_price': '530.75', 'last_traded_quantity': '1', 'total_buy_quantity': '20328', 'total_sell_quantity': '19853', 'buy_price': '530.20', 'sell_price': '530.75', 'buy_quantity': '18', 'average_price': '538.70', 'lower_circuit_limit': '437.05', 'upper_circuit_limit': '655.55', '52week_high': '815.00', '52week_low': '524.10', 'multiplier': '1', 'precision': '2', 'change': '-15.55', 'net_change_percentage': '-2.85', 'total_traded_value': '18656258.40', 'instrument_token': '3799', 'exchange_segment': 'nse_cm', 'trading_symbol': 'WSTCSTPAPR-EQ', 'request_type': 'SNAP', 'ohlc': {'open': '544.90', 'high': '551.45', 'low': '529.00', 'close': '546.30'}}]}
[Res]: Full response dumped to /home/anupamvm/Projects/py/mCube-V2/mcube/ksneo/quotes_response.csv

INFO 2024-11-18 05:15:45,260 basehttp "GET /p/getquote HTTP/1.1" 200 26
INFO 2024-11-18 05:15:45,260 basehttp "GET /p/getquote HTTP/1.1" 200 26
DEBUG 2024-11-18 05:17:50,183 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:17:50,306 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 401 None
INFO 2024-11-18 05:17:57,168 ksapi Raw search result: {'Error': KeyError('data'), 'message': 'Exchange Segment is not available'}
ERROR 2024-11-18 05:17:57,170 ksapi Error during search: 'pGroup'
ERROR 2024-11-18 05:17:57,172 log Internal Server Error: /p/search
ERROR 2024-11-18 05:17:57,172 log Internal Server Error: /p/search
ERROR 2024-11-18 05:17:57,174 basehttp "GET /p/search HTTP/1.1" 500 34
ERROR 2024-11-18 05:17:57,174 basehttp "GET /p/search HTTP/1.1" 500 34
DEBUG 2024-11-18 05:18:01,901 connectionpool Starting new HTTPS connection (1): napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:18:02,772 connectionpool https://napi.kotaksecurities.com:443 "POST /oauth2/token HTTP/1.1" 200 None
DEBUG 2024-11-18 05:18:02,778 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:18:02,948 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
DEBUG 2024-11-18 05:18:02,953 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:18:03,188 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/otp/generate HTTP/1.1" 201 None
DEBUG 2024-11-18 05:18:03,192 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:18:03,351 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
INFO 2024-11-18 05:18:03,353 ksapi Login successful and client initialized.
INFO 2024-11-18 05:18:03,354 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 05:18:03,354 basehttp "GET /p/login HTTP/1.1" 200 40
DEBUG 2024-11-18 05:18:23,151 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:18:23,457 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 05:18:23,462 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 05:18:23,697 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_cm.csv HTTP/1.1" 200 2758322
INFO 2024-11-18 05:19:25,378 ksapi Raw search result: [{'pSymbol': 25946, 'pGroup': 'N0', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': '835TCSL27', 'pTrdSymbol': '835TCSL27-N0', 'pOptionType': None, 'pScripRefKey': '835TCSL27-N0', 'pISIN': 'INE729N07065', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TVS CREDIT 8.35% 2027', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 1, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 1414800000.0, 'pMaturityDate': None, 'pListingDate': 1414800000.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '80000.00-120000.00', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416069605.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 10000000.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 1000, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 12000000.0, 'dLowPriceRange': 8000000.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 50000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 1000}, {'pSymbol': 3799, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-EQ', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 484531200.0, 'pMaturityDate': None, 'pListingDate': 0.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '437.05-655.55', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 183021, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 65555.0, 'dLowPriceRange': 43705.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 183021}, {'pSymbol': 11536, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-EQ', 'pOptionType': None, 'pScripRefKey': 'TCS', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 777859200.0, 'pMaturityDate': None, 'pListingDate': 777859200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '3731.35-4560.45', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 21708, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 456045.0, 'dLowPriceRange': 373135.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 21708}, {'pSymbol': 12825, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-BL', 'pOptionType': None, 'pScripRefKey': 'TCS-BL', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '4104.45-4187.35', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071130.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 418735.0, 'dLowPriceRange': 410445.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}, {'pSymbol': 12897, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-BL', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR-BL', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '540.85-551.75', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071122.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 55175.0, 'dLowPriceRange': 54085.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}]
INFO 2024-11-18 05:22:23,586 basehttp "GET /p/search HTTP/1.1" 200 21
INFO 2024-11-18 05:22:23,586 basehttp "GET /p/search HTTP/1.1" 200 21
INFO 2024-11-18 05:29:46,158 utils Note: NumExpr detected 64 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
INFO 2024-11-18 05:29:46,159 utils NumExpr defaulting to 8 threads.
INFO 2024-11-18 05:30:26,556 utils Note: NumExpr detected 64 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
INFO 2024-11-18 05:30:26,556 utils NumExpr defaulting to 8 threads.
DEBUG 2024-11-18 05:30:32,938 connectionpool Starting new HTTPS connection (1): napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:30:33,965 connectionpool https://napi.kotaksecurities.com:443 "POST /oauth2/token HTTP/1.1" 200 None
DEBUG 2024-11-18 05:30:33,974 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:30:34,158 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
DEBUG 2024-11-18 05:30:34,163 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:30:34,324 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/otp/generate HTTP/1.1" 201 None
DEBUG 2024-11-18 05:30:34,329 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:30:34,478 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
INFO 2024-11-18 05:30:34,480 ksapi Login successful and client initialized.
INFO 2024-11-18 05:30:34,482 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 05:30:34,482 basehttp "GET /p/login HTTP/1.1" 200 40
DEBUG 2024-11-18 05:30:46,961 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:30:47,210 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 05:30:47,215 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 05:30:47,549 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_cm.csv HTTP/1.1" 200 2758322
INFO 2024-11-18 05:30:48,811 ksapi Raw search result: [{'pSymbol': 25946, 'pGroup': 'N0', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': '835TCSL27', 'pTrdSymbol': '835TCSL27-N0', 'pOptionType': None, 'pScripRefKey': '835TCSL27-N0', 'pISIN': 'INE729N07065', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TVS CREDIT 8.35% 2027', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 1, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 1414800000.0, 'pMaturityDate': None, 'pListingDate': 1414800000.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '80000.00-120000.00', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416069605.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 10000000.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 1000, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 12000000.0, 'dLowPriceRange': 8000000.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 50000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 1000}, {'pSymbol': 3799, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-EQ', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 484531200.0, 'pMaturityDate': None, 'pListingDate': 0.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '437.05-655.55', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 183021, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 65555.0, 'dLowPriceRange': 43705.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 183021}, {'pSymbol': 11536, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-EQ', 'pOptionType': None, 'pScripRefKey': 'TCS', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 777859200.0, 'pMaturityDate': None, 'pListingDate': 777859200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '3731.35-4560.45', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 21708, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 456045.0, 'dLowPriceRange': 373135.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 21708}, {'pSymbol': 12825, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-BL', 'pOptionType': None, 'pScripRefKey': 'TCS-BL', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '4104.45-4187.35', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071130.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 418735.0, 'dLowPriceRange': 410445.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}, {'pSymbol': 12897, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-BL', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR-BL', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '540.85-551.75', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071122.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 55175.0, 'dLowPriceRange': 54085.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}]
INFO 2024-11-18 05:30:48,820 basehttp "GET /p/search HTTP/1.1" 200 22
INFO 2024-11-18 05:30:48,820 basehttp "GET /p/search HTTP/1.1" 200 22
DEBUG 2024-11-18 05:31:04,739 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:31:05,057 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 05:31:05,062 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 05:31:05,281 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_cm.csv HTTP/1.1" 200 2758322
INFO 2024-11-18 05:31:08,261 ksapi Raw search result: [{'pSymbol': 25946, 'pGroup': 'N0', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': '835TCSL27', 'pTrdSymbol': '835TCSL27-N0', 'pOptionType': None, 'pScripRefKey': '835TCSL27-N0', 'pISIN': 'INE729N07065', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TVS CREDIT 8.35% 2027', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 1, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 1414800000.0, 'pMaturityDate': None, 'pListingDate': 1414800000.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '80000.00-120000.00', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416069605.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 10000000.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 1000, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 12000000.0, 'dLowPriceRange': 8000000.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 50000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 1000}, {'pSymbol': 3799, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-EQ', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 484531200.0, 'pMaturityDate': None, 'pListingDate': 0.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '437.05-655.55', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 183021, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 65555.0, 'dLowPriceRange': 43705.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 183021}, {'pSymbol': 11536, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-EQ', 'pOptionType': None, 'pScripRefKey': 'TCS', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 777859200.0, 'pMaturityDate': None, 'pListingDate': 777859200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '3731.35-4560.45', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 21708, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 456045.0, 'dLowPriceRange': 373135.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 21708}, {'pSymbol': 12825, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-BL', 'pOptionType': None, 'pScripRefKey': 'TCS-BL', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '4104.45-4187.35', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071130.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 418735.0, 'dLowPriceRange': 410445.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}, {'pSymbol': 12897, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-BL', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR-BL', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '540.85-551.75', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071122.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 55175.0, 'dLowPriceRange': 54085.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}]
INFO 2024-11-18 05:31:13,299 ksapi Subprocess output: {"data": {"access_token": "eyJ4NXQiOiJNbUprWWpVMlpETmpNelpqTURBM05UZ3pObUUxTm1NNU1qTXpNR1kyWm1OaFpHUTFNakE1TmciLCJraWQiOiJaalJqTUdRek9URmhPV1EwTm1WallXWTNZemRtWkdOa1pUUmpaVEUxTlRnMFkyWTBZVEUyTlRCaVlURTRNak5tWkRVeE5qZ3pPVGM0TWpGbFkyWXpOUV9SUzI1NiIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjbGllbnQ0Njc3OCIsImF1dCI6IkFQUExJQ0FUSU9OIiwiYXVkIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsIm5iZiI6MTczMTkwNzg3MSwiYXpwIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsInNjb3BlIjoiZGVmYXVsdCIsImlzcyI6Imh0dHBzOlwvXC9uYXBpLmtvdGFrc2VjdXJpdGllcy5jb206NDQzXC9vYXV0aDJcL3Rva2VuIiwiZXhwIjo1MzMxOTA3ODcxLCJpYXQiOjE3MzE5MDc4NzEsImp0aSI6Ijg5NzU0NjdhLTcyZjEtNDEyOS05MTUyLTAyOTAzYTg0OTJlNiJ9.HWZ73111dZiFPsLtVWn6Eyy-G8OVQ4VoTIlAmx-CKwjg9CtEK64RY0ofwcqdVRwPunrp0sN_K6GXMNkBpqyGmik8Oft01X1rECy-QFPpz1-uEKDxLS1hwv6I0-k9-9IMuV6-pdxH_DHSEBfViMkiEgs7husr0FytmWZa4raK9UbkOWiINe-sJeBb1uTq2UlvJUSicknAdElPO0NL-275RfdOsQ3b4bj60gak5664QX9iu0bHZVi7nBFmyZw0AKSvEWhXYmvzgPVV0701ojci2CSGl0JA3rRbCjN1K7btTdPP-X1yc1cX6Ltil00QFApt5sulPl19P2m7YXJHSN1ynQ", "scope": "default", "token_type": "Bearer", "expires_in": 3600000000}}
Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[Res]: {'type': 'quotes', 'data': [{'last_traded_time': '18/11/2024 05:31:11', 'volume': '1887167', 'last_traded_price': '3996.25', 'last_traded_quantity': '5', 'total_buy_quantity': '86813', 'total_sell_quantity': '171779', 'buy_price': '3995.05', 'sell_price': '3996.35', 'buy_quantity': '26', 'average_price': '4112.19', 'lower_circuit_limit': '3731.35', 'upper_circuit_limit': '4560.45', '52week_high': '4592.25', '52week_low': '3356.05', 'multiplier': '1', 'precision': '2', 'change': '-149.65', 'net_change_percentage': '-3.61', 'total_traded_value': '7760389265.73', 'instrument_token': '11536', 'exchange_segment': 'nse_cm', 'trading_symbol': 'TCS-EQ', 'request_type': 'SNAP', 'ohlc': {'open': '4213.00', 'high': '4213.00', 'low': '3990.20', 'close': '4145.90'}}]}
[Res]: Full response dumped to /home/anupamvm/Projects/py/mCube-V2/mcube/ksneo/quotes_response.csv

INFO 2024-11-18 05:31:13,302 basehttp "GET /p/getquote HTTP/1.1" 200 26
INFO 2024-11-18 05:31:13,302 basehttp "GET /p/getquote HTTP/1.1" 200 26
INFO 2024-11-18 05:33:11,596 ksapi Subprocess output: {"data": {"access_token": "eyJ4NXQiOiJNbUprWWpVMlpETmpNelpqTURBM05UZ3pObUUxTm1NNU1qTXpNR1kyWm1OaFpHUTFNakE1TmciLCJraWQiOiJaalJqTUdRek9URmhPV1EwTm1WallXWTNZemRtWkdOa1pUUmpaVEUxTlRnMFkyWTBZVEUyTlRCaVlURTRNak5tWkRVeE5qZ3pPVGM0TWpGbFkyWXpOUV9SUzI1NiIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjbGllbnQ0Njc3OCIsImF1dCI6IkFQUExJQ0FUSU9OIiwiYXVkIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsIm5iZiI6MTczMTkwNzk5MCwiYXpwIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsInNjb3BlIjoiZGVmYXVsdCIsImlzcyI6Imh0dHBzOlwvXC9uYXBpLmtvdGFrc2VjdXJpdGllcy5jb206NDQzXC9vYXV0aDJcL3Rva2VuIiwiZXhwIjo1MzMxOTA3OTkwLCJpYXQiOjE3MzE5MDc5OTAsImp0aSI6IjZkNDMwMGE5LThhYzgtNDc4OC1iZWU3LWMwNzQ0ZjNkNDQ1NCJ9.fksyC6Xeeh7n0S7b9PJgHRzR6M_FHiUvt4p8MYSFJ2lYRjEsVZwQQ7EMFFEZbQBLwsKEMTB6800e2hWjRklzRHBhRBOkfZpowcvobIW-zM1PuLK20ERl4w062xqqupnuEEHSRPqcf3QngmMzQbth-q1J5jmcwF6cWmhWNOKRiGjRjEPA8dQ_8obCFDeOF8JVDT-xy9Dsltf7LjiKAh381riZI6OzORYe5Xy30QOjB-dn9oO1TX_WHUMQPsyCMHwzBcpYd6hHqFpD2FXMyFm9Wqj7CKOR0bpRi-VrbZZoNokfibL5ogTZpTrWaG7mhDYE6LyUXKgLKC_BQ0wwyGOmfw", "scope": "default", "token_type": "Bearer", "expires_in": 3600000000}}
Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[Res]: {'type': 'quotes', 'data': [{'last_traded_price': '23393.0', 'prev_day_close': '23532.7', 'timestamp': '18/11/2024 05:33:10', 'high_price': '23606.8', 'low_price': '23350.4', 'open': '23605.3', 'precision': '2', 'change': '-139.7', 'net_change_percentage': '-0.59', 'instrument_token': 'Nifty 50', 'exchange_segment': 'nse_cm'}]}
[Res]: Full response dumped to /home/anupamvm/Projects/py/mCube-V2/mcube/ksneo/quotes_response.csv

INFO 2024-11-18 05:33:11,597 basehttp "GET /p/getquote?symbol=Nifty%2050&index=True HTTP/1.1" 200 26
INFO 2024-11-18 05:33:11,597 basehttp "GET /p/getquote?symbol=Nifty%2050&index=True HTTP/1.1" 200 26
DEBUG 2024-11-18 05:33:34,476 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:33:34,597 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 401 None
INFO 2024-11-18 05:33:34,600 ksapi Raw search result: {'Error': KeyError('data'), 'message': 'Exchange Segment is not available'}
ERROR 2024-11-18 05:33:34,601 ksapi Error during search: 'pGroup'
ERROR 2024-11-18 05:33:34,602 log Internal Server Error: /p/getquote
ERROR 2024-11-18 05:33:34,602 log Internal Server Error: /p/getquote
ERROR 2024-11-18 05:33:34,602 basehttp "GET /p/getquote?symbol=INFY&index=False HTTP/1.1" 500 34
ERROR 2024-11-18 05:33:34,602 basehttp "GET /p/getquote?symbol=INFY&index=False HTTP/1.1" 500 34
DEBUG 2024-11-18 05:33:56,228 connectionpool Starting new HTTPS connection (1): napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:33:56,579 connectionpool https://napi.kotaksecurities.com:443 "POST /oauth2/token HTTP/1.1" 200 None
DEBUG 2024-11-18 05:33:56,585 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:33:56,748 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
DEBUG 2024-11-18 05:33:56,752 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:33:56,920 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/otp/generate HTTP/1.1" 201 None
DEBUG 2024-11-18 05:33:56,924 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:33:57,070 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
INFO 2024-11-18 05:33:57,072 ksapi Login successful and client initialized.
INFO 2024-11-18 05:33:57,073 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 05:33:57,073 basehttp "GET /p/login HTTP/1.1" 200 40
DEBUG 2024-11-18 05:34:06,603 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:34:06,881 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 05:34:06,886 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 05:34:07,135 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_cm.csv HTTP/1.1" 200 2758322
INFO 2024-11-18 05:34:07,783 ksapi Raw search result: [{'pSymbol': 1594, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'INFY', 'pTrdSymbol': 'INFY-EQ', 'pOptionType': None, 'pScripRefKey': 'INFY', 'pISIN': 'INE009A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'INFOSYS LIMITED', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 467424000.0, 'pMaturityDate': None, 'pListingDate': 476668800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1414627200.0, 'pCreditRating': '1678.10-2051.00', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077499.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 500.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 49825, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 205100.0, 'dLowPriceRange': 167810.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 4152130000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 49825}, {'pSymbol': 12486, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'INFY', 'pTrdSymbol': 'INFY-BL', 'pOptionType': None, 'pScripRefKey': 'INFY-BL', 'pISIN': 'INE009A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'INFOSYS LIMITED', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1414627200.0, 'pCreditRating': '1845.90-1883.15', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071118.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 500.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 188315.0, 'dLowPriceRange': 184590.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 4152130000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}]
INFO 2024-11-18 05:34:12,402 ksapi Subprocess output: {"data": {"access_token": "eyJ4NXQiOiJNbUprWWpVMlpETmpNelpqTURBM05UZ3pObUUxTm1NNU1qTXpNR1kyWm1OaFpHUTFNakE1TmciLCJraWQiOiJaalJqTUdRek9URmhPV1EwTm1WallXWTNZemRtWkdOa1pUUmpaVEUxTlRnMFkyWTBZVEUyTlRCaVlURTRNak5tWkRVeE5qZ3pPVGM0TWpGbFkyWXpOUV9SUzI1NiIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjbGllbnQ0Njc3OCIsImF1dCI6IkFQUExJQ0FUSU9OIiwiYXVkIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsIm5iZiI6MTczMTkwODA1MCwiYXpwIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsInNjb3BlIjoiZGVmYXVsdCIsImlzcyI6Imh0dHBzOlwvXC9uYXBpLmtvdGFrc2VjdXJpdGllcy5jb206NDQzXC9vYXV0aDJcL3Rva2VuIiwiZXhwIjo1MzMxOTA4MDUwLCJpYXQiOjE3MzE5MDgwNTAsImp0aSI6ImE1OThkZDQ3LWY1ZWMtNDgyZi1iZDQ5LTM0ZDVkZDllOTdkNiJ9.Q3xPKfmQtX9TYGtvLKUtgPcEdOhwF84Nb4lqcJxtH3_bL1qTihFtNrUASADYYljD1m5NddFTxtC5cGgFc8S2O1xfS8hVO-2fznB_wCFAL78UO3GtLlQJhshqdrR5eTZJC9EznJdeQ1776Zd1oQRXJ7kRQOsEp6ts2XbCPaVxEErX-rwY5nHT9C6qXc15k69yrMYMvleKI-ur84dmB3IwLjPvoIT3tz3GVEydk7kLmxjA_QkDZTCmfF93aRX7HFDgtAisX86hXK1OfCxoBkMYJPQx9xaAVGheHc5MlCOPYtx6vSF4a56EQgFC8o1pQT9hRE1wQPo8L8j9aNqF98KsKA", "scope": "default", "token_type": "Bearer", "expires_in": 3600000000}}
Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[Res]: {'type': 'quotes', 'data': [{'last_traded_time': '18/11/2024 05:34:10', 'volume': '1765852', 'last_traded_price': '1800.00', 'last_traded_quantity': '4', 'total_buy_quantity': '172008', 'total_sell_quantity': '261540', 'buy_price': '1800.00', 'sell_price': '1800.55', 'buy_quantity': '8338', 'average_price': '1816.78', 'lower_circuit_limit': '1678.10', 'upper_circuit_limit': '2051.00', '52week_high': '1991.45', '52week_low': '1358.35', 'multiplier': '1', 'precision': '2', 'change': '-64.55', 'net_change_percentage': '-3.46', 'total_traded_value': '3208164596.56', 'instrument_token': '1594', 'exchange_segment': 'nse_cm', 'trading_symbol': 'INFY-EQ', 'request_type': 'SNAP', 'ohlc': {'open': '1849.20', 'high': '1849.20', 'low': '1797.05', 'close': '1864.55'}}]}
[Res]: Full response dumped to /home/anupamvm/Projects/py/mCube-V2/mcube/ksneo/quotes_response.csv

INFO 2024-11-18 05:34:12,403 basehttp "GET /p/getquote?symbol=INFY&index=False HTTP/1.1" 200 26
INFO 2024-11-18 05:34:12,403 basehttp "GET /p/getquote?symbol=INFY&index=False HTTP/1.1" 200 26
INFO 2024-11-18 05:43:29,537 utils Note: NumExpr detected 64 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
INFO 2024-11-18 05:43:29,538 utils NumExpr defaulting to 8 threads.
DEBUG 2024-11-18 05:43:44,446 connectionpool Starting new HTTPS connection (1): napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:43:44,657 connectionpool https://napi.kotaksecurities.com:443 "POST /oauth2/token HTTP/1.1" 200 None
DEBUG 2024-11-18 05:43:44,664 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:43:44,807 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
DEBUG 2024-11-18 05:43:44,812 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:43:44,978 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/otp/generate HTTP/1.1" 201 None
DEBUG 2024-11-18 05:43:44,983 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:43:45,121 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
INFO 2024-11-18 05:43:45,125 ksapi Login successful and client initialized.
INFO 2024-11-18 05:43:45,129 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 05:43:45,129 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 05:43:55,340 basehttp "GET /p/ HTTP/1.1" 200 383
INFO 2024-11-18 05:43:55,340 basehttp "GET /p/ HTTP/1.1" 200 383
DEBUG 2024-11-18 05:44:06,099 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:44:06,539 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 05:44:06,544 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 05:44:06,775 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_cm.csv HTTP/1.1" 200 2758322
INFO 2024-11-18 05:44:08,004 ksapi Raw search result: [{'pSymbol': 25946, 'pGroup': 'N0', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': '835TCSL27', 'pTrdSymbol': '835TCSL27-N0', 'pOptionType': None, 'pScripRefKey': '835TCSL27-N0', 'pISIN': 'INE729N07065', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TVS CREDIT 8.35% 2027', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 1, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 1414800000.0, 'pMaturityDate': None, 'pListingDate': 1414800000.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '80000.00-120000.00', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416069605.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 10000000.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 1000, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 12000000.0, 'dLowPriceRange': 8000000.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 50000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 1000}, {'pSymbol': 3799, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-EQ', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 484531200.0, 'pMaturityDate': None, 'pListingDate': 0.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '437.05-655.55', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 183021, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 65555.0, 'dLowPriceRange': 43705.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 183021}, {'pSymbol': 11536, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-EQ', 'pOptionType': None, 'pScripRefKey': 'TCS', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 777859200.0, 'pMaturityDate': None, 'pListingDate': 777859200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '3731.35-4560.45', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 21708, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 456045.0, 'dLowPriceRange': 373135.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 21708}, {'pSymbol': 12825, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-BL', 'pOptionType': None, 'pScripRefKey': 'TCS-BL', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '4104.45-4187.35', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071130.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 418735.0, 'dLowPriceRange': 410445.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}, {'pSymbol': 12897, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-BL', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR-BL', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '540.85-551.75', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071122.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 55175.0, 'dLowPriceRange': 54085.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}]
INFO 2024-11-18 05:44:14,942 ksapi Subprocess output: {"data": {"access_token": "eyJ4NXQiOiJNbUprWWpVMlpETmpNelpqTURBM05UZ3pObUUxTm1NNU1qTXpNR1kyWm1OaFpHUTFNakE1TmciLCJraWQiOiJaalJqTUdRek9URmhPV1EwTm1WallXWTNZemRtWkdOa1pUUmpaVEUxTlRnMFkyWTBZVEUyTlRCaVlURTRNak5tWkRVeE5qZ3pPVGM0TWpGbFkyWXpOUV9SUzI1NiIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjbGllbnQ0Njc3OCIsImF1dCI6IkFQUExJQ0FUSU9OIiwiYXVkIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsIm5iZiI6MTczMTkwODY1MywiYXpwIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsInNjb3BlIjoiZGVmYXVsdCIsImlzcyI6Imh0dHBzOlwvXC9uYXBpLmtvdGFrc2VjdXJpdGllcy5jb206NDQzXC9vYXV0aDJcL3Rva2VuIiwiZXhwIjo1MzMxOTA4NjUzLCJpYXQiOjE3MzE5MDg2NTMsImp0aSI6Ijk1OTE4YmY2LTZjMWEtNDlmMC1iMzRkLTk3NGJiZWI0MjM0NCJ9.DIH78EWZlnm993Y4b2EzWi5tcGHN53H-7GKZBiiYsddihi_dxzzOAIUi7LEHbaV0XUVmdJTTGVLAAqQvIotjoZuxMEkD3yjERPYqh5EZNHWp2cyvtjq79jBma2nzSlELcbJfhFlpLtUGNiqgd1aVIGOqvk8zu4hA0TUcxOO7Ey6jSmjknk4VoQ4H7ynOwzJtb5NU5r8n4ODS2E0CGPX_zBNo_Pfl6TmThiSwLnPs0yQNsg9xGS3xIrb5k6Kio-D64znPtuJDF7Ts15zdcYF_havTCOqDVz9x39uw4mQfz42pGgcSaf7lgWAeMN07SqirIbDTo3vUSgBERrwN83QXQQ", "scope": "default", "token_type": "Bearer", "expires_in": 3600000000}}
Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[Res]: {'type': 'quotes', 'data': [{'last_traded_time': '18/11/2024 05:44:12', 'volume': '1974942', 'last_traded_price': '4003.55', 'last_traded_quantity': '3', 'total_buy_quantity': '96912', 'total_sell_quantity': '171474', 'buy_price': '4003.00', 'sell_price': '4003.55', 'buy_quantity': '10', 'average_price': '4107.06', 'lower_circuit_limit': '3731.35', 'upper_circuit_limit': '4560.45', '52week_high': '4592.25', '52week_low': '3356.05', 'multiplier': '1', 'precision': '2', 'change': '-142.35', 'net_change_percentage': '-3.43', 'total_traded_value': '8111205290.52', 'instrument_token': '11536', 'exchange_segment': 'nse_cm', 'trading_symbol': 'TCS-EQ', 'request_type': 'SNAP', 'ohlc': {'open': '4213.00', 'high': '4213.00', 'low': '3990.20', 'close': '4145.90'}}]}
[Res]: Full response dumped to /home/anupamvm/Projects/py/mCube-V2/mcube/ksneo/quotes_response.csv

INFO 2024-11-18 05:44:14,945 basehttp "GET /p/getquote HTTP/1.1" 200 26
INFO 2024-11-18 05:44:14,945 basehttp "GET /p/getquote HTTP/1.1" 200 26
INFO 2024-11-18 05:44:26,803 ksapi Subprocess output: {"data": {"access_token": "eyJ4NXQiOiJNbUprWWpVMlpETmpNelpqTURBM05UZ3pObUUxTm1NNU1qTXpNR1kyWm1OaFpHUTFNakE1TmciLCJraWQiOiJaalJqTUdRek9URmhPV1EwTm1WallXWTNZemRtWkdOa1pUUmpaVEUxTlRnMFkyWTBZVEUyTlRCaVlURTRNak5tWkRVeE5qZ3pPVGM0TWpGbFkyWXpOUV9SUzI1NiIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjbGllbnQ0Njc3OCIsImF1dCI6IkFQUExJQ0FUSU9OIiwiYXVkIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsIm5iZiI6MTczMTkwODY2NSwiYXpwIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsInNjb3BlIjoiZGVmYXVsdCIsImlzcyI6Imh0dHBzOlwvXC9uYXBpLmtvdGFrc2VjdXJpdGllcy5jb206NDQzXC9vYXV0aDJcL3Rva2VuIiwiZXhwIjo1MzMxOTA4NjY1LCJpYXQiOjE3MzE5MDg2NjUsImp0aSI6IjkxOGRjODRjLTM5MmQtNGUzMS04YzVlLTdiNzI4YmIwMWFkOSJ9.QSFu3FgjryOWwY-QOo3mx90V9j3bgbbg7WP3DDw0ILPqB8nWj1Med73Cel4-NgMxp5ZhXwxTO8dARM0OXC72CN9wzvlKURGEgw2O50XYUTjMP4SRWlUpDECRt3de1NLxfoqqVSpRVdrS4GkRH8r5KY-jFJLDpy-kuWJz_LcYs1I7bUqqPEKD0epCgLRZg9z9JsJ9KKKl6HoWA-9H6G2RAdPyZA6xmfwVeimbwF2SpcMi68soHoDMo-Gf-USgOSNetGKQNHJh2JROMhYOc1FCoQPS_S1UTO7v-jCrPynxZUu3hWMAZ9S_3GpBqmazk4YPzNAs7VFzAmTrWe_iJp2Asg", "scope": "default", "token_type": "Bearer", "expires_in": 3600000000}}
Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[Res]: {'type': 'quotes', 'data': [{'last_traded_price': '23380.95', 'prev_day_close': '23532.7', 'timestamp': '18/11/2024 05:44:25', 'high_price': '23606.8', 'low_price': '23350.4', 'open': '23605.3', 'precision': '2', 'change': '-151.75', 'net_change_percentage': '-0.64', 'instrument_token': 'Nifty 50', 'exchange_segment': 'nse_cm'}]}
[Res]: Full response dumped to /home/anupamvm/Projects/py/mCube-V2/mcube/ksneo/quotes_response.csv

INFO 2024-11-18 05:44:26,804 basehttp "GET /p/getquote?symbol=Nifty%2050&index=True HTTP/1.1" 200 26
INFO 2024-11-18 05:44:26,804 basehttp "GET /p/getquote?symbol=Nifty%2050&index=True HTTP/1.1" 200 26
INFO 2024-11-18 05:44:34,678 ksapi Subprocess output: {"data": {"access_token": "eyJ4NXQiOiJNbUprWWpVMlpETmpNelpqTURBM05UZ3pObUUxTm1NNU1qTXpNR1kyWm1OaFpHUTFNakE1TmciLCJraWQiOiJaalJqTUdRek9URmhPV1EwTm1WallXWTNZemRtWkdOa1pUUmpaVEUxTlRnMFkyWTBZVEUyTlRCaVlURTRNak5tWkRVeE5qZ3pPVGM0TWpGbFkyWXpOUV9SUzI1NiIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjbGllbnQ0Njc3OCIsImF1dCI6IkFQUExJQ0FUSU9OIiwiYXVkIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsIm5iZiI6MTczMTkwODY3MywiYXpwIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsInNjb3BlIjoiZGVmYXVsdCIsImlzcyI6Imh0dHBzOlwvXC9uYXBpLmtvdGFrc2VjdXJpdGllcy5jb206NDQzXC9vYXV0aDJcL3Rva2VuIiwiZXhwIjo1MzMxOTA4NjczLCJpYXQiOjE3MzE5MDg2NzMsImp0aSI6ImFiOGZmMjI4LWVlMGQtNDJjOC04M2M4LTFiNTJhODU0NTFlYSJ9.abHD9HBMM3liEGkIiJVkA0HgwZ_amh7uGdOG9vPQ0i2WSHSqaGLllV9ZnvZCJw4TN3vNIOGHklZM8G4YKB9ZDB12Mbq6eQCpIDAxud_y_qZvHHyM6dh-xD8yAkoYpUacX8J1ml_G2VTQKf1pxHkYYX1mYa5SJqMX35EBa4LbO9qMsp1H4__tCUuJKo_Mf8vLVGB58sA3jJKqnPowHvLqzy0OQvAmBzSVnQv4Hekuv5H_2KdPwleqxCRBTaaK_fnJkDLZCjVoRz_FshEbuRZdCXQP78JEIoAfXWRb6xmgeeY0-wcpgPI_fAgmFeStFUFwesaQZ0ofbWelxE6EL9tizA", "scope": "default", "token_type": "Bearer", "expires_in": 3600000000}}
Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[Res]: {'type': 'quotes', 'data': [{'last_traded_price': '23381.9', 'prev_day_close': '23532.7', 'timestamp': '18/11/2024 05:44:33', 'high_price': '23606.8', 'low_price': '23350.4', 'open': '23605.3', 'precision': '2', 'change': '-150.8', 'net_change_percentage': '-0.64', 'instrument_token': 'Nifty 50', 'exchange_segment': 'nse_cm'}]}
[Res]: Full response dumped to /home/anupamvm/Projects/py/mCube-V2/mcube/ksneo/quotes_response.csv

INFO 2024-11-18 05:44:34,679 basehttp "GET /p/getquote?symbol=Nifty%2050&index=True HTTP/1.1" 200 26
INFO 2024-11-18 05:44:34,679 basehttp "GET /p/getquote?symbol=Nifty%2050&index=True HTTP/1.1" 200 26
DEBUG 2024-11-18 05:44:44,473 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:44:44,597 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 401 None
INFO 2024-11-18 05:44:44,599 ksapi Raw search result: {'Error': KeyError('data'), 'message': 'Exchange Segment is not available'}
ERROR 2024-11-18 05:44:44,601 ksapi Error during search: 'pGroup'
ERROR 2024-11-18 05:44:44,601 log Internal Server Error: /p/getquote
ERROR 2024-11-18 05:44:44,601 log Internal Server Error: /p/getquote
ERROR 2024-11-18 05:44:44,602 basehttp "GET /p/getquote HTTP/1.1" 500 34
ERROR 2024-11-18 05:44:44,602 basehttp "GET /p/getquote HTTP/1.1" 500 34
DEBUG 2024-11-18 05:45:03,687 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:45:03,960 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 401 None
INFO 2024-11-18 05:45:03,963 ksapi Raw search result: {'Error': KeyError('data'), 'message': 'Exchange Segment is not available'}
ERROR 2024-11-18 05:45:03,964 ksapi Error during search: 'pGroup'
ERROR 2024-11-18 05:45:03,964 log Internal Server Error: /p/getquote
ERROR 2024-11-18 05:45:03,964 log Internal Server Error: /p/getquote
ERROR 2024-11-18 05:45:03,965 basehttp "GET /p/getquote HTTP/1.1" 500 34
ERROR 2024-11-18 05:45:03,965 basehttp "GET /p/getquote HTTP/1.1" 500 34
DEBUG 2024-11-18 05:45:08,667 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:45:08,792 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 401 None
INFO 2024-11-18 05:45:08,794 ksapi Raw search result: {'Error': KeyError('data'), 'message': 'Exchange Segment is not available'}
ERROR 2024-11-18 05:45:08,795 ksapi Error during search: 'pGroup'
ERROR 2024-11-18 05:45:08,796 log Internal Server Error: /p/search
ERROR 2024-11-18 05:45:08,796 log Internal Server Error: /p/search
ERROR 2024-11-18 05:45:08,797 basehttp "GET /p/search HTTP/1.1" 500 34
ERROR 2024-11-18 05:45:08,797 basehttp "GET /p/search HTTP/1.1" 500 34
DEBUG 2024-11-18 05:45:09,380 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:45:09,502 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 401 None
INFO 2024-11-18 05:45:09,504 ksapi Raw search result: {'Error': KeyError('data'), 'message': 'Exchange Segment is not available'}
ERROR 2024-11-18 05:45:09,505 ksapi Error during search: 'pGroup'
ERROR 2024-11-18 05:45:09,506 log Internal Server Error: /p/search
ERROR 2024-11-18 05:45:09,506 log Internal Server Error: /p/search
ERROR 2024-11-18 05:45:09,507 basehttp "GET /p/search HTTP/1.1" 500 34
ERROR 2024-11-18 05:45:09,507 basehttp "GET /p/search HTTP/1.1" 500 34
DEBUG 2024-11-18 05:45:50,525 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:45:50,645 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 401 None
INFO 2024-11-18 05:45:59,239 ksapi Raw search result: {'Error': KeyError('data'), 'message': 'Exchange Segment is not available'}
ERROR 2024-11-18 05:45:59,241 ksapi Error during search: 'pGroup'
ERROR 2024-11-18 05:45:59,244 log Internal Server Error: /p/search
ERROR 2024-11-18 05:45:59,244 log Internal Server Error: /p/search
ERROR 2024-11-18 05:45:59,245 basehttp "GET /p/search HTTP/1.1" 500 34
ERROR 2024-11-18 05:45:59,245 basehttp "GET /p/search HTTP/1.1" 500 34
WARNING 2024-11-18 05:46:11,001 log Not Found: /p/index
WARNING 2024-11-18 05:46:11,001 log Not Found: /p/index
WARNING 2024-11-18 05:46:11,002 basehttp "GET /p/index HTTP/1.1" 404 3415
WARNING 2024-11-18 05:46:11,002 basehttp "GET /p/index HTTP/1.1" 404 3415
DEBUG 2024-11-18 05:46:17,468 connectionpool Starting new HTTPS connection (1): napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:46:17,737 connectionpool https://napi.kotaksecurities.com:443 "POST /oauth2/token HTTP/1.1" 200 None
DEBUG 2024-11-18 05:46:17,744 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:46:17,893 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
DEBUG 2024-11-18 05:46:17,898 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:46:18,065 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/otp/generate HTTP/1.1" 201 None
DEBUG 2024-11-18 05:46:18,070 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:46:18,217 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
INFO 2024-11-18 05:46:18,220 ksapi Login successful and client initialized.
INFO 2024-11-18 05:46:18,221 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 05:46:18,221 basehttp "GET /p/login HTTP/1.1" 200 40
DEBUG 2024-11-18 05:46:29,558 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 05:46:29,853 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 05:46:29,858 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 05:46:30,112 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_cm.csv HTTP/1.1" 200 2758322
INFO 2024-11-18 05:46:30,828 ksapi Raw search result: [{'pSymbol': 25946, 'pGroup': 'N0', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': '835TCSL27', 'pTrdSymbol': '835TCSL27-N0', 'pOptionType': None, 'pScripRefKey': '835TCSL27-N0', 'pISIN': 'INE729N07065', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TVS CREDIT 8.35% 2027', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 1, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 1414800000.0, 'pMaturityDate': None, 'pListingDate': 1414800000.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '80000.00-120000.00', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416069605.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 10000000.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 1000, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 12000000.0, 'dLowPriceRange': 8000000.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 50000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 1000}, {'pSymbol': 3799, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-EQ', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 484531200.0, 'pMaturityDate': None, 'pListingDate': 0.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '437.05-655.55', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 183021, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 65555.0, 'dLowPriceRange': 43705.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 183021}, {'pSymbol': 11536, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-EQ', 'pOptionType': None, 'pScripRefKey': 'TCS', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 777859200.0, 'pMaturityDate': None, 'pListingDate': 777859200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '3731.35-4560.45', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 21708, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 456045.0, 'dLowPriceRange': 373135.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 21708}, {'pSymbol': 12825, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-BL', 'pOptionType': None, 'pScripRefKey': 'TCS-BL', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '4104.45-4187.35', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071130.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 418735.0, 'dLowPriceRange': 410445.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}, {'pSymbol': 12897, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-BL', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR-BL', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '540.85-551.75', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071122.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 55175.0, 'dLowPriceRange': 54085.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}]
INFO 2024-11-18 05:46:30,838 basehttp "GET /p/search HTTP/1.1" 200 22
INFO 2024-11-18 05:46:30,838 basehttp "GET /p/search HTTP/1.1" 200 22
WARNING 2024-11-18 05:46:41,910 log Not Found: /p/quote
WARNING 2024-11-18 05:46:41,910 log Not Found: /p/quote
WARNING 2024-11-18 05:46:41,911 basehttp "GET /p/quote HTTP/1.1" 404 3415
WARNING 2024-11-18 05:46:41,911 basehttp "GET /p/quote HTTP/1.1" 404 3415
INFO 2024-11-18 05:46:53,389 ksapi Subprocess output: {"data": {"access_token": "eyJ4NXQiOiJNbUprWWpVMlpETmpNelpqTURBM05UZ3pObUUxTm1NNU1qTXpNR1kyWm1OaFpHUTFNakE1TmciLCJraWQiOiJaalJqTUdRek9URmhPV1EwTm1WallXWTNZemRtWkdOa1pUUmpaVEUxTlRnMFkyWTBZVEUyTlRCaVlURTRNak5tWkRVeE5qZ3pPVGM0TWpGbFkyWXpOUV9SUzI1NiIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjbGllbnQ0Njc3OCIsImF1dCI6IkFQUExJQ0FUSU9OIiwiYXVkIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsIm5iZiI6MTczMTkwODgxMiwiYXpwIjoiTmttSmZHbkFlaExwZERtM3dTUEZSN2lDTWo0YSIsInNjb3BlIjoiZGVmYXVsdCIsImlzcyI6Imh0dHBzOlwvXC9uYXBpLmtvdGFrc2VjdXJpdGllcy5jb206NDQzXC9vYXV0aDJcL3Rva2VuIiwiZXhwIjo1MzMxOTA4ODEyLCJpYXQiOjE3MzE5MDg4MTIsImp0aSI6ImY2MzUxYTNlLTQyMmItNGVlNi1iNTY3LThhODgwNDVlMzZjNCJ9.Zwm6-jy4UBOSTanYEeEPbgRhKOlX3TgLO2FBnqD5PO7gj9adspgHwfcoTjGeNVZJqZ7lOlNUoMZ6wRDyG6f0JZ-LmnGh_NMtkc6Ifz57Fq2bp0NKSFxVprFMebmgiDikXITE6m8QGo2aE-z5tGHNcliPxdfLhdu-KA5oKPwEWkaKA6Lf-0TmAKb1oSmyaChjDu_B9pOxAyMZjx_3Razt4avyGE9jxINLvC_JwOgUfX98qMehfZJj5KAzVXcrRqfVqTFxiUscgClWGwWCpVk71uFaehd3NYo-XzmiHp7jnGb7WVti1e2t9indwbLbVVYLrgqOvIDbN9l9GkwpnlDQxw", "scope": "default", "token_type": "Bearer", "expires_in": 3600000000}}
Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[Res]: {'type': 'quotes', 'data': [{'last_traded_price': '23391.95', 'prev_day_close': '23532.7', 'timestamp': '18/11/2024 05:46:52', 'high_price': '23606.8', 'low_price': '23350.4', 'open': '23605.3', 'precision': '2', 'change': '-140.75', 'net_change_percentage': '-0.6', 'instrument_token': 'Nifty 50', 'exchange_segment': 'nse_cm'}]}
[Res]: Full response dumped to /home/anupamvm/Projects/py/mCube-V2/mcube/ksneo/quotes_response.csv

INFO 2024-11-18 05:46:53,390 basehttp "GET /p/getquote?symbol=Nifty%2050&index=True HTTP/1.1" 200 26
INFO 2024-11-18 05:46:53,390 basehttp "GET /p/getquote?symbol=Nifty%2050&index=True HTTP/1.1" 200 26
INFO 2024-11-18 05:53:38,922 utils Note: NumExpr detected 64 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
INFO 2024-11-18 05:53:38,923 utils NumExpr defaulting to 8 threads.
INFO 2024-11-18 05:54:26,478 utils Note: NumExpr detected 64 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
INFO 2024-11-18 05:54:26,478 utils NumExpr defaulting to 8 threads.
INFO 2024-11-18 05:56:58,918 utils Note: NumExpr detected 64 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
INFO 2024-11-18 05:56:58,918 utils NumExpr defaulting to 8 threads.
INFO 2024-11-18 05:57:08,254 utils Note: NumExpr detected 64 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
INFO 2024-11-18 05:57:08,255 utils NumExpr defaulting to 8 threads.
INFO 2024-11-18 06:09:25,720 utils Note: NumExpr detected 64 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
INFO 2024-11-18 06:09:25,721 utils NumExpr defaulting to 8 threads.
INFO 2024-11-18 06:11:40,958 utils Note: NumExpr detected 64 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
INFO 2024-11-18 06:11:40,959 utils NumExpr defaulting to 8 threads.
INFO 2024-11-18 06:17:23,351 basehttp "GET /p/ HTTP/1.1" 200 383
INFO 2024-11-18 06:17:23,351 basehttp "GET /p/ HTTP/1.1" 200 383
DEBUG 2024-11-18 06:17:27,870 connectionpool Starting new HTTPS connection (1): napi.kotaksecurities.com:443
DEBUG 2024-11-18 06:17:28,156 connectionpool https://napi.kotaksecurities.com:443 "POST /oauth2/token HTTP/1.1" 200 None
DEBUG 2024-11-18 06:17:28,166 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 06:17:28,323 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
DEBUG 2024-11-18 06:17:28,332 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 06:17:28,494 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/otp/generate HTTP/1.1" 201 None
DEBUG 2024-11-18 06:17:28,499 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 06:17:28,641 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
INFO 2024-11-18 06:17:28,643 ksapi Login successful and client initialized.
INFO 2024-11-18 06:17:28,644 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 06:17:28,644 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 06:18:33,925 ksapi Subprocess output: Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[Res]: {'type': 'quotes', 'data': [{'last_traded_price': '23439.2', 'prev_day_close': '23532.7', 'timestamp': '18/11/2024 06:18:32', 'high_price': '23606.8', 'low_price': '23350.4', 'open': '23605.3', 'precision': '2', 'change': '-93.5', 'net_change_percentage': '-0.4', 'instrument_token': 'Nifty 50', 'exchange_segment': 'nse_cm'}]}
[Res]: Full response dumped to /home/anupamvm/Projects/py/mCube-V2/mcube/ksneo/quotes_response.csv

INFO 2024-11-18 06:18:33,928 basehttp "GET /p/getquote?symbol=Nifty%2050&index=True HTTP/1.1" 200 26
INFO 2024-11-18 06:18:33,928 basehttp "GET /p/getquote?symbol=Nifty%2050&index=True HTTP/1.1" 200 26
INFO 2024-11-18 06:18:46,786 ksapi Subprocess output: Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[Res]: {'type': 'quotes', 'data': [{'last_traded_price': '23434.85', 'prev_day_close': '23532.7', 'timestamp': '18/11/2024 06:18:45', 'high_price': '23606.8', 'low_price': '23350.4', 'open': '23605.3', 'precision': '2', 'change': '-97.85', 'net_change_percentage': '-0.42', 'instrument_token': 'Nifty 50', 'exchange_segment': 'nse_cm'}]}
[Res]: Full response dumped to /home/anupamvm/Projects/py/mCube-V2/mcube/ksneo/quotes_response.csv

INFO 2024-11-18 06:18:46,787 basehttp "GET /p/getquote?symbol=Nifty%2050&index=True HTTP/1.1" 200 26
INFO 2024-11-18 06:18:46,787 basehttp "GET /p/getquote?symbol=Nifty%2050&index=True HTTP/1.1" 200 26
INFO 2024-11-18 06:19:04,622 ksapi Subprocess output: Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[Res]: {'type': 'quotes', 'data': [{'last_traded_price': '23434.45', 'prev_day_close': '23532.7', 'timestamp': '18/11/2024 06:19:03', 'high_price': '23606.8', 'low_price': '23350.4', 'open': '23605.3', 'precision': '2', 'change': '-98.25', 'net_change_percentage': '-0.42', 'instrument_token': 'Nifty 50', 'exchange_segment': 'nse_cm'}]}
[Res]: Full response dumped to /home/anupamvm/Projects/py/mCube-V2/mcube/ksneo/quotes_response.csv

INFO 2024-11-18 06:19:04,623 basehttp "GET /p/getquote?symbol=Nifty%2050&index=True HTTP/1.1" 200 26
INFO 2024-11-18 06:19:04,623 basehttp "GET /p/getquote?symbol=Nifty%2050&index=True HTTP/1.1" 200 26
DEBUG 2024-11-18 06:19:16,501 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 06:19:16,764 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 06:19:16,769 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 06:19:17,006 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_cm.csv HTTP/1.1" 200 2758322
INFO 2024-11-18 06:19:17,668 ksapi Raw search result: [{'pSymbol': 25946, 'pGroup': 'N0', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': '835TCSL27', 'pTrdSymbol': '835TCSL27-N0', 'pOptionType': None, 'pScripRefKey': '835TCSL27-N0', 'pISIN': 'INE729N07065', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TVS CREDIT 8.35% 2027', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 1, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 1414800000.0, 'pMaturityDate': None, 'pListingDate': 1414800000.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '80000.00-120000.00', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416069605.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 10000000.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 1000, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 12000000.0, 'dLowPriceRange': 8000000.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 50000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 1000}, {'pSymbol': 3799, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-EQ', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 484531200.0, 'pMaturityDate': None, 'pListingDate': 0.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '437.05-655.55', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 183021, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 65555.0, 'dLowPriceRange': 43705.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 183021}, {'pSymbol': 11536, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-EQ', 'pOptionType': None, 'pScripRefKey': 'TCS', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 777859200.0, 'pMaturityDate': None, 'pListingDate': 777859200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '3731.35-4560.45', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 21708, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 456045.0, 'dLowPriceRange': 373135.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 21708}, {'pSymbol': 12825, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-BL', 'pOptionType': None, 'pScripRefKey': 'TCS-BL', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '4104.45-4187.35', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071130.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 418735.0, 'dLowPriceRange': 410445.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}, {'pSymbol': 12897, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-BL', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR-BL', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '540.85-551.75', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071122.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 55175.0, 'dLowPriceRange': 54085.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}]
INFO 2024-11-18 06:19:22,050 ksapi Subprocess output: Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[Res]: {'type': 'quotes', 'data': [{'last_traded_time': '18/11/2024 06:19:20', 'volume': '2196560', 'last_traded_price': '4020.05', 'last_traded_quantity': '70', 'total_buy_quantity': '101515', 'total_sell_quantity': '162735', 'buy_price': '4020.00', 'sell_price': '4020.05', 'buy_quantity': '203', 'average_price': '4097.47', 'lower_circuit_limit': '3731.35', 'upper_circuit_limit': '4560.45', '52week_high': '4592.25', '52week_low': '3356.05', 'multiplier': '1', 'precision': '2', 'change': '-125.85', 'net_change_percentage': '-3.04', 'total_traded_value': '9000338703.20', 'instrument_token': '11536', 'exchange_segment': 'nse_cm', 'trading_symbol': 'TCS-EQ', 'request_type': 'SNAP', 'ohlc': {'open': '4213.00', 'high': '4213.00', 'low': '3990.20', 'close': '4145.90'}}]}
[Res]: Full response dumped to /home/anupamvm/Projects/py/mCube-V2/mcube/ksneo/quotes_response.csv

INFO 2024-11-18 06:19:22,051 basehttp "GET /p/getquote HTTP/1.1" 200 26
INFO 2024-11-18 06:19:22,051 basehttp "GET /p/getquote HTTP/1.1" 200 26
INFO 2024-11-18 07:16:18,338 utils Note: NumExpr detected 64 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
INFO 2024-11-18 07:16:18,338 utils NumExpr defaulting to 8 threads.
ERROR 2024-11-18 07:16:50,050 log Internal Server Error: /p/search
ERROR 2024-11-18 07:16:50,050 log Internal Server Error: /p/search
ERROR 2024-11-18 07:16:50,052 basehttp "GET /p/search HTTP/1.1" 500 72
ERROR 2024-11-18 07:16:50,052 basehttp "GET /p/search HTTP/1.1" 500 72
ERROR 2024-11-18 07:17:01,921 log Internal Server Error: /p/search
ERROR 2024-11-18 07:17:01,921 log Internal Server Error: /p/search
ERROR 2024-11-18 07:17:01,923 basehttp "GET /p/search HTTP/1.1" 500 72
ERROR 2024-11-18 07:17:01,923 basehttp "GET /p/search HTTP/1.1" 500 72
DEBUG 2024-11-18 07:17:12,769 connectionpool Starting new HTTPS connection (1): napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:17:13,883 connectionpool https://napi.kotaksecurities.com:443 "POST /oauth2/token HTTP/1.1" 200 None
DEBUG 2024-11-18 07:17:13,890 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:17:14,069 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
DEBUG 2024-11-18 07:17:14,073 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:17:14,232 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/otp/generate HTTP/1.1" 201 None
DEBUG 2024-11-18 07:17:14,237 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:17:14,372 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
INFO 2024-11-18 07:17:14,375 ksapi Login successful and client initialized.
INFO 2024-11-18 07:17:14,375 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 07:17:14,375 basehttp "GET /p/login HTTP/1.1" 200 40
DEBUG 2024-11-18 07:17:23,438 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:17:23,758 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 07:17:23,763 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 07:17:24,050 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_cm.csv HTTP/1.1" 200 2758322
INFO 2024-11-18 07:17:24,634 ksapi Raw search result: [{'pSymbol': 25946, 'pGroup': 'N0', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': '835TCSL27', 'pTrdSymbol': '835TCSL27-N0', 'pOptionType': None, 'pScripRefKey': '835TCSL27-N0', 'pISIN': 'INE729N07065', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TVS CREDIT 8.35% 2027', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 1, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 1414800000.0, 'pMaturityDate': None, 'pListingDate': 1414800000.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '80000.00-120000.00', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416069605.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 10000000.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 1000, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 12000000.0, 'dLowPriceRange': 8000000.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 50000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 1000}, {'pSymbol': 3799, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-EQ', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 484531200.0, 'pMaturityDate': None, 'pListingDate': 0.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '437.05-655.55', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 183021, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 65555.0, 'dLowPriceRange': 43705.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 183021}, {'pSymbol': 11536, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-EQ', 'pOptionType': None, 'pScripRefKey': 'TCS', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 777859200.0, 'pMaturityDate': None, 'pListingDate': 777859200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '3731.35-4560.45', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 21708, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 456045.0, 'dLowPriceRange': 373135.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 21708}, {'pSymbol': 12825, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-BL', 'pOptionType': None, 'pScripRefKey': 'TCS-BL', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '4104.45-4187.35', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071130.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 418735.0, 'dLowPriceRange': 410445.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}, {'pSymbol': 12897, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-BL', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR-BL', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '540.85-551.75', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071122.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 55175.0, 'dLowPriceRange': 54085.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}]
INFO 2024-11-18 07:17:24,644 basehttp "GET /p/search HTTP/1.1" 200 22
INFO 2024-11-18 07:17:24,644 basehttp "GET /p/search HTTP/1.1" 200 22
DEBUG 2024-11-18 07:19:28,446 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:19:28,854 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 07:19:28,859 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 07:19:29,200 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_cm.csv HTTP/1.1" 200 2758322
INFO 2024-11-18 07:19:30,620 ksapi Raw search result: [{'pSymbol': 25946, 'pGroup': 'N0', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': '835TCSL27', 'pTrdSymbol': '835TCSL27-N0', 'pOptionType': None, 'pScripRefKey': '835TCSL27-N0', 'pISIN': 'INE729N07065', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TVS CREDIT 8.35% 2027', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 1, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 1414800000.0, 'pMaturityDate': None, 'pListingDate': 1414800000.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '80000.00-120000.00', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416069605.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 10000000.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 1000, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 12000000.0, 'dLowPriceRange': 8000000.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 50000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 1000}, {'pSymbol': 3799, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-EQ', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 484531200.0, 'pMaturityDate': None, 'pListingDate': 0.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '437.05-655.55', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 183021, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 65555.0, 'dLowPriceRange': 43705.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 183021}, {'pSymbol': 11536, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-EQ', 'pOptionType': None, 'pScripRefKey': 'TCS', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 777859200.0, 'pMaturityDate': None, 'pListingDate': 777859200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '3731.35-4560.45', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 21708, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 456045.0, 'dLowPriceRange': 373135.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 21708}, {'pSymbol': 12825, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-BL', 'pOptionType': None, 'pScripRefKey': 'TCS-BL', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '4104.45-4187.35', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071130.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 418735.0, 'dLowPriceRange': 410445.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}, {'pSymbol': 12897, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-BL', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR-BL', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '540.85-551.75', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071122.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 55175.0, 'dLowPriceRange': 54085.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}]
INFO 2024-11-18 07:19:30,628 basehttp "GET /p/search?exch_seg=nse_fo&expirydate=29NOV2024&optype=CE&stkprice=4000 HTTP/1.1" 200 22
INFO 2024-11-18 07:19:30,628 basehttp "GET /p/search?exch_seg=nse_fo&expirydate=29NOV2024&optype=CE&stkprice=4000 HTTP/1.1" 200 22
DEBUG 2024-11-18 07:20:19,356 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:20:19,683 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 07:20:19,688 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 07:20:19,932 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_cm.csv HTTP/1.1" 200 2758322
INFO 2024-11-18 07:20:20,771 ksapi Raw search result: [{'pSymbol': 25946, 'pGroup': 'N0', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': '835TCSL27', 'pTrdSymbol': '835TCSL27-N0', 'pOptionType': None, 'pScripRefKey': '835TCSL27-N0', 'pISIN': 'INE729N07065', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TVS CREDIT 8.35% 2027', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 1, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 1414800000.0, 'pMaturityDate': None, 'pListingDate': 1414800000.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '80000.00-120000.00', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416069605.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 10000000.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 1000, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 12000000.0, 'dLowPriceRange': 8000000.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 50000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 1000}, {'pSymbol': 3799, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-EQ', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 484531200.0, 'pMaturityDate': None, 'pListingDate': 0.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '437.05-655.55', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 183021, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 65555.0, 'dLowPriceRange': 43705.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 183021}, {'pSymbol': 11536, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-EQ', 'pOptionType': None, 'pScripRefKey': 'TCS', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 777859200.0, 'pMaturityDate': None, 'pListingDate': 777859200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '3731.35-4560.45', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 21708, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 456045.0, 'dLowPriceRange': 373135.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 21708}, {'pSymbol': 12825, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-BL', 'pOptionType': None, 'pScripRefKey': 'TCS-BL', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '4104.45-4187.35', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071130.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 418735.0, 'dLowPriceRange': 410445.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}, {'pSymbol': 12897, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-BL', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR-BL', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '540.85-551.75', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071122.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 55175.0, 'dLowPriceRange': 54085.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}]
INFO 2024-11-18 07:20:20,780 basehttp "GET /p/search?exch_seg=nse_fo&expirydate=29NOV2024&optype=CE&stkprice=4100 HTTP/1.1" 200 22
INFO 2024-11-18 07:20:20,780 basehttp "GET /p/search?exch_seg=nse_fo&expirydate=29NOV2024&optype=CE&stkprice=4100 HTTP/1.1" 200 22
DEBUG 2024-11-18 07:22:20,725 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:22:21,021 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 07:22:21,028 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 07:22:21,265 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_fo.csv HTTP/1.1" 200 11145142
DEBUG 2024-11-18 07:22:21,798 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:22:22,087 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 07:22:22,091 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 07:22:22,324 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_cm.csv HTTP/1.1" 200 2758322
INFO 2024-11-18 07:22:22,891 ksapi Raw search result: [{'pSymbol': 25946, 'pGroup': 'N0', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': '835TCSL27', 'pTrdSymbol': '835TCSL27-N0', 'pOptionType': None, 'pScripRefKey': '835TCSL27-N0', 'pISIN': 'INE729N07065', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TVS CREDIT 8.35% 2027', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 1, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 1414800000.0, 'pMaturityDate': None, 'pListingDate': 1414800000.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '80000.00-120000.00', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416069605.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 10000000.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 1000, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 12000000.0, 'dLowPriceRange': 8000000.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 50000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 1000}, {'pSymbol': 3799, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-EQ', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 484531200.0, 'pMaturityDate': None, 'pListingDate': 0.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '437.05-655.55', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 183021, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 65555.0, 'dLowPriceRange': 43705.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 183021}, {'pSymbol': 11536, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-EQ', 'pOptionType': None, 'pScripRefKey': 'TCS', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 777859200.0, 'pMaturityDate': None, 'pListingDate': 777859200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '3731.35-4560.45', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 21708, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 456045.0, 'dLowPriceRange': 373135.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 21708}, {'pSymbol': 12825, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-BL', 'pOptionType': None, 'pScripRefKey': 'TCS-BL', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '4104.45-4187.35', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071130.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 418735.0, 'dLowPriceRange': 410445.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}, {'pSymbol': 12897, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-BL', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR-BL', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '540.85-551.75', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071122.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 55175.0, 'dLowPriceRange': 54085.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}]
INFO 2024-11-18 07:22:23,995 ksapi Raw search result: [{'pSymbol': '126118', 'pGroup': 'XX', 'pExchSeg': 'nse_fo', 'pInstType': 'OPTSTK', 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS24NOV4100CE', 'pOptionType': 'ce', 'pScripRefKey': 'TCS28NOV244100.00CE', 'pISIN': None, 'pAssetCode': 11536.0, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': None, 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 175, 'lExpiryDate': 1417271400, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': 410000.0, 'pExchange': 'NSE', 'pInstName': 'OPTSTK', 'pExpiryDate': '29Nov2024', 'pIssueDate': 1409443200.0, 'pMaturityDate': 1417271400.0, 'pListingDate': 1409443200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '            ', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416072900.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'FO', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': None, 'pTrdUnits': None, 'pExerciseStartDate': 1417219200.0, 'pExerciseEndDate': 1417271400.0, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': 8030, 'pSettlementType': 'Physical', 'pCurrectionTime': None, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 5251, 'iLotSize': 175, 'dOpenInterest': 313600.0, 'dHighPriceRange': 17970.0, 'dLowPriceRange': 5.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 3.5, 'dMinRedemptionQty': 0, 'lFreezeQty': 5251}]
ERROR 2024-11-18 07:22:24,002 ksapi Error during search: No matching EQ symbol found for TCS in nse_fo
ERROR 2024-11-18 07:22:24,004 log Internal Server Error: /p/search
ERROR 2024-11-18 07:22:24,004 log Internal Server Error: /p/search
ERROR 2024-11-18 07:22:24,005 basehttp "GET /p/search?segment=nse_fo&expiry=29NOV2024&option_type=CE&strike_price=4100 HTTP/1.1" 500 71
ERROR 2024-11-18 07:22:24,005 basehttp "GET /p/search?segment=nse_fo&expiry=29NOV2024&option_type=CE&strike_price=4100 HTTP/1.1" 500 71
DEBUG 2024-11-18 07:22:34,160 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:22:34,441 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 07:22:34,446 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 07:22:34,639 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_fo.csv HTTP/1.1" 200 11145142
INFO 2024-11-18 07:22:36,886 ksapi Raw search result: [{'pSymbol': '126118', 'pGroup': 'XX', 'pExchSeg': 'nse_fo', 'pInstType': 'OPTSTK', 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS24NOV4100CE', 'pOptionType': 'ce', 'pScripRefKey': 'TCS28NOV244100.00CE', 'pISIN': None, 'pAssetCode': 11536.0, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': None, 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 175, 'lExpiryDate': 1417271400, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': 410000.0, 'pExchange': 'NSE', 'pInstName': 'OPTSTK', 'pExpiryDate': '29Nov2024', 'pIssueDate': 1409443200.0, 'pMaturityDate': 1417271400.0, 'pListingDate': 1409443200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '            ', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416072900.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'FO', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': None, 'pTrdUnits': None, 'pExerciseStartDate': 1417219200.0, 'pExerciseEndDate': 1417271400.0, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': 8030, 'pSettlementType': 'Physical', 'pCurrectionTime': None, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 5251, 'iLotSize': 175, 'dOpenInterest': 313600.0, 'dHighPriceRange': 17970.0, 'dLowPriceRange': 5.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 3.5, 'dMinRedemptionQty': 0, 'lFreezeQty': 5251}]
ERROR 2024-11-18 07:22:36,892 ksapi Error during search: No matching EQ symbol found for TCS in nse_fo
ERROR 2024-11-18 07:22:36,893 log Internal Server Error: /p/search
ERROR 2024-11-18 07:22:36,893 log Internal Server Error: /p/search
ERROR 2024-11-18 07:22:36,894 basehttp "GET /p/search?segment=nse_fo&expiry=29NOV2024&option_type=CE&strike_price=4100 HTTP/1.1" 500 71
ERROR 2024-11-18 07:22:36,894 basehttp "GET /p/search?segment=nse_fo&expiry=29NOV2024&option_type=CE&strike_price=4100 HTTP/1.1" 500 71
WARNING 2024-11-18 07:23:09,616 log Not Found: /p/symbol=TCS&search
WARNING 2024-11-18 07:23:09,616 log Not Found: /p/symbol=TCS&search
WARNING 2024-11-18 07:23:09,617 basehttp "GET /p/symbol=TCS&search?segment=nse_fo&expiry=29NOV2024&option_type=CE&strike_price=4100 HTTP/1.1" 404 3542
WARNING 2024-11-18 07:23:09,617 basehttp "GET /p/symbol=TCS&search?segment=nse_fo&expiry=29NOV2024&option_type=CE&strike_price=4100 HTTP/1.1" 404 3542
DEBUG 2024-11-18 07:24:28,298 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:24:28,586 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 07:24:28,591 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 07:24:28,973 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_cm.csv HTTP/1.1" 200 2758322
INFO 2024-11-18 07:24:30,449 ksapi Raw search result: {'error': [{'code': '10300', 'message': "The given segment doesn't have expire and strike price"}]}
ERROR 2024-11-18 07:24:30,450 ksapi Error during search: 'pGroup'
ERROR 2024-11-18 07:24:30,452 log Internal Server Error: /p/search
ERROR 2024-11-18 07:24:30,452 log Internal Server Error: /p/search
ERROR 2024-11-18 07:24:30,453 basehttp "GET /p/search?symbol=TCS&search?segment=nse_fo&expiry=29NOV2024&option_type=CE&strike_price=4100 HTTP/1.1" 500 34
ERROR 2024-11-18 07:24:30,453 basehttp "GET /p/search?symbol=TCS&search?segment=nse_fo&expiry=29NOV2024&option_type=CE&strike_price=4100 HTTP/1.1" 500 34
DEBUG 2024-11-18 07:24:56,739 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:24:57,084 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 07:24:57,089 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 07:24:57,338 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_fo.csv HTTP/1.1" 200 11145142
INFO 2024-11-18 07:24:59,426 ksapi Raw search result: [{'pSymbol': '126118', 'pGroup': 'XX', 'pExchSeg': 'nse_fo', 'pInstType': 'OPTSTK', 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS24NOV4100CE', 'pOptionType': 'ce', 'pScripRefKey': 'TCS28NOV244100.00CE', 'pISIN': None, 'pAssetCode': 11536.0, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': None, 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 175, 'lExpiryDate': 1417271400, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': 410000.0, 'pExchange': 'NSE', 'pInstName': 'OPTSTK', 'pExpiryDate': '29Nov2024', 'pIssueDate': 1409443200.0, 'pMaturityDate': 1417271400.0, 'pListingDate': 1409443200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '            ', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416072900.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'FO', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': None, 'pTrdUnits': None, 'pExerciseStartDate': 1417219200.0, 'pExerciseEndDate': 1417271400.0, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': 8030, 'pSettlementType': 'Physical', 'pCurrectionTime': None, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 5251, 'iLotSize': 175, 'dOpenInterest': 313600.0, 'dHighPriceRange': 17970.0, 'dLowPriceRange': 5.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 3.5, 'dMinRedemptionQty': 0, 'lFreezeQty': 5251}]
ERROR 2024-11-18 07:24:59,437 ksapi Error during search: No matching EQ symbol found for TCS in nse_fo
ERROR 2024-11-18 07:24:59,440 log Internal Server Error: /p/search
ERROR 2024-11-18 07:24:59,440 log Internal Server Error: /p/search
ERROR 2024-11-18 07:24:59,442 basehttp "GET /p/search?symbol=TCS&segment=nse_fo&expiry=29NOV2024&option_type=CE&strike_price=4100 HTTP/1.1" 500 71
ERROR 2024-11-18 07:24:59,442 basehttp "GET /p/search?symbol=TCS&segment=nse_fo&expiry=29NOV2024&option_type=CE&strike_price=4100 HTTP/1.1" 500 71
INFO 2024-11-18 07:25:10,317 basehttp "GET /p/ HTTP/1.1" 200 383
INFO 2024-11-18 07:25:10,317 basehttp "GET /p/ HTTP/1.1" 200 383
DEBUG 2024-11-18 07:25:12,061 connectionpool Starting new HTTPS connection (1): napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:25:12,957 connectionpool https://napi.kotaksecurities.com:443 "POST /oauth2/token HTTP/1.1" 200 None
DEBUG 2024-11-18 07:25:12,964 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:25:13,127 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
DEBUG 2024-11-18 07:25:13,132 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:25:13,292 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/otp/generate HTTP/1.1" 201 None
DEBUG 2024-11-18 07:25:13,297 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:25:13,434 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
INFO 2024-11-18 07:25:13,436 ksapi Login successful and client initialized.
INFO 2024-11-18 07:25:13,437 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 07:25:13,437 basehttp "GET /p/login HTTP/1.1" 200 40
DEBUG 2024-11-18 07:25:27,361 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:25:27,669 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 07:25:27,674 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 07:25:27,901 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_fo.csv HTTP/1.1" 200 11145142
INFO 2024-11-18 07:25:35,610 ksapi Raw search result: [{'pSymbol': '126118', 'pGroup': 'XX', 'pExchSeg': 'nse_fo', 'pInstType': 'OPTSTK', 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS24NOV4100CE', 'pOptionType': 'ce', 'pScripRefKey': 'TCS28NOV244100.00CE', 'pISIN': None, 'pAssetCode': 11536.0, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': None, 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 175, 'lExpiryDate': 1417271400, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': 410000.0, 'pExchange': 'NSE', 'pInstName': 'OPTSTK', 'pExpiryDate': '29Nov2024', 'pIssueDate': 1409443200.0, 'pMaturityDate': 1417271400.0, 'pListingDate': 1409443200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '            ', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416072900.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'FO', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': None, 'pTrdUnits': None, 'pExerciseStartDate': 1417219200.0, 'pExerciseEndDate': 1417271400.0, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': 8030, 'pSettlementType': 'Physical', 'pCurrectionTime': None, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 5251, 'iLotSize': 175, 'dOpenInterest': 313600.0, 'dHighPriceRange': 17970.0, 'dLowPriceRange': 5.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 3.5, 'dMinRedemptionQty': 0, 'lFreezeQty': 5251}]
ERROR 2024-11-18 07:25:35,617 ksapi Error during search: No matching EQ symbol found for TCS in nse_fo
ERROR 2024-11-18 07:25:35,619 log Internal Server Error: /p/search
ERROR 2024-11-18 07:25:35,619 log Internal Server Error: /p/search
ERROR 2024-11-18 07:25:35,620 basehttp "GET /p/search?symbol=TCS&segment=nse_fo&expiry=29NOV2024&option_type=CE&strike_price=4100 HTTP/1.1" 500 71
ERROR 2024-11-18 07:25:35,620 basehttp "GET /p/search?symbol=TCS&segment=nse_fo&expiry=29NOV2024&option_type=CE&strike_price=4100 HTTP/1.1" 500 71
DEBUG 2024-11-18 07:26:35,348 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:26:35,612 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 07:26:35,616 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 07:26:35,881 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_fo.csv HTTP/1.1" 200 11145142
INFO 2024-11-18 07:30:25,804 ksapi Raw search result: [{'pSymbol': '126118', 'pGroup': 'XX', 'pExchSeg': 'nse_fo', 'pInstType': 'OPTSTK', 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS24NOV4100CE', 'pOptionType': 'ce', 'pScripRefKey': 'TCS28NOV244100.00CE', 'pISIN': None, 'pAssetCode': 11536.0, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': None, 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 175, 'lExpiryDate': 1417271400, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': 410000.0, 'pExchange': 'NSE', 'pInstName': 'OPTSTK', 'pExpiryDate': '29Nov2024', 'pIssueDate': 1409443200.0, 'pMaturityDate': 1417271400.0, 'pListingDate': 1409443200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '            ', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416072900.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'FO', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': None, 'pTrdUnits': None, 'pExerciseStartDate': 1417219200.0, 'pExerciseEndDate': 1417271400.0, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': 8030, 'pSettlementType': 'Physical', 'pCurrectionTime': None, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 5251, 'iLotSize': 175, 'dOpenInterest': 313600.0, 'dHighPriceRange': 17970.0, 'dLowPriceRange': 5.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 3.5, 'dMinRedemptionQty': 0, 'lFreezeQty': 5251}]
ERROR 2024-11-18 07:30:25,811 ksapi Error during search: No matching EQ symbol found for TCS in nse_fo
ERROR 2024-11-18 07:30:25,813 log Internal Server Error: /p/search
ERROR 2024-11-18 07:30:25,813 log Internal Server Error: /p/search
ERROR 2024-11-18 07:30:25,814 basehttp "GET /p/search?symbol=TCS&segment=nse_fo&expiry=29NOV2024&option_type=CE&strike_price=4100 HTTP/1.1" 500 71
ERROR 2024-11-18 07:30:25,814 basehttp "GET /p/search?symbol=TCS&segment=nse_fo&expiry=29NOV2024&option_type=CE&strike_price=4100 HTTP/1.1" 500 71
INFO 2024-11-18 07:35:33,956 utils Note: NumExpr detected 64 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
INFO 2024-11-18 07:35:33,956 utils NumExpr defaulting to 8 threads.
DEBUG 2024-11-18 07:36:14,978 connectionpool Starting new HTTPS connection (1): napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:36:15,914 connectionpool https://napi.kotaksecurities.com:443 "POST /oauth2/token HTTP/1.1" 200 None
DEBUG 2024-11-18 07:36:15,921 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:36:16,167 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
DEBUG 2024-11-18 07:36:16,172 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:36:16,381 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/otp/generate HTTP/1.1" 201 None
DEBUG 2024-11-18 07:36:16,386 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:36:16,542 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
INFO 2024-11-18 07:36:16,544 ksapi Login successful and client initialized.
INFO 2024-11-18 07:36:16,547 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 07:36:16,547 basehttp "GET /p/login HTTP/1.1" 200 40
DEBUG 2024-11-18 07:36:52,554 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:36:52,968 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 07:36:52,973 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 07:36:53,270 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_fo.csv HTTP/1.1" 200 11145142
INFO 2024-11-18 07:36:57,203 ksapi Raw search result: [{'pSymbol': '126118', 'pGroup': 'XX', 'pExchSeg': 'nse_fo', 'pInstType': 'OPTSTK', 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS24NOV4100CE', 'pOptionType': 'ce', 'pScripRefKey': 'TCS28NOV244100.00CE', 'pISIN': None, 'pAssetCode': 11536.0, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': None, 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 175, 'lExpiryDate': 1417271400, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': 410000.0, 'pExchange': 'NSE', 'pInstName': 'OPTSTK', 'pExpiryDate': '29Nov2024', 'pIssueDate': 1409443200.0, 'pMaturityDate': 1417271400.0, 'pListingDate': 1409443200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '            ', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416072900.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'FO', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': None, 'pTrdUnits': None, 'pExerciseStartDate': 1417219200.0, 'pExerciseEndDate': 1417271400.0, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': 8030, 'pSettlementType': 'Physical', 'pCurrectionTime': None, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 5251, 'iLotSize': 175, 'dOpenInterest': 313600.0, 'dHighPriceRange': 17970.0, 'dLowPriceRange': 5.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 3.5, 'dMinRedemptionQty': 0, 'lFreezeQty': 5251}]
INFO 2024-11-18 07:37:20,800 basehttp "GET /p/search?symbol=TCS&segment=nse_fo&expiry=29NOV2024&option_type=CE&strike_price=4100 HTTP/1.1" 200 23
INFO 2024-11-18 07:37:20,800 basehttp "GET /p/search?symbol=TCS&segment=nse_fo&expiry=29NOV2024&option_type=CE&strike_price=4100 HTTP/1.1" 200 23
DEBUG 2024-11-18 07:38:16,198 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:38:16,522 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 07:38:16,527 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 07:38:16,714 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_fo.csv HTTP/1.1" 200 11145142
INFO 2024-11-18 07:38:18,483 ksapi Raw search result: [{'pSymbol': '42948', 'pGroup': 'XX', 'pExchSeg': 'nse_fo', 'pInstType': 'OPTIDX', 'pSymbolName': 'NIFTY', 'pTrdSymbol': 'NIFTY24NOV24000CE', 'pOptionType': 'ce', 'pScripRefKey': 'NIFTY28NOV2424000.00CE', 'pISIN': None, 'pAssetCode': 26000.0, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': None, 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 25, 'lExpiryDate': 1417271400, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': 2400000.0, 'pExchange': 'NSE', 'pInstName': 'OPTIDX', 'pExpiryDate': '29Nov2024', 'pIssueDate': 1409443200.0, 'pMaturityDate': 1417271400.0, 'pListingDate': 1409443200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '            ', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416072886.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'FO', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': None, 'pTrdUnits': None, 'pExerciseStartDate': 1417219200.0, 'pExerciseEndDate': 1417271400.0, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': 6960, 'pSettlementType': 'Cash', 'pCurrectionTime': None, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 1801, 'iLotSize': 25, 'dOpenInterest': 3751220.0, 'dHighPriceRange': 23175.0, 'dLowPriceRange': 5.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 1000000000000.0, 'dExposureMargin': 2.0, 'dMinRedemptionQty': 0, 'lFreezeQty': 1801}]
INFO 2024-11-18 07:38:18,490 basehttp "GET /p/search?symbol=NIFTY&segment=nse_fo&expiry=29NOV2024&option_type=CE&strike_price=24000 HTTP/1.1" 200 22
INFO 2024-11-18 07:38:18,490 basehttp "GET /p/search?symbol=NIFTY&segment=nse_fo&expiry=29NOV2024&option_type=CE&strike_price=24000 HTTP/1.1" 200 22
INFO 2024-11-18 07:42:20,295 utils Note: NumExpr detected 64 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
INFO 2024-11-18 07:42:20,296 utils NumExpr defaulting to 8 threads.
ERROR 2024-11-18 07:42:29,961 log Internal Server Error: /p/getquote
ERROR 2024-11-18 07:42:29,961 log Internal Server Error: /p/getquote
ERROR 2024-11-18 07:42:29,963 basehttp "GET /p/getquote?symbol=NIFTY&segment=nse_fo&expiry=29NOV2024&option_type=CE&strike_price=24000&index=True HTTP/1.1" 500 72
ERROR 2024-11-18 07:42:29,963 basehttp "GET /p/getquote?symbol=NIFTY&segment=nse_fo&expiry=29NOV2024&option_type=CE&strike_price=24000&index=True HTTP/1.1" 500 72
DEBUG 2024-11-18 07:42:39,109 connectionpool Starting new HTTPS connection (1): napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:42:40,093 connectionpool https://napi.kotaksecurities.com:443 "POST /oauth2/token HTTP/1.1" 200 None
DEBUG 2024-11-18 07:42:40,100 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:42:40,279 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
DEBUG 2024-11-18 07:42:40,285 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:42:40,446 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/otp/generate HTTP/1.1" 201 None
DEBUG 2024-11-18 07:42:40,450 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:42:40,600 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
INFO 2024-11-18 07:42:40,603 ksapi Login successful and client initialized.
INFO 2024-11-18 07:42:40,603 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 07:42:40,603 basehttp "GET /p/login HTTP/1.1" 200 40
DEBUG 2024-11-18 07:43:38,947 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:43:39,288 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 07:43:39,294 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 07:43:39,543 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_fo.csv HTTP/1.1" 200 11145142
INFO 2024-11-18 07:43:42,001 ksapi Raw search result: [{'pSymbol': '42948', 'pGroup': 'XX', 'pExchSeg': 'nse_fo', 'pInstType': 'OPTIDX', 'pSymbolName': 'NIFTY', 'pTrdSymbol': 'NIFTY24NOV24000CE', 'pOptionType': 'ce', 'pScripRefKey': 'NIFTY28NOV2424000.00CE', 'pISIN': None, 'pAssetCode': 26000.0, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': None, 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 25, 'lExpiryDate': 1417271400, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': 2400000.0, 'pExchange': 'NSE', 'pInstName': 'OPTIDX', 'pExpiryDate': '29Nov2024', 'pIssueDate': 1409443200.0, 'pMaturityDate': 1417271400.0, 'pListingDate': 1409443200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '            ', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416072886.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'FO', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': None, 'pTrdUnits': None, 'pExerciseStartDate': 1417219200.0, 'pExerciseEndDate': 1417271400.0, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': 6960, 'pSettlementType': 'Cash', 'pCurrectionTime': None, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 1801, 'iLotSize': 25, 'dOpenInterest': 3751220.0, 'dHighPriceRange': 23175.0, 'dLowPriceRange': 5.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 1000000000000.0, 'dExposureMargin': 2.0, 'dMinRedemptionQty': 0, 'lFreezeQty': 1801}]
INFO 2024-11-18 07:45:40,320 utils Note: NumExpr detected 64 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
INFO 2024-11-18 07:45:40,321 utils NumExpr defaulting to 8 threads.
ERROR 2024-11-18 07:45:50,373 log Internal Server Error: /p/getquote
ERROR 2024-11-18 07:45:50,373 log Internal Server Error: /p/getquote
ERROR 2024-11-18 07:45:50,375 basehttp "GET /p/getquote?symbol=NIFTY&segment=nse_fo&expiry=29NOV2024&option_type=CE&strike_price=24000&index=True HTTP/1.1" 500 72
ERROR 2024-11-18 07:45:50,375 basehttp "GET /p/getquote?symbol=NIFTY&segment=nse_fo&expiry=29NOV2024&option_type=CE&strike_price=24000&index=True HTTP/1.1" 500 72
DEBUG 2024-11-18 07:47:31,262 connectionpool Starting new HTTPS connection (1): napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:47:32,127 connectionpool https://napi.kotaksecurities.com:443 "POST /oauth2/token HTTP/1.1" 200 None
DEBUG 2024-11-18 07:47:32,134 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:47:32,292 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
DEBUG 2024-11-18 07:47:32,297 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:47:32,461 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/otp/generate HTTP/1.1" 201 None
DEBUG 2024-11-18 07:47:32,466 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:47:32,607 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
INFO 2024-11-18 07:47:32,609 ksapi Login successful and client initialized.
INFO 2024-11-18 07:47:32,610 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 07:47:32,610 basehttp "GET /p/login HTTP/1.1" 200 40
DEBUG 2024-11-18 07:48:05,280 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:48:05,617 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 07:48:05,623 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 07:48:06,092 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_fo.csv HTTP/1.1" 200 11145142
INFO 2024-11-18 07:48:08,952 ksapi Raw search result: [{'pSymbol': '42948', 'pGroup': 'XX', 'pExchSeg': 'nse_fo', 'pInstType': 'OPTIDX', 'pSymbolName': 'NIFTY', 'pTrdSymbol': 'NIFTY24NOV24000CE', 'pOptionType': 'ce', 'pScripRefKey': 'NIFTY28NOV2424000.00CE', 'pISIN': None, 'pAssetCode': 26000.0, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': None, 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 25, 'lExpiryDate': 1417271400, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': 2400000.0, 'pExchange': 'NSE', 'pInstName': 'OPTIDX', 'pExpiryDate': '29Nov2024', 'pIssueDate': 1409443200.0, 'pMaturityDate': 1417271400.0, 'pListingDate': 1409443200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '            ', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416072886.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'FO', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': None, 'pTrdUnits': None, 'pExerciseStartDate': 1417219200.0, 'pExerciseEndDate': 1417271400.0, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': 6960, 'pSettlementType': 'Cash', 'pCurrectionTime': None, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 1801, 'iLotSize': 25, 'dOpenInterest': 3751220.0, 'dHighPriceRange': 23175.0, 'dLowPriceRange': 5.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 1000000000000.0, 'dExposureMargin': 2.0, 'dMinRedemptionQty': 0, 'lFreezeQty': 1801}]
INFO 2024-11-18 07:49:37,254 utils Note: NumExpr detected 64 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
INFO 2024-11-18 07:49:37,255 utils NumExpr defaulting to 8 threads.
ERROR 2024-11-18 07:49:44,610 log Internal Server Error: /p/getquote
ERROR 2024-11-18 07:49:44,610 log Internal Server Error: /p/getquote
ERROR 2024-11-18 07:49:44,611 basehttp "GET /p/getquote?symbol=NIFTY&segment=nse_fo&expiry=29NOV2024&option_type=CE&strike_price=24000&index=True HTTP/1.1" 500 72
ERROR 2024-11-18 07:49:44,611 basehttp "GET /p/getquote?symbol=NIFTY&segment=nse_fo&expiry=29NOV2024&option_type=CE&strike_price=24000&index=True HTTP/1.1" 500 72
INFO 2024-11-18 07:50:40,735 utils Note: NumExpr detected 64 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
INFO 2024-11-18 07:50:40,735 utils NumExpr defaulting to 8 threads.
DEBUG 2024-11-18 07:50:43,631 connectionpool Starting new HTTPS connection (1): napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:50:44,657 connectionpool https://napi.kotaksecurities.com:443 "POST /oauth2/token HTTP/1.1" 200 None
DEBUG 2024-11-18 07:50:44,664 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:50:44,979 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
DEBUG 2024-11-18 07:50:44,984 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:50:45,174 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/otp/generate HTTP/1.1" 201 None
DEBUG 2024-11-18 07:50:45,179 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:50:45,327 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
INFO 2024-11-18 07:50:45,330 ksapi Login successful and client initialized.
INFO 2024-11-18 07:50:45,332 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 07:50:45,332 basehttp "GET /p/login HTTP/1.1" 200 40
DEBUG 2024-11-18 07:50:53,024 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:50:53,335 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 07:50:53,340 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 07:50:53,668 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_fo.csv HTTP/1.1" 200 11145142
INFO 2024-11-18 07:50:55,952 ksapi Raw search result: [{'pSymbol': '42948', 'pGroup': 'XX', 'pExchSeg': 'nse_fo', 'pInstType': 'OPTIDX', 'pSymbolName': 'NIFTY', 'pTrdSymbol': 'NIFTY24NOV24000CE', 'pOptionType': 'ce', 'pScripRefKey': 'NIFTY28NOV2424000.00CE', 'pISIN': None, 'pAssetCode': 26000.0, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': None, 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 25, 'lExpiryDate': 1417271400, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': 2400000.0, 'pExchange': 'NSE', 'pInstName': 'OPTIDX', 'pExpiryDate': '29Nov2024', 'pIssueDate': 1409443200.0, 'pMaturityDate': 1417271400.0, 'pListingDate': 1409443200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '            ', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416072886.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'FO', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': None, 'pTrdUnits': None, 'pExerciseStartDate': 1417219200.0, 'pExerciseEndDate': 1417271400.0, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': 6960, 'pSettlementType': 'Cash', 'pCurrectionTime': None, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 1801, 'iLotSize': 25, 'dOpenInterest': 3751220.0, 'dHighPriceRange': 23175.0, 'dLowPriceRange': 5.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 1000000000000.0, 'dExposureMargin': 2.0, 'dMinRedemptionQty': 0, 'lFreezeQty': 1801}]
DEBUG 2024-11-18 07:52:02,550 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:52:02,879 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 07:52:02,884 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 07:52:03,122 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_fo.csv HTTP/1.1" 200 11145142
INFO 2024-11-18 07:52:05,788 ksapi Raw search result: [{'pSymbol': '42948', 'pGroup': 'XX', 'pExchSeg': 'nse_fo', 'pInstType': 'OPTIDX', 'pSymbolName': 'NIFTY', 'pTrdSymbol': 'NIFTY24NOV24000CE', 'pOptionType': 'ce', 'pScripRefKey': 'NIFTY28NOV2424000.00CE', 'pISIN': None, 'pAssetCode': 26000.0, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': None, 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 25, 'lExpiryDate': 1417271400, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': 2400000.0, 'pExchange': 'NSE', 'pInstName': 'OPTIDX', 'pExpiryDate': '29Nov2024', 'pIssueDate': 1409443200.0, 'pMaturityDate': 1417271400.0, 'pListingDate': 1409443200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '            ', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416072886.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'FO', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': None, 'pTrdUnits': None, 'pExerciseStartDate': 1417219200.0, 'pExerciseEndDate': 1417271400.0, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': 6960, 'pSettlementType': 'Cash', 'pCurrectionTime': None, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 1801, 'iLotSize': 25, 'dOpenInterest': 3751220.0, 'dHighPriceRange': 23175.0, 'dLowPriceRange': 5.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 1000000000000.0, 'dExposureMargin': 2.0, 'dMinRedemptionQty': 0, 'lFreezeQty': 1801}]
INFO 2024-11-18 07:52:11,922 ksapi Subprocess output: Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[Res]: {'type': 'quotes', 'data': [{'last_traded_time': '18/11/2024 07:52:10', 'volume': '9600425', 'last_traded_price': '46.65', 'last_traded_quantity': '100', 'total_buy_quantity': '128625', 'total_sell_quantity': '179125', 'buy_price': '46.35', 'sell_price': '46.60', 'buy_quantity': '400', 'average_price': '50.40', 'lower_circuit_limit': '0.05', 'upper_circuit_limit': '231.75', 'open_interest': '3909875', 'multiplier': '1', 'precision': '2', 'change': '-22.95', 'net_change_percentage': '-32.97', 'total_traded_value': '483861420.00', 'instrument_token': '42948', 'exchange_segment': 'nse_fo', 'trading_symbol': 'NIFTY24NOV24000CE', 'request_type': 'SNAP', 'ohlc': {'open': '80.60', 'high': '81.45', 'low': '35.50', 'close': '69.60'}}]}
[Res]: Full response dumped to /home/anupamvm/Projects/py/mCube-V2/mcube/ksneo/quotes_response.csv

INFO 2024-11-18 07:52:11,924 basehttp "GET /p/getquote?symbol=NIFTY&segment=nse_fo&expiry=29NOV2024&option_type=CE&strike_price=24000&index=False HTTP/1.1" 200 26
INFO 2024-11-18 07:52:11,924 basehttp "GET /p/getquote?symbol=NIFTY&segment=nse_fo&expiry=29NOV2024&option_type=CE&strike_price=24000&index=False HTTP/1.1" 200 26
DEBUG 2024-11-18 07:52:45,079 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:52:45,388 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 07:52:45,393 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 07:52:45,616 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_fo.csv HTTP/1.1" 200 11145142
INFO 2024-11-18 07:52:48,229 ksapi Raw search result: [{'pSymbol': '42948', 'pGroup': 'XX', 'pExchSeg': 'nse_fo', 'pInstType': 'OPTIDX', 'pSymbolName': 'NIFTY', 'pTrdSymbol': 'NIFTY24NOV24000CE', 'pOptionType': 'ce', 'pScripRefKey': 'NIFTY28NOV2424000.00CE', 'pISIN': None, 'pAssetCode': 26000.0, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': None, 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 25, 'lExpiryDate': 1417271400, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': 2400000.0, 'pExchange': 'NSE', 'pInstName': 'OPTIDX', 'pExpiryDate': '29Nov2024', 'pIssueDate': 1409443200.0, 'pMaturityDate': 1417271400.0, 'pListingDate': 1409443200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '            ', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416072886.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'FO', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': None, 'pTrdUnits': None, 'pExerciseStartDate': 1417219200.0, 'pExerciseEndDate': 1417271400.0, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': 6960, 'pSettlementType': 'Cash', 'pCurrectionTime': None, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 1801, 'iLotSize': 25, 'dOpenInterest': 3751220.0, 'dHighPriceRange': 23175.0, 'dLowPriceRange': 5.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 1000000000000.0, 'dExposureMargin': 2.0, 'dMinRedemptionQty': 0, 'lFreezeQty': 1801}]
INFO 2024-11-18 07:52:55,299 ksapi Subprocess output: Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[Res]: {'type': 'quotes', 'data': [{'last_traded_time': '18/11/2024 07:52:51', 'volume': '9605075', 'last_traded_price': '47.70', 'last_traded_quantity': '25', 'total_buy_quantity': '131050', 'total_sell_quantity': '179200', 'buy_price': '47.45', 'sell_price': '47.65', 'buy_quantity': '350', 'average_price': '50.40', 'lower_circuit_limit': '0.05', 'upper_circuit_limit': '231.75', 'open_interest': '3909875', 'multiplier': '1', 'precision': '2', 'change': '-21.90', 'net_change_percentage': '-31.47', 'total_traded_value': '484095780.00', 'instrument_token': '42948', 'exchange_segment': 'nse_fo', 'trading_symbol': 'NIFTY24NOV24000CE', 'request_type': 'SNAP', 'ohlc': {'open': '80.60', 'high': '81.45', 'low': '35.50', 'close': '69.60'}}]}
[Res]: Full response dumped to /home/anupamvm/Projects/py/mCube-V2/mcube/ksneo/quotes_response.csv

INFO 2024-11-18 07:52:55,303 basehttp "GET /p/getquote?symbol=NIFTY&segment=nse_fo&expiry=29NOV2024&option_type=CE&strike_price=24000&index=False HTTP/1.1" 200 26
INFO 2024-11-18 07:52:55,303 basehttp "GET /p/getquote?symbol=NIFTY&segment=nse_fo&expiry=29NOV2024&option_type=CE&strike_price=24000&index=False HTTP/1.1" 200 26
INFO 2024-11-18 07:53:10,951 ksapi Subprocess output: Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[OnError]: Connection to remote host was lost.

DEBUG 2024-11-18 07:53:21,972 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:53:22,456 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 07:53:22,460 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 07:53:22,674 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_fo.csv HTTP/1.1" 200 11145142
INFO 2024-11-18 07:53:25,335 ksapi Raw search result: [{'pSymbol': '42948', 'pGroup': 'XX', 'pExchSeg': 'nse_fo', 'pInstType': 'OPTIDX', 'pSymbolName': 'NIFTY', 'pTrdSymbol': 'NIFTY24NOV24000CE', 'pOptionType': 'ce', 'pScripRefKey': 'NIFTY28NOV2424000.00CE', 'pISIN': None, 'pAssetCode': 26000.0, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': None, 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 25, 'lExpiryDate': 1417271400, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': 2400000.0, 'pExchange': 'NSE', 'pInstName': 'OPTIDX', 'pExpiryDate': '29Nov2024', 'pIssueDate': 1409443200.0, 'pMaturityDate': 1417271400.0, 'pListingDate': 1409443200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '            ', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416072886.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'FO', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': None, 'pTrdUnits': None, 'pExerciseStartDate': 1417219200.0, 'pExerciseEndDate': 1417271400.0, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': 6960, 'pSettlementType': 'Cash', 'pCurrectionTime': None, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 1801, 'iLotSize': 25, 'dOpenInterest': 3751220.0, 'dHighPriceRange': 23175.0, 'dLowPriceRange': 5.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 1000000000000.0, 'dExposureMargin': 2.0, 'dMinRedemptionQty': 0, 'lFreezeQty': 1801}]
INFO 2024-11-18 07:53:27,552 ksapi Subprocess output: Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[Res]: {'type': 'quotes', 'data': [{'last_traded_time': '18/11/2024 07:53:26', 'volume': '9611925', 'last_traded_price': '45.60', 'last_traded_quantity': '25', 'total_buy_quantity': '125575', 'total_sell_quantity': '179175', 'buy_price': '45.55', 'sell_price': '45.70', 'buy_quantity': '925', 'average_price': '50.40', 'lower_circuit_limit': '0.05', 'upper_circuit_limit': '231.75', 'open_interest': '3909875', 'multiplier': '1', 'precision': '2', 'change': '-24.00', 'net_change_percentage': '-34.48', 'total_traded_value': '484441020.00', 'instrument_token': '42948', 'exchange_segment': 'nse_fo', 'trading_symbol': 'NIFTY24NOV24000CE', 'request_type': 'SNAP', 'ohlc': {'open': '80.60', 'high': '81.45', 'low': '35.50', 'close': '69.60'}}]}
[Res]: Full response dumped to /home/anupamvm/Projects/py/mCube-V2/mcube/ksneo/quotes_response.csv

INFO 2024-11-18 07:53:27,553 basehttp "GET /p/getquote?symbol=NIFTY&segment=nse_fo&expiry=29NOV2024&option_type=CE&strike_price=24000&index=False HTTP/1.1" 200 26
INFO 2024-11-18 07:53:27,553 basehttp "GET /p/getquote?symbol=NIFTY&segment=nse_fo&expiry=29NOV2024&option_type=CE&strike_price=24000&index=False HTTP/1.1" 200 26
DEBUG 2024-11-18 07:54:45,744 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:54:46,037 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 07:54:46,041 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 07:54:46,329 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_fo.csv HTTP/1.1" 200 11145142
INFO 2024-11-18 07:54:48,818 ksapi Raw search result: [{'pSymbol': '126116', 'pGroup': 'XX', 'pExchSeg': 'nse_fo', 'pInstType': 'OPTSTK', 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS24NOV4000CE', 'pOptionType': 'ce', 'pScripRefKey': 'TCS28NOV244000.00CE', 'pISIN': None, 'pAssetCode': 11536.0, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': None, 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 175, 'lExpiryDate': 1417271400, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': 400000.0, 'pExchange': 'NSE', 'pInstName': 'OPTSTK', 'pExpiryDate': '29Nov2024', 'pIssueDate': 1409443200.0, 'pMaturityDate': 1417271400.0, 'pListingDate': 1409443200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '            ', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416072900.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'FO', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': None, 'pTrdUnits': None, 'pExerciseStartDate': 1417219200.0, 'pExerciseEndDate': 1417271400.0, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': 15865, 'pSettlementType': 'Physical', 'pCurrectionTime': None, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 5251, 'iLotSize': 175, 'dOpenInterest': 182350.0, 'dHighPriceRange': 28805.0, 'dLowPriceRange': 2925.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 3.5, 'dMinRedemptionQty': 0, 'lFreezeQty': 5251}]
INFO 2024-11-18 07:54:51,055 ksapi Subprocess output: Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[Res]: {'type': 'quotes', 'data': [{'last_traded_time': '18/11/2024 07:54:41', 'volume': '2005500', 'last_traded_price': '61.30', 'last_traded_quantity': '175', 'total_buy_quantity': '133875', 'total_sell_quantity': '70700', 'buy_price': '61.25', 'sell_price': '61.75', 'buy_quantity': '525', 'average_price': '66.28', 'lower_circuit_limit': '0.05', 'upper_circuit_limit': '409.05', 'open_interest': '364000', 'multiplier': '1', 'precision': '2', 'change': '-97.35', 'net_change_percentage': '-61.36', 'total_traded_value': '132924540.00', 'instrument_token': '126116', 'exchange_segment': 'nse_fo', 'trading_symbol': 'TCS24NOV4000CE', 'request_type': 'SNAP', 'ohlc': {'open': '185.00', 'high': '185.80', 'low': '51.15', 'close': '158.65'}}]}
[Res]: Full response dumped to /home/anupamvm/Projects/py/mCube-V2/mcube/ksneo/quotes_response.csv

INFO 2024-11-18 07:54:51,056 basehttp "GET /p/getquote?symbol=TCS&segment=nse_fo&expiry=29NOV2024&option_type=CE&strike_price=4000&index=False HTTP/1.1" 200 26
INFO 2024-11-18 07:54:51,056 basehttp "GET /p/getquote?symbol=TCS&segment=nse_fo&expiry=29NOV2024&option_type=CE&strike_price=4000&index=False HTTP/1.1" 200 26
INFO 2024-11-18 07:55:13,618 utils Note: NumExpr detected 64 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
INFO 2024-11-18 07:55:13,618 utils NumExpr defaulting to 8 threads.
ERROR 2024-11-18 07:55:46,327 log Internal Server Error: /p/getquote
ERROR 2024-11-18 07:55:46,327 log Internal Server Error: /p/getquote
ERROR 2024-11-18 07:55:46,329 basehttp "GET /p/getquote?symbol=TCS&segment=nse_cm&index=False HTTP/1.1" 500 72
ERROR 2024-11-18 07:55:46,329 basehttp "GET /p/getquote?symbol=TCS&segment=nse_cm&index=False HTTP/1.1" 500 72
DEBUG 2024-11-18 07:55:52,969 connectionpool Starting new HTTPS connection (1): napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:55:53,848 connectionpool https://napi.kotaksecurities.com:443 "POST /oauth2/token HTTP/1.1" 200 None
DEBUG 2024-11-18 07:55:53,855 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:55:54,178 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
DEBUG 2024-11-18 07:55:54,183 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:55:54,368 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/otp/generate HTTP/1.1" 201 None
DEBUG 2024-11-18 07:55:54,372 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:55:54,519 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
INFO 2024-11-18 07:55:54,521 ksapi Login successful and client initialized.
INFO 2024-11-18 07:55:54,522 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 07:55:54,522 basehttp "GET /p/login HTTP/1.1" 200 40
DEBUG 2024-11-18 07:55:56,801 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:55:57,079 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 07:55:57,084 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 07:55:57,332 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_cm.csv HTTP/1.1" 200 2758322
INFO 2024-11-18 07:55:57,898 ksapi Raw search result: [{'pSymbol': 25946, 'pGroup': 'N0', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': '835TCSL27', 'pTrdSymbol': '835TCSL27-N0', 'pOptionType': None, 'pScripRefKey': '835TCSL27-N0', 'pISIN': 'INE729N07065', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TVS CREDIT 8.35% 2027', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 1, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 1414800000.0, 'pMaturityDate': None, 'pListingDate': 1414800000.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '80000.00-120000.00', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416069605.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 10000000.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 1000, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 12000000.0, 'dLowPriceRange': 8000000.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 50000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 1000}, {'pSymbol': 3799, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-EQ', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 484531200.0, 'pMaturityDate': None, 'pListingDate': 0.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '437.05-655.55', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 183021, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 65555.0, 'dLowPriceRange': 43705.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 183021}, {'pSymbol': 11536, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-EQ', 'pOptionType': None, 'pScripRefKey': 'TCS', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 777859200.0, 'pMaturityDate': None, 'pListingDate': 777859200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '3731.35-4560.45', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 21708, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 456045.0, 'dLowPriceRange': 373135.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 21708}, {'pSymbol': 12825, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-BL', 'pOptionType': None, 'pScripRefKey': 'TCS-BL', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '4104.45-4187.35', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071130.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 418735.0, 'dLowPriceRange': 410445.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}, {'pSymbol': 12897, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-BL', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR-BL', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '540.85-551.75', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071122.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 55175.0, 'dLowPriceRange': 54085.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}]
INFO 2024-11-18 07:56:00,150 ksapi Subprocess output: Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[Res]: {'type': 'quotes', 'data': [{'last_traded_time': '18/11/2024 07:55:58', 'volume': '2635068', 'last_traded_price': '4007.00', 'last_traded_quantity': '77', 'total_buy_quantity': '104400', 'total_sell_quantity': '153354', 'buy_price': '4007.00', 'sell_price': '4007.05', 'buy_quantity': '422', 'average_price': '4085.25', 'lower_circuit_limit': '3731.35', 'upper_circuit_limit': '4560.45', '52week_high': '4592.25', '52week_low': '3356.05', 'multiplier': '1', 'precision': '2', 'change': '-138.90', 'net_change_percentage': '-3.35', 'total_traded_value': '10764911547.00', 'instrument_token': '11536', 'exchange_segment': 'nse_cm', 'trading_symbol': 'TCS-EQ', 'request_type': 'SNAP', 'ohlc': {'open': '4213.00', 'high': '4213.00', 'low': '3990.20', 'close': '4145.90'}}]}
[Res]: Full response dumped to /home/anupamvm/Projects/py/mCube-V2/mcube/ksneo/quotes_response.csv

INFO 2024-11-18 07:56:00,151 basehttp "GET /p/getquote?symbol=TCS&segment=nse_cm&index=False HTTP/1.1" 200 26
INFO 2024-11-18 07:56:00,151 basehttp "GET /p/getquote?symbol=TCS&segment=nse_cm&index=False HTTP/1.1" 200 26
DEBUG 2024-11-18 07:56:12,348 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:56:12,647 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 07:56:12,651 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 07:56:12,858 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_cm.csv HTTP/1.1" 200 2758322
INFO 2024-11-18 07:56:13,474 ksapi Raw search result: [{'pSymbol': 1594, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'INFY', 'pTrdSymbol': 'INFY-EQ', 'pOptionType': None, 'pScripRefKey': 'INFY', 'pISIN': 'INE009A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'INFOSYS LIMITED', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 467424000.0, 'pMaturityDate': None, 'pListingDate': 476668800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1414627200.0, 'pCreditRating': '1678.10-2051.00', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077499.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 500.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 49825, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 205100.0, 'dLowPriceRange': 167810.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 4152130000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 49825}, {'pSymbol': 12486, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'INFY', 'pTrdSymbol': 'INFY-BL', 'pOptionType': None, 'pScripRefKey': 'INFY-BL', 'pISIN': 'INE009A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'INFOSYS LIMITED', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1414627200.0, 'pCreditRating': '1845.90-1883.15', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071118.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 500.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 188315.0, 'dLowPriceRange': 184590.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 4152130000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}]
INFO 2024-11-18 07:56:15,519 ksapi Subprocess output: Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[Res]: {'type': 'quotes', 'data': [{'last_traded_time': '18/11/2024 07:56:13', 'volume': '2836194', 'last_traded_price': '1810.30', 'last_traded_quantity': '13', 'total_buy_quantity': '201433', 'total_sell_quantity': '249795', 'buy_price': '1810.05', 'sell_price': '1810.30', 'buy_quantity': '3', 'average_price': '1813.87', 'lower_circuit_limit': '1678.10', 'upper_circuit_limit': '2051.00', '52week_high': '1991.45', '52week_low': '1358.35', 'multiplier': '1', 'precision': '2', 'change': '-54.25', 'net_change_percentage': '-2.91', 'total_traded_value': '5144487210.78', 'instrument_token': '1594', 'exchange_segment': 'nse_cm', 'trading_symbol': 'INFY-EQ', 'request_type': 'SNAP', 'ohlc': {'open': '1849.20', 'high': '1849.20', 'low': '1795.00', 'close': '1864.55'}}]}
[Res]: Full response dumped to /home/anupamvm/Projects/py/mCube-V2/mcube/ksneo/quotes_response.csv

INFO 2024-11-18 07:56:15,520 basehttp "GET /p/getquote?symbol=INFY&segment=nse_cm&index=False HTTP/1.1" 200 26
INFO 2024-11-18 07:56:15,520 basehttp "GET /p/getquote?symbol=INFY&segment=nse_cm&index=False HTTP/1.1" 200 26
DEBUG 2024-11-18 07:56:20,163 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 07:56:20,450 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 07:56:20,455 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 07:56:20,667 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_cm.csv HTTP/1.1" 200 2758322
INFO 2024-11-18 07:56:23,062 ksapi Raw search result: [{'pSymbol': 10999, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'MARUTI', 'pTrdSymbol': 'MARUTI-EQ', 'pOptionType': None, 'pScripRefKey': 'MARUTI', 'pISIN': 'INE585B01010', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'MARUTI SUZUKI INDIA LTD.', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 742176000.0, 'pMaturityDate': None, 'pListingDate': 742176000.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407110400.0, 'pBookClsEndDate': 1409184000.0, 'pRecordDate': 0.0, 'pCreditRating': '9905.45-12106.65', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077499.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 500.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 8803, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 1210660.0, 'dLowPriceRange': 990545.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 314403000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 8803}, {'pSymbol': 12587, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'MARUTI', 'pTrdSymbol': 'MARUTI-BL', 'pOptionType': None, 'pScripRefKey': 'MARUTI-BL', 'pISIN': 'INE585B01010', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'MARUTI SUZUKI INDIA LTD.', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407110400.0, 'pBookClsEndDate': 1409184000.0, 'pRecordDate': 0.0, 'pCreditRating': '10896.00-11116.10', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071129.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 500.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 1111610.0, 'dLowPriceRange': 1089600.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 314403000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}]
INFO 2024-11-18 07:56:25,299 ksapi Subprocess output: Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[Res]: {'type': 'quotes', 'data': [{'last_traded_time': '18/11/2024 07:56:23', 'volume': '215930', 'last_traded_price': '11104.15', 'last_traded_quantity': '1', 'total_buy_quantity': '24371', 'total_sell_quantity': '22271', 'buy_price': '11103.75', 'sell_price': '11107.70', 'buy_quantity': '1', 'average_price': '11049.54', 'lower_circuit_limit': '9905.45', 'upper_circuit_limit': '12106.65', '52week_high': '13680.00', '52week_low': '9737.65', 'multiplier': '1', 'precision': '2', 'change': '98.10', 'net_change_percentage': '0.89', 'total_traded_value': '2385927172.20', 'instrument_token': '10999', 'exchange_segment': 'nse_cm', 'trading_symbol': 'MARUTI-EQ', 'request_type': 'SNAP', 'ohlc': {'open': '10950.00', 'high': '11182.95', 'low': '10915.00', 'close': '11006.05'}}]}
[Res]: Full response dumped to /home/anupamvm/Projects/py/mCube-V2/mcube/ksneo/quotes_response.csv

INFO 2024-11-18 07:56:25,300 basehttp "GET /p/getquote?symbol=MARUTI&segment=nse_cm&index=False HTTP/1.1" 200 26
INFO 2024-11-18 07:56:25,300 basehttp "GET /p/getquote?symbol=MARUTI&segment=nse_cm&index=False HTTP/1.1" 200 26
INFO 2024-11-18 07:57:01,566 ksapi Subprocess output: Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[Res]: {'type': 'quotes', 'data': [{'last_traded_price': '23453.9', 'prev_day_close': '23532.7', 'timestamp': '18/11/2024 07:56:59', 'high_price': '23606.8', 'low_price': '23350.4', 'open': '23605.3', 'precision': '2', 'change': '-78.8', 'net_change_percentage': '-0.33', 'instrument_token': 'Nifty 50', 'exchange_segment': 'nse_cm'}]}
[Res]: Full response dumped to /home/anupamvm/Projects/py/mCube-V2/mcube/ksneo/quotes_response.csv

INFO 2024-11-18 07:57:01,567 basehttp "GET /p/getquote?symbol=Nifty%2050&segment=nse_cm&index=True HTTP/1.1" 200 26
INFO 2024-11-18 07:57:01,567 basehttp "GET /p/getquote?symbol=Nifty%2050&segment=nse_cm&index=True HTTP/1.1" 200 26
INFO 2024-11-18 07:57:30,010 ksapi Subprocess output: Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[Res]: {'type': 'quotes', 'data': [{'last_traded_price': '23455.9', 'prev_day_close': '23532.7', 'timestamp': '18/11/2024 07:57:28', 'high_price': '23606.8', 'low_price': '23350.4', 'open': '23605.3', 'precision': '2', 'change': '-76.8', 'net_change_percentage': '-0.33', 'instrument_token': 'Nifty 50', 'exchange_segment': 'nse_cm'}]}
[Res]: Full response dumped to /home/anupamvm/Projects/py/mCube-V2/mcube/ksneo/quotes_response.csv

INFO 2024-11-18 07:57:30,011 basehttp "GET /p/getquote?symbol=Nifty%2050&segment=nse_cm&index=True HTTP/1.1" 200 26
INFO 2024-11-18 07:57:30,011 basehttp "GET /p/getquote?symbol=Nifty%2050&segment=nse_cm&index=True HTTP/1.1" 200 26
INFO 2024-11-18 09:44:40,169 utils Note: NumExpr detected 64 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
INFO 2024-11-18 09:44:40,170 utils NumExpr defaulting to 8 threads.
INFO 2024-11-18 09:44:45,994 basehttp "GET / HTTP/1.1" 200 32
INFO 2024-11-18 09:44:45,994 basehttp "GET / HTTP/1.1" 200 32
INFO 2024-11-18 09:44:49,949 basehttp "GET /admin/p/holding/ HTTP/1.1" 200 14769
INFO 2024-11-18 09:44:49,949 basehttp "GET /admin/p/holding/ HTTP/1.1" 200 14769
INFO 2024-11-18 09:44:49,984 basehttp "GET /static/admin/css/base.css HTTP/1.1" 200 20344
INFO 2024-11-18 09:44:49,984 basehttp "GET /static/admin/css/base.css HTTP/1.1" 200 20344
INFO 2024-11-18 09:44:49,987 basehttp "GET /static/admin/css/responsive.css HTTP/1.1" 200 18854
INFO 2024-11-18 09:44:49,987 basehttp "GET /static/admin/css/responsive.css HTTP/1.1" 200 18854
INFO 2024-11-18 09:44:49,992 basehttp "GET /static/admin/js/vendor/xregexp/xregexp.js HTTP/1.1" 200 232381
INFO 2024-11-18 09:44:49,992 basehttp "GET /static/admin/js/vendor/xregexp/xregexp.js HTTP/1.1" 200 232381
INFO 2024-11-18 09:44:49,996 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2024-11-18 09:44:49,996 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2024-11-18 09:44:49,997 basehttp "GET /static/admin/js/vendor/jquery/jquery.js HTTP/1.1" 200 288580
INFO 2024-11-18 09:44:49,997 basehttp "GET /static/admin/js/vendor/jquery/jquery.js HTTP/1.1" 200 288580
INFO 2024-11-18 09:44:50,075 basehttp "GET /static/admin/fonts/Roboto-Regular-webfont.woff HTTP/1.1" 200 85876
INFO 2024-11-18 09:44:50,075 basehttp "GET /static/admin/fonts/Roboto-Regular-webfont.woff HTTP/1.1" 200 85876
INFO 2024-11-18 09:44:50,081 basehttp "GET /static/admin/fonts/Roboto-Light-webfont.woff HTTP/1.1" 200 85692
INFO 2024-11-18 09:44:50,081 basehttp "GET /static/admin/fonts/Roboto-Light-webfont.woff HTTP/1.1" 200 85692
INFO 2024-11-18 09:44:50,082 basehttp "GET /static/admin/fonts/Roboto-Bold-webfont.woff HTTP/1.1" 200 86184
INFO 2024-11-18 09:44:50,082 basehttp "GET /static/admin/fonts/Roboto-Bold-webfont.woff HTTP/1.1" 200 86184
INFO 2024-11-18 09:45:01,578 basehttp "GET /admin/p/holding/ HTTP/1.1" 200 14769
INFO 2024-11-18 09:45:01,578 basehttp "GET /admin/p/holding/ HTTP/1.1" 200 14769
INFO 2024-11-18 09:45:01,606 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2024-11-18 09:45:01,606 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2024-11-18 09:47:15,335 utils Note: NumExpr detected 64 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
INFO 2024-11-18 09:47:15,336 utils NumExpr defaulting to 8 threads.
INFO 2024-11-18 09:47:35,139 basehttp "GET /admin/p/holding/ HTTP/1.1" 200 15253
INFO 2024-11-18 09:47:35,139 basehttp "GET /admin/p/holding/ HTTP/1.1" 200 15253
INFO 2024-11-18 09:47:35,167 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2024-11-18 09:47:35,167 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2024-11-18 09:47:38,057 basehttp "GET /admin/r/quote/ HTTP/1.1" 200 6997
INFO 2024-11-18 09:47:38,057 basehttp "GET /admin/r/quote/ HTTP/1.1" 200 6997
INFO 2024-11-18 09:47:38,083 basehttp "GET /static/admin/img/search.svg HTTP/1.1" 200 458
INFO 2024-11-18 09:47:38,083 basehttp "GET /static/admin/img/search.svg HTTP/1.1" 200 458
INFO 2024-11-18 09:47:38,088 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2024-11-18 09:47:38,088 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2024-11-18 09:49:47,165 basehttp "GET /admin/r/quote/ HTTP/1.1" 200 9107
INFO 2024-11-18 09:49:47,165 basehttp "GET /admin/r/quote/ HTTP/1.1" 200 9107
INFO 2024-11-18 09:49:47,194 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2024-11-18 09:49:47,194 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2024-11-18 09:49:49,208 basehttp "GET /admin/r/quote/1/change/ HTTP/1.1" 200 16332
INFO 2024-11-18 09:49:49,208 basehttp "GET /admin/r/quote/1/change/ HTTP/1.1" 200 16332
INFO 2024-11-18 09:49:49,231 basehttp "GET /static/admin/css/widgets.css HTTP/1.1" 200 11297
INFO 2024-11-18 09:49:49,231 basehttp "GET /static/admin/css/widgets.css HTTP/1.1" 200 11297
INFO 2024-11-18 09:49:49,242 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2024-11-18 09:49:49,242 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2024-11-18 09:50:56,358 basehttp "GET /admin/r/quote/ HTTP/1.1" 200 9107
INFO 2024-11-18 09:50:56,358 basehttp "GET /admin/r/quote/ HTTP/1.1" 200 9107
INFO 2024-11-18 09:50:56,387 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2024-11-18 09:50:56,387 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2024-11-18 09:50:59,103 basehttp "GET /admin/r/quote/ HTTP/1.1" 200 9107
INFO 2024-11-18 09:50:59,103 basehttp "GET /admin/r/quote/ HTTP/1.1" 200 9107
INFO 2024-11-18 09:50:59,131 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2024-11-18 09:50:59,131 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2024-11-18 09:56:24,966 basehttp "GET /admin/r/quote/ HTTP/1.1" 200 9107
INFO 2024-11-18 09:56:24,966 basehttp "GET /admin/r/quote/ HTTP/1.1" 200 9107
INFO 2024-11-18 09:56:24,997 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2024-11-18 09:56:24,997 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2024-11-18 09:58:37,053 basehttp "GET /admin/r/quote/ HTTP/1.1" 200 9580
INFO 2024-11-18 09:58:37,053 basehttp "GET /admin/r/quote/ HTTP/1.1" 200 9580
INFO 2024-11-18 09:58:37,084 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2024-11-18 09:58:37,084 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2024-11-18 09:59:12,455 basehttp "GET /admin/r/quote/ HTTP/1.1" 200 9988
INFO 2024-11-18 09:59:12,455 basehttp "GET /admin/r/quote/ HTTP/1.1" 200 9988
INFO 2024-11-18 09:59:12,482 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2024-11-18 09:59:12,482 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3343
DEBUG 2024-11-18 10:01:04,020 connectionpool Starting new HTTPS connection (1): napi.kotaksecurities.com:443
DEBUG 2024-11-18 10:01:04,214 connectionpool https://napi.kotaksecurities.com:443 "POST /oauth2/token HTTP/1.1" 200 None
DEBUG 2024-11-18 10:01:04,222 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 10:01:04,418 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
DEBUG 2024-11-18 10:01:04,423 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 10:01:04,607 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/otp/generate HTTP/1.1" 201 None
DEBUG 2024-11-18 10:01:04,612 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 10:01:04,752 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
INFO 2024-11-18 10:01:04,754 ksapi Login successful and client initialized.
INFO 2024-11-18 10:01:04,755 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 10:01:04,755 basehttp "GET /p/login HTTP/1.1" 200 40
DEBUG 2024-11-18 10:01:09,776 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 10:01:10,056 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 10:01:10,060 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 10:01:10,257 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_cm.csv HTTP/1.1" 200 2758322
INFO 2024-11-18 10:01:10,936 ksapi Raw search result: [{'pSymbol': 25946, 'pGroup': 'N0', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': '835TCSL27', 'pTrdSymbol': '835TCSL27-N0', 'pOptionType': None, 'pScripRefKey': '835TCSL27-N0', 'pISIN': 'INE729N07065', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TVS CREDIT 8.35% 2027', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 1, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 1414800000.0, 'pMaturityDate': None, 'pListingDate': 1414800000.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '80000.00-120000.00', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416069605.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 10000000.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 1000, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 12000000.0, 'dLowPriceRange': 8000000.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 50000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 1000}, {'pSymbol': 3799, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-EQ', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 484531200.0, 'pMaturityDate': None, 'pListingDate': 0.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '437.05-655.55', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 183021, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 65555.0, 'dLowPriceRange': 43705.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 183021}, {'pSymbol': 11536, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-EQ', 'pOptionType': None, 'pScripRefKey': 'TCS', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 777859200.0, 'pMaturityDate': None, 'pListingDate': 777859200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '3731.35-4560.45', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 21708, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 456045.0, 'dLowPriceRange': 373135.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 21708}, {'pSymbol': 12825, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-BL', 'pOptionType': None, 'pScripRefKey': 'TCS-BL', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '4104.45-4187.35', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071130.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 418735.0, 'dLowPriceRange': 410445.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}, {'pSymbol': 12897, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-BL', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR-BL', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '540.85-551.75', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071122.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 55175.0, 'dLowPriceRange': 54085.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}]
INFO 2024-11-18 10:01:10,945 basehttp "GET /p/search HTTP/1.1" 200 22
INFO 2024-11-18 10:01:10,945 basehttp "GET /p/search HTTP/1.1" 200 22
INFO 2024-11-18 10:01:27,606 basehttp "GET /admin/r/quote/ HTTP/1.1" 200 10388
INFO 2024-11-18 10:01:27,606 basehttp "GET /admin/r/quote/ HTTP/1.1" 200 10388
INFO 2024-11-18 10:01:27,633 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2024-11-18 10:01:27,633 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2024-11-18 10:02:02,036 basehttp "GET /p/ HTTP/1.1" 200 383
INFO 2024-11-18 10:02:02,036 basehttp "GET /p/ HTTP/1.1" 200 383
DEBUG 2024-11-18 10:02:04,071 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 10:02:04,200 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 401 None
INFO 2024-11-18 10:02:04,202 ksapi Raw search result: {'Error': KeyError('data'), 'message': 'Exchange Segment is not available'}
ERROR 2024-11-18 10:02:04,203 ksapi Error during search: 'pGroup'
ERROR 2024-11-18 10:02:04,204 log Internal Server Error: /p/getquote
ERROR 2024-11-18 10:02:04,204 log Internal Server Error: /p/getquote
ERROR 2024-11-18 10:02:04,204 basehttp "GET /p/getquote HTTP/1.1" 500 34
ERROR 2024-11-18 10:02:04,204 basehttp "GET /p/getquote HTTP/1.1" 500 34
DEBUG 2024-11-18 10:02:09,432 connectionpool Starting new HTTPS connection (1): napi.kotaksecurities.com:443
DEBUG 2024-11-18 10:02:09,865 connectionpool https://napi.kotaksecurities.com:443 "POST /oauth2/token HTTP/1.1" 200 None
DEBUG 2024-11-18 10:02:09,871 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 10:02:10,039 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
DEBUG 2024-11-18 10:02:10,044 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 10:02:10,213 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/otp/generate HTTP/1.1" 201 None
DEBUG 2024-11-18 10:02:10,217 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 10:02:10,360 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
INFO 2024-11-18 10:02:10,362 ksapi Login successful and client initialized.
INFO 2024-11-18 10:02:10,363 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 10:02:10,363 basehttp "GET /p/login HTTP/1.1" 200 40
DEBUG 2024-11-18 10:02:12,939 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 10:02:13,245 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 10:02:13,250 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 10:02:13,516 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_cm.csv HTTP/1.1" 200 2758322
INFO 2024-11-18 10:02:14,751 ksapi Raw search result: [{'pSymbol': 25946, 'pGroup': 'N0', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': '835TCSL27', 'pTrdSymbol': '835TCSL27-N0', 'pOptionType': None, 'pScripRefKey': '835TCSL27-N0', 'pISIN': 'INE729N07065', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TVS CREDIT 8.35% 2027', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 1, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 1414800000.0, 'pMaturityDate': None, 'pListingDate': 1414800000.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '80000.00-120000.00', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416069605.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 10000000.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 1000, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 12000000.0, 'dLowPriceRange': 8000000.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 50000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 1000}, {'pSymbol': 3799, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-EQ', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 484531200.0, 'pMaturityDate': None, 'pListingDate': 0.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '437.05-655.55', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 183021, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 65555.0, 'dLowPriceRange': 43705.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 183021}, {'pSymbol': 11536, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-EQ', 'pOptionType': None, 'pScripRefKey': 'TCS', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 777859200.0, 'pMaturityDate': None, 'pListingDate': 777859200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '3731.35-4560.45', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077500.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 21708, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 456045.0, 'dLowPriceRange': 373135.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 21708}, {'pSymbol': 12825, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS-BL', 'pOptionType': None, 'pScripRefKey': 'TCS-BL', 'pISIN': 'INE467B01029', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'TATA CONSULTANCY SERV LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 1413676800.0, 'pCreditRating': '4104.45-4187.35', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071130.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 100.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 418735.0, 'dLowPriceRange': 410445.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}, {'pSymbol': 12897, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'WSTCSTPAPR', 'pTrdSymbol': 'WSTCSTPAPR-BL', 'pOptionType': None, 'pScripRefKey': 'WSTCSTPAPR-BL', 'pISIN': 'INE976A01021', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'WEST COAST PAPER MILLS LT', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407456000.0, 'pBookClsEndDate': 1408060800.0, 'pRecordDate': 0.0, 'pCreditRating': '540.85-551.75', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071122.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 200.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 55175.0, 'dLowPriceRange': 54085.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 66048900.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}]
INFO 2024-11-18 10:02:17,575 ksapi Subprocess output: Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[Res]: {'type': 'quotes', 'data': [{'last_traded_time': '18/11/2024 09:59:59', 'volume': '3313813', 'last_traded_price': '4019.50', 'last_traded_quantity': '10', 'total_buy_quantity': '0', 'total_sell_quantity': '0', 'buy_price': '0.00', 'sell_price': '0.00', 'buy_quantity': '0', 'average_price': '4071.97', 'lower_circuit_limit': '3731.35', 'upper_circuit_limit': '4560.45', '52week_high': '4592.25', '52week_low': '3356.05', 'multiplier': '1', 'precision': '2', 'change': '-126.40', 'net_change_percentage': '-3.05', 'total_traded_value': '13493747121.61', 'instrument_token': '11536', 'exchange_segment': 'nse_cm', 'trading_symbol': 'TCS-EQ', 'request_type': 'SNAP', 'ohlc': {'open': '4213.00', 'high': '4213.00', 'low': '3990.20', 'close': '4145.90'}}]}
[Res]: Full response dumped to /home/anupamvm/Projects/py/mCube-V2/mcube/ksneo/quotes_response.csv
[INFO]: Quote data inserted successfully.
[Res]: Message saved to the database.

INFO 2024-11-18 10:02:17,576 basehttp "GET /p/getquote HTTP/1.1" 200 26
INFO 2024-11-18 10:02:17,576 basehttp "GET /p/getquote HTTP/1.1" 200 26
INFO 2024-11-18 10:02:25,103 basehttp "GET /admin/r/quote/ HTTP/1.1" 200 10787
INFO 2024-11-18 10:02:25,103 basehttp "GET /admin/r/quote/ HTTP/1.1" 200 10787
INFO 2024-11-18 10:02:25,130 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2024-11-18 10:02:25,130 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3343
DEBUG 2024-11-18 10:02:51,772 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 10:02:52,151 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 10:02:52,155 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 10:02:52,390 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_fo.csv HTTP/1.1" 200 11145142
INFO 2024-11-18 10:02:54,742 ksapi Raw search result: [{'pSymbol': '126116', 'pGroup': 'XX', 'pExchSeg': 'nse_fo', 'pInstType': 'OPTSTK', 'pSymbolName': 'TCS', 'pTrdSymbol': 'TCS24NOV4000CE', 'pOptionType': 'ce', 'pScripRefKey': 'TCS28NOV244000.00CE', 'pISIN': None, 'pAssetCode': 11536.0, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': None, 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 175, 'lExpiryDate': 1417271400, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': 400000.0, 'pExchange': 'NSE', 'pInstName': 'OPTSTK', 'pExpiryDate': '29Nov2024', 'pIssueDate': 1409443200.0, 'pMaturityDate': 1417271400.0, 'pListingDate': 1409443200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '            ', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416072900.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'FO', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': None, 'pTrdUnits': None, 'pExerciseStartDate': 1417219200.0, 'pExerciseEndDate': 1417271400.0, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': 15865, 'pSettlementType': 'Physical', 'pCurrectionTime': None, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 5251, 'iLotSize': 175, 'dOpenInterest': 182350.0, 'dHighPriceRange': 28805.0, 'dLowPriceRange': 2925.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 3618090000.0, 'dExposureMargin': 3.5, 'dMinRedemptionQty': 0, 'lFreezeQty': 5251}]
INFO 2024-11-18 10:02:56,985 ksapi Subprocess output: Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[Res]: {'type': 'quotes', 'data': [{'last_traded_time': '18/11/2024 09:59:57', 'volume': '2635150', 'last_traded_price': '64.90', 'last_traded_quantity': '175', 'total_buy_quantity': '139825', 'total_sell_quantity': '53900', 'buy_price': '64.45', 'sell_price': '65.00', 'buy_quantity': '350', 'average_price': '65.73', 'lower_circuit_limit': '0.05', 'upper_circuit_limit': '409.05', 'open_interest': '339500', 'multiplier': '1', 'precision': '2', 'change': '-93.75', 'net_change_percentage': '-59.09', 'total_traded_value': '173208409.50', 'instrument_token': '126116', 'exchange_segment': 'nse_fo', 'trading_symbol': 'TCS24NOV4000CE', 'request_type': 'SNAP', 'ohlc': {'open': '185.00', 'high': '185.80', 'low': '51.15', 'close': '158.65'}}]}
[Res]: Full response dumped to /home/anupamvm/Projects/py/mCube-V2/mcube/ksneo/quotes_response.csv
[INFO]: Quote data inserted successfully.
[Res]: Message saved to the database.

INFO 2024-11-18 10:02:56,986 basehttp "GET /p/getquote?symbol=TCS&segment=nse_fo&expiry=29NOV2024&option_type=CE&strike_price=4000&index=False HTTP/1.1" 200 26
INFO 2024-11-18 10:02:56,986 basehttp "GET /p/getquote?symbol=TCS&segment=nse_fo&expiry=29NOV2024&option_type=CE&strike_price=4000&index=False HTTP/1.1" 200 26
INFO 2024-11-18 10:03:01,136 basehttp "GET /admin/r/quote/ HTTP/1.1" 200 11193
INFO 2024-11-18 10:03:01,136 basehttp "GET /admin/r/quote/ HTTP/1.1" 200 11193
INFO 2024-11-18 10:03:01,165 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2024-11-18 10:03:01,165 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3343
DEBUG 2024-11-18 10:03:13,733 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 10:03:13,991 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 10:03:13,996 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 10:03:14,287 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_fo.csv HTTP/1.1" 200 11145142
INFO 2024-11-18 10:03:16,635 ksapi Raw search result: [{'pSymbol': '42948', 'pGroup': 'XX', 'pExchSeg': 'nse_fo', 'pInstType': 'OPTIDX', 'pSymbolName': 'NIFTY', 'pTrdSymbol': 'NIFTY24NOV24000CE', 'pOptionType': 'ce', 'pScripRefKey': 'NIFTY28NOV2424000.00CE', 'pISIN': None, 'pAssetCode': 26000.0, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': None, 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 25, 'lExpiryDate': 1417271400, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': 2400000.0, 'pExchange': 'NSE', 'pInstName': 'OPTIDX', 'pExpiryDate': '29Nov2024', 'pIssueDate': 1409443200.0, 'pMaturityDate': 1417271400.0, 'pListingDate': 1409443200.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 0.0, 'pBookClsEndDate': 0.0, 'pRecordDate': 0.0, 'pCreditRating': '            ', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416072886.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'FO', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': None, 'pTrdUnits': None, 'pExerciseStartDate': 1417219200.0, 'pExerciseEndDate': 1417271400.0, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': 6960, 'pSettlementType': 'Cash', 'pCurrectionTime': None, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 1801, 'iLotSize': 25, 'dOpenInterest': 3751220.0, 'dHighPriceRange': 23175.0, 'dLowPriceRange': 5.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 1000000000000.0, 'dExposureMargin': 2.0, 'dMinRedemptionQty': 0, 'lFreezeQty': 1801}]
INFO 2024-11-18 10:04:06,525 ksapi Subprocess output: Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[Res]: {'type': 'quotes', 'data': [{'last_traded_price': '23453.8', 'prev_day_close': '23532.7', 'timestamp': '18/11/2024 10:01:04', 'high_price': '23606.8', 'low_price': '23350.4', 'open': '23605.3', 'precision': '2', 'change': '-78.9', 'net_change_percentage': '-0.34', 'instrument_token': 'Nifty 50', 'exchange_segment': 'nse_cm'}]}
[Res]: Full response dumped to /home/anupamvm/Projects/py/mCube-V2/mcube/ksneo/quotes_response.csv
[INFO]: Quote data inserted successfully.
[Res]: Message saved to the database.

INFO 2024-11-18 10:04:06,526 basehttp "GET /p/getquote?symbol=Nifty%2050&segment=nse_cm&index=True HTTP/1.1" 200 26
INFO 2024-11-18 10:04:06,526 basehttp "GET /p/getquote?symbol=Nifty%2050&segment=nse_cm&index=True HTTP/1.1" 200 26
INFO 2024-11-18 10:04:11,605 basehttp "GET /admin/r/quote/ HTTP/1.1" 200 11598
INFO 2024-11-18 10:04:11,605 basehttp "GET /admin/r/quote/ HTTP/1.1" 200 11598
INFO 2024-11-18 10:04:11,634 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2024-11-18 10:04:11,634 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2024-11-18 10:04:16,149 basehttp "GET /admin/r/quote/ HTTP/1.1" 200 11598
INFO 2024-11-18 10:04:16,149 basehttp "GET /admin/r/quote/ HTTP/1.1" 200 11598
INFO 2024-11-18 10:04:16,176 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2024-11-18 10:04:16,176 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3343
DEBUG 2024-11-18 10:04:30,692 connectionpool Starting new HTTPS connection (1): napi.kotaksecurities.com:443
DEBUG 2024-11-18 10:04:31,582 connectionpool https://napi.kotaksecurities.com:443 "POST /oauth2/token HTTP/1.1" 200 None
DEBUG 2024-11-18 10:04:31,588 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 10:04:31,731 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
DEBUG 2024-11-18 10:04:31,735 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 10:04:31,939 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/otp/generate HTTP/1.1" 201 None
DEBUG 2024-11-18 10:04:31,943 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 10:04:32,079 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
INFO 2024-11-18 10:04:32,081 ksapi Login successful and client initialized.
INFO 2024-11-18 10:04:32,082 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 10:04:32,082 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 10:04:58,727 ksapi Subprocess output: Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[OnError]: Connection to remote host was lost.

INFO 2024-11-18 10:05:00,394 ksapi Subprocess output: Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[Res]: {'type': 'quotes', 'data': [{'last_traded_price': '23453.8', 'prev_day_close': '23532.7', 'timestamp': '18/11/2024 10:01:04', 'high_price': '23606.8', 'low_price': '23350.4', 'open': '23605.3', 'precision': '2', 'change': '-78.9', 'net_change_percentage': '-0.34', 'instrument_token': 'Nifty 50', 'exchange_segment': 'nse_cm'}]}
[Res]: Full response dumped to /home/anupamvm/Projects/py/mCube-V2/mcube/ksneo/quotes_response.csv
[INFO]: Quote data inserted successfully.
[Res]: Message saved to the database.

INFO 2024-11-18 10:05:00,395 basehttp "GET /p/getquote?symbol=Nifty%2050&segment=nse_cm&index=True HTTP/1.1" 200 26
INFO 2024-11-18 10:05:00,395 basehttp "GET /p/getquote?symbol=Nifty%2050&segment=nse_cm&index=True HTTP/1.1" 200 26
INFO 2024-11-18 10:05:07,334 basehttp "GET /admin/r/quote/ HTTP/1.1" 200 12005
INFO 2024-11-18 10:05:07,334 basehttp "GET /admin/r/quote/ HTTP/1.1" 200 12005
INFO 2024-11-18 10:05:07,365 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2024-11-18 10:05:07,365 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3343
DEBUG 2024-11-18 10:05:22,064 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 10:05:22,384 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 10:05:22,388 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 10:05:22,642 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_cm.csv HTTP/1.1" 200 2758322
INFO 2024-11-18 10:05:23,197 ksapi Raw search result: {'message': 'No data found with the given search information.Please try with other combinations.'}
ERROR 2024-11-18 10:05:23,198 ksapi Error during search: 'pGroup'
ERROR 2024-11-18 10:05:23,198 log Internal Server Error: /p/getquote
ERROR 2024-11-18 10:05:23,198 log Internal Server Error: /p/getquote
ERROR 2024-11-18 10:05:23,199 basehttp "GET /p/getquote?symbol=MARUTI%2050&segment=nse_cm&index=False HTTP/1.1" 500 34
ERROR 2024-11-18 10:05:23,199 basehttp "GET /p/getquote?symbol=MARUTI%2050&segment=nse_cm&index=False HTTP/1.1" 500 34
DEBUG 2024-11-18 10:05:33,188 connectionpool Starting new HTTPS connection (1): napi.kotaksecurities.com:443
DEBUG 2024-11-18 10:05:33,395 connectionpool https://napi.kotaksecurities.com:443 "POST /oauth2/token HTTP/1.1" 200 None
DEBUG 2024-11-18 10:05:33,401 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 10:05:33,552 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
DEBUG 2024-11-18 10:05:33,557 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 10:05:33,945 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/otp/generate HTTP/1.1" 201 None
DEBUG 2024-11-18 10:05:33,949 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 10:05:34,103 connectionpool https://gw-napi.kotaksecurities.com:443 "POST /login/1.0/login/v2/validate HTTP/1.1" 201 None
INFO 2024-11-18 10:05:34,105 ksapi Login successful and client initialized.
INFO 2024-11-18 10:05:34,106 basehttp "GET /p/login HTTP/1.1" 200 40
INFO 2024-11-18 10:05:34,106 basehttp "GET /p/login HTTP/1.1" 200 40
DEBUG 2024-11-18 10:05:40,423 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 10:05:40,706 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 10:05:40,710 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 10:05:40,906 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_cm.csv HTTP/1.1" 200 2758322
INFO 2024-11-18 10:05:41,489 ksapi Raw search result: {'message': 'No data found with the given search information.Please try with other combinations.'}
ERROR 2024-11-18 10:05:41,490 ksapi Error during search: 'pGroup'
ERROR 2024-11-18 10:05:41,490 log Internal Server Error: /p/getquote
ERROR 2024-11-18 10:05:41,490 log Internal Server Error: /p/getquote
ERROR 2024-11-18 10:05:41,491 basehttp "GET /p/getquote?symbol=MARUTI%2050&segment=nse_cm&index=False HTTP/1.1" 500 34
ERROR 2024-11-18 10:05:41,491 basehttp "GET /p/getquote?symbol=MARUTI%2050&segment=nse_cm&index=False HTTP/1.1" 500 34
DEBUG 2024-11-18 10:05:52,428 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 10:05:52,692 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 10:05:52,697 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 10:05:52,882 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_cm.csv HTTP/1.1" 200 2758322
INFO 2024-11-18 10:05:53,338 ksapi Raw search result: {'message': 'No data found with the given search information.Please try with other combinations.'}
ERROR 2024-11-18 10:05:53,339 ksapi Error during search: 'pGroup'
ERROR 2024-11-18 10:05:53,339 log Internal Server Error: /p/getquote
ERROR 2024-11-18 10:05:53,339 log Internal Server Error: /p/getquote
ERROR 2024-11-18 10:05:53,340 basehttp "GET /p/getquote?symbol=MARUTI%2050&segment=nse_cm&index=False HTTP/1.1" 500 34
ERROR 2024-11-18 10:05:53,340 basehttp "GET /p/getquote?symbol=MARUTI%2050&segment=nse_cm&index=False HTTP/1.1" 500 34
DEBUG 2024-11-18 10:06:08,979 connectionpool Starting new HTTPS connection (1): gw-napi.kotaksecurities.com:443
DEBUG 2024-11-18 10:06:09,374 connectionpool https://gw-napi.kotaksecurities.com:443 "GET /Files/1.0/masterscrip/v1/file-paths HTTP/1.1" 200 None
DEBUG 2024-11-18 10:06:09,378 connectionpool Starting new HTTPS connection (1): lapi.kotaksecurities.com:443
DEBUG 2024-11-18 10:06:09,581 connectionpool https://lapi.kotaksecurities.com:443 "GET /wso2-scripmaster/v1/prod/2024-11-18/transformed/nse_cm.csv HTTP/1.1" 200 2758322
INFO 2024-11-18 10:06:10,321 ksapi Raw search result: [{'pSymbol': 10999, 'pGroup': 'EQ', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'MARUTI', 'pTrdSymbol': 'MARUTI-EQ', 'pOptionType': None, 'pScripRefKey': 'MARUTI', 'pISIN': 'INE585B01010', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'MARUTI SUZUKI INDIA LTD.', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 742176000.0, 'pMaturityDate': None, 'pListingDate': 742176000.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407110400.0, 'pBookClsEndDate': 1409184000.0, 'pRecordDate': 0.0, 'pCreditRating': '9905.45-12106.65', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416077499.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 500.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': 0.0, 'pVarMargin': 20.0, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 8803, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 1210660.0, 'dLowPriceRange': 990545.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 314403000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 8803}, {'pSymbol': 12587, 'pGroup': 'BL', 'pExchSeg': 'nse_cm', 'pInstType': None, 'pSymbolName': 'MARUTI', 'pTrdSymbol': 'MARUTI-BL', 'pOptionType': None, 'pScripRefKey': 'MARUTI-BL', 'pISIN': 'INE585B01010', 'pAssetCode': None, 'pSubGroup': None, 'pCombinedSymbol': None, 'pDesc': 'MARUTI SUZUKI INDIA LTD.', 'pAmcCode': None, 'pContractId': None, 'dTickSize': 5, 'lLotSize': 1, 'lExpiryDate': -1, 'lMultiplier': -1, 'lPrecision': 2, 'dStrikePrice;': -1, 'pExchange': 'NSE', 'pInstName': None, 'pExpiryDate': None, 'pIssueDate': 816220800.0, 'pMaturityDate': None, 'pListingDate': 816220800.0, 'pNoDelStartDate': 0.0, 'pNoDelEndDate': 0.0, 'pBookClsStartDate': 1407110400.0, 'pBookClsEndDate': 1409184000.0, 'pRecordDate': 0.0, 'pCreditRating': '10896.00-11116.10', 'pReAdminDate': 0.0, 'pExpulsionDate': 0.0, 'pLocalUpdateTime': 1416071129.0, 'pDeliveryUnits': None, 'pPriceUnits': None, 'pLastTradingDate': None, 'pTenderPeridEndDate': None, 'pTenderPeridStartDate': None, 'pSellVarMargin': None, 'pBuyVarMargin': None, 'pInstrumentInfo': None, 'pRemarksText': None, 'pSegment': 'CASH', 'pNav': None, 'pNavDate': None, 'pMfAmt': None, 'pSipSecurity': None, 'pFaceValue': 500.0, 'pTrdUnits': None, 'pExerciseStartDate': None, 'pExerciseEndDate': None, 'pElmMargin': None, 'pVarMargin': None, 'pTotProposedLimitValue': None, 'pScripBasePrice': None, 'pSettlementType': 'T+1', 'pCurrectionTime': 315513000.0, 'iPermittedToTrade': 0, 'iBoardLotQty': 1, 'iMaxOrderSize': 0, 'iLotSize': 1, 'dOpenInterest': 0, 'dHighPriceRange': 1111610.0, 'dLowPriceRange': 1089600.0, 'dPriceNum': 1, 'dGenDen': 1, 'dGenNum': 1, 'dPriceQuatation': 0, 'dIssuerate': 0, 'dPriceDen': 1, 'dWarningQty': 0, 'dIssueCapital': 314403000.0, 'dExposureMargin': 0, 'dMinRedemptionQty': 0, 'lFreezeQty': 99999999}]
INFO 2024-11-18 10:06:14,555 ksapi Subprocess output: Warning!
on_close callback is not Set
on_open callback is not Set
It is recommended to set callbacks to handle your own logic on events.
[Res]: {'type': 'quotes', 'data': [{'last_traded_time': '18/11/2024 09:59:57', 'volume': '333435', 'last_traded_price': '11093.95', 'last_traded_quantity': '1', 'total_buy_quantity': '0', 'total_sell_quantity': '0', 'buy_price': '0.00', 'sell_price': '0.00', 'buy_quantity': '0', 'average_price': '11068.76', 'lower_circuit_limit': '9905.45', 'upper_circuit_limit': '12106.65', '52week_high': '13680.00', '52week_low': '9737.65', 'multiplier': '1', 'precision': '2', 'change': '87.90', 'net_change_percentage': '0.80', 'total_traded_value': '3690711990.60', 'instrument_token': '10999', 'exchange_segment': 'nse_cm', 'trading_symbol': 'MARUTI-EQ', 'request_type': 'SNAP', 'ohlc': {'open': '10950.00', 'high': '11182.95', 'low': '10915.00', 'close': '11006.05'}}]}
[Res]: Full response dumped to /home/anupamvm/Projects/py/mCube-V2/mcube/ksneo/quotes_response.csv
[INFO]: Quote data inserted successfully.
[Res]: Message saved to the database.

INFO 2024-11-18 10:06:14,556 basehttp "GET /p/getquote?symbol=MARUTI&segment=nse_cm&index=False HTTP/1.1" 200 26
INFO 2024-11-18 10:06:14,556 basehttp "GET /p/getquote?symbol=MARUTI&segment=nse_cm&index=False HTTP/1.1" 200 26
INFO 2024-11-18 10:06:17,696 basehttp "GET /admin/r/quote/ HTTP/1.1" 200 12410
INFO 2024-11-18 10:06:17,696 basehttp "GET /admin/r/quote/ HTTP/1.1" 200 12410
INFO 2024-11-18 10:06:17,724 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2024-11-18 10:06:17,724 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2024-11-18 10:06:48,990 utils Note: NumExpr detected 64 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
INFO 2024-11-18 10:06:48,991 utils NumExpr defaulting to 8 threads.
